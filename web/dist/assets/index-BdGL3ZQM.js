var A_=Object.defineProperty;var Gg=n=>{throw TypeError(n)};var M_=(n,t,s)=>t in n?A_(n,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[t]=s;var He=(n,t,s)=>M_(n,typeof t!="symbol"?t+"":t,s),fh=(n,t,s)=>t.has(n)||Gg("Cannot "+s);var x=(n,t,s)=>(fh(n,t,"read from private field"),s?s.call(n):t.get(n)),ne=(n,t,s)=>t.has(n)?Gg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,s),ee=(n,t,s,r)=>(fh(n,t,"write to private field"),r?r.call(n,s):t.set(n,s),s),V=(n,t,s)=>(fh(n,t,"access private method"),s);var hh=(n,t,s,r)=>({set _(l){ee(n,t,l,s)},get _(){return x(n,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();function D_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var dh={exports:{}},La={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yg;function k_(){if(Yg)return La;Yg=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(r,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var d in l)d!=="key"&&(u[d]=l[d])}else u=l;return l=u.ref,{$$typeof:n,type:r,key:c,ref:l!==void 0?l:null,props:u}}return La.Fragment=t,La.jsx=s,La.jsxs=s,La}var Jg;function N_(){return Jg||(Jg=1,dh.exports=k_()),dh.exports}var Y=N_(),ph={exports:{}},pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg;function j_(){if(Qg)return pe;Qg=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),w=Symbol.iterator;function S(R){return R===null||typeof R!="object"?null:(R=w&&R[w]||R["@@iterator"],typeof R=="function"?R:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,O={};function M(R,I,X){this.props=R,this.context=I,this.refs=O,this.updater=X||b}M.prototype.isReactComponent={},M.prototype.setState=function(R,I){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,I,"setState")},M.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function L(){}L.prototype=M.prototype;function N(R,I,X){this.props=R,this.context=I,this.refs=O,this.updater=X||b}var K=N.prototype=new L;K.constructor=N,E(K,M.prototype),K.isPureReactComponent=!0;var F=Array.isArray;function P(){}var J={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function W(R,I,X){var re=X.ref;return{$$typeof:n,type:R,key:I,ref:re!==void 0?re:null,props:X}}function le(R,I){return W(R.type,I,R.props)}function ie(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function he(R){var I={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(X){return I[X]})}var ve=/\/+/g;function xt(R,I){return typeof R=="object"&&R!==null&&R.key!=null?he(""+R.key):I.toString(36)}function at(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(P,P):(R.status="pending",R.then(function(I){R.status==="pending"&&(R.status="fulfilled",R.value=I)},function(I){R.status==="pending"&&(R.status="rejected",R.reason=I)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function B(R,I,X,re,de){var ge=typeof R;(ge==="undefined"||ge==="boolean")&&(R=null);var ze=!1;if(R===null)ze=!0;else switch(ge){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(R.$$typeof){case n:case t:ze=!0;break;case g:return ze=R._init,B(ze(R._payload),I,X,re,de)}}if(ze)return de=de(R),ze=re===""?"."+xt(R,0):re,F(de)?(X="",ze!=null&&(X=ze.replace(ve,"$&/")+"/"),B(de,I,X,"",function(ns){return ns})):de!=null&&(ie(de)&&(de=le(de,X+(de.key==null||R&&R.key===de.key?"":(""+de.key).replace(ve,"$&/")+"/")+ze)),I.push(de)),1;ze=0;var ct=re===""?".":re+":";if(F(R))for(var Le=0;Le<R.length;Le++)re=R[Le],ge=ct+xt(re,Le),ze+=B(re,I,X,ge,de);else if(Le=S(R),typeof Le=="function")for(R=Le.call(R),Le=0;!(re=R.next()).done;)re=re.value,ge=ct+xt(re,Le++),ze+=B(re,I,X,ge,de);else if(ge==="object"){if(typeof R.then=="function")return B(at(R),I,X,re,de);throw I=String(R),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return ze}function Q(R,I,X){if(R==null)return R;var re=[],de=0;return B(R,re,"","",function(ge){return I.call(X,ge,de++)}),re}function oe(R){if(R._status===-1){var I=R._result;I=I(),I.then(function(X){(R._status===0||R._status===-1)&&(R._status=1,R._result=X)},function(X){(R._status===0||R._status===-1)&&(R._status=2,R._result=X)}),R._status===-1&&(R._status=0,R._result=I)}if(R._status===1)return R._result.default;throw R._result}var Te=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},Oe={map:Q,forEach:function(R,I,X){Q(R,function(){I.apply(this,arguments)},X)},count:function(R){var I=0;return Q(R,function(){I++}),I},toArray:function(R){return Q(R,function(I){return I})||[]},only:function(R){if(!ie(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return pe.Activity=y,pe.Children=Oe,pe.Component=M,pe.Fragment=s,pe.Profiler=l,pe.PureComponent=N,pe.StrictMode=r,pe.Suspense=p,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,pe.__COMPILER_RUNTIME={__proto__:null,c:function(R){return J.H.useMemoCache(R)}},pe.cache=function(R){return function(){return R.apply(null,arguments)}},pe.cacheSignal=function(){return null},pe.cloneElement=function(R,I,X){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var re=E({},R.props),de=R.key;if(I!=null)for(ge in I.key!==void 0&&(de=""+I.key),I)!te.call(I,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&I.ref===void 0||(re[ge]=I[ge]);var ge=arguments.length-2;if(ge===1)re.children=X;else if(1<ge){for(var ze=Array(ge),ct=0;ct<ge;ct++)ze[ct]=arguments[ct+2];re.children=ze}return W(R.type,de,re)},pe.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:u,_context:R},R},pe.createElement=function(R,I,X){var re,de={},ge=null;if(I!=null)for(re in I.key!==void 0&&(ge=""+I.key),I)te.call(I,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(de[re]=I[re]);var ze=arguments.length-2;if(ze===1)de.children=X;else if(1<ze){for(var ct=Array(ze),Le=0;Le<ze;Le++)ct[Le]=arguments[Le+2];de.children=ct}if(R&&R.defaultProps)for(re in ze=R.defaultProps,ze)de[re]===void 0&&(de[re]=ze[re]);return W(R,ge,de)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(R){return{$$typeof:d,render:R}},pe.isValidElement=ie,pe.lazy=function(R){return{$$typeof:g,_payload:{_status:-1,_result:R},_init:oe}},pe.memo=function(R,I){return{$$typeof:m,type:R,compare:I===void 0?null:I}},pe.startTransition=function(R){var I=J.T,X={};J.T=X;try{var re=R(),de=J.S;de!==null&&de(X,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(P,Te)}catch(ge){Te(ge)}finally{I!==null&&X.types!==null&&(I.types=X.types),J.T=I}},pe.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},pe.use=function(R){return J.H.use(R)},pe.useActionState=function(R,I,X){return J.H.useActionState(R,I,X)},pe.useCallback=function(R,I){return J.H.useCallback(R,I)},pe.useContext=function(R){return J.H.useContext(R)},pe.useDebugValue=function(){},pe.useDeferredValue=function(R,I){return J.H.useDeferredValue(R,I)},pe.useEffect=function(R,I){return J.H.useEffect(R,I)},pe.useEffectEvent=function(R){return J.H.useEffectEvent(R)},pe.useId=function(){return J.H.useId()},pe.useImperativeHandle=function(R,I,X){return J.H.useImperativeHandle(R,I,X)},pe.useInsertionEffect=function(R,I){return J.H.useInsertionEffect(R,I)},pe.useLayoutEffect=function(R,I){return J.H.useLayoutEffect(R,I)},pe.useMemo=function(R,I){return J.H.useMemo(R,I)},pe.useOptimistic=function(R,I){return J.H.useOptimistic(R,I)},pe.useReducer=function(R,I,X){return J.H.useReducer(R,I,X)},pe.useRef=function(R){return J.H.useRef(R)},pe.useState=function(R){return J.H.useState(R)},pe.useSyncExternalStore=function(R,I,X){return J.H.useSyncExternalStore(R,I,X)},pe.useTransition=function(){return J.H.useTransition()},pe.version="19.2.3",pe}var Xg;function ud(){return Xg||(Xg=1,ph.exports=j_()),ph.exports}var j=ud(),mh={exports:{}},Ha={},yh={exports:{}},gh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg;function U_(){return Fg||(Fg=1,(function(n){function t(B,Q){var oe=B.length;B.push(Q);e:for(;0<oe;){var Te=oe-1>>>1,Oe=B[Te];if(0<l(Oe,Q))B[Te]=Q,B[oe]=Oe,oe=Te;else break e}}function s(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var Q=B[0],oe=B.pop();if(oe!==Q){B[0]=oe;e:for(var Te=0,Oe=B.length,R=Oe>>>1;Te<R;){var I=2*(Te+1)-1,X=B[I],re=I+1,de=B[re];if(0>l(X,oe))re<Oe&&0>l(de,X)?(B[Te]=de,B[re]=oe,Te=re):(B[Te]=X,B[I]=oe,Te=I);else if(re<Oe&&0>l(de,oe))B[Te]=de,B[re]=oe,Te=re;else break e}}return Q}function l(B,Q){var oe=B.sortIndex-Q.sortIndex;return oe!==0?oe:B.id-Q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],m=[],g=1,y=null,w=3,S=!1,b=!1,E=!1,O=!1,M=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function K(B){for(var Q=s(m);Q!==null;){if(Q.callback===null)r(m);else if(Q.startTime<=B)r(m),Q.sortIndex=Q.expirationTime,t(p,Q);else break;Q=s(m)}}function F(B){if(E=!1,K(B),!b)if(s(p)!==null)b=!0,P||(P=!0,he());else{var Q=s(m);Q!==null&&at(F,Q.startTime-B)}}var P=!1,J=-1,te=5,W=-1;function le(){return O?!0:!(n.unstable_now()-W<te)}function ie(){if(O=!1,P){var B=n.unstable_now();W=B;var Q=!0;try{e:{b=!1,E&&(E=!1,L(J),J=-1),S=!0;var oe=w;try{t:{for(K(B),y=s(p);y!==null&&!(y.expirationTime>B&&le());){var Te=y.callback;if(typeof Te=="function"){y.callback=null,w=y.priorityLevel;var Oe=Te(y.expirationTime<=B);if(B=n.unstable_now(),typeof Oe=="function"){y.callback=Oe,K(B),Q=!0;break t}y===s(p)&&r(p),K(B)}else r(p);y=s(p)}if(y!==null)Q=!0;else{var R=s(m);R!==null&&at(F,R.startTime-B),Q=!1}}break e}finally{y=null,w=oe,S=!1}Q=void 0}}finally{Q?he():P=!1}}}var he;if(typeof N=="function")he=function(){N(ie)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,xt=ve.port2;ve.port1.onmessage=ie,he=function(){xt.postMessage(null)}}else he=function(){M(ie,0)};function at(B,Q){J=M(function(){B(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(B){switch(w){case 1:case 2:case 3:var Q=3;break;default:Q=w}var oe=w;w=Q;try{return B()}finally{w=oe}},n.unstable_requestPaint=function(){O=!0},n.unstable_runWithPriority=function(B,Q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var oe=w;w=B;try{return Q()}finally{w=oe}},n.unstable_scheduleCallback=function(B,Q,oe){var Te=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Te+oe:Te):oe=Te,B){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=oe+Oe,B={id:g++,callback:Q,priorityLevel:B,startTime:oe,expirationTime:Oe,sortIndex:-1},oe>Te?(B.sortIndex=oe,t(m,B),s(p)===null&&B===s(m)&&(E?(L(J),J=-1):E=!0,at(F,oe-Te))):(B.sortIndex=Oe,t(p,B),b||S||(b=!0,P||(P=!0,he()))),B},n.unstable_shouldYield=le,n.unstable_wrapCallback=function(B){var Q=w;return function(){var oe=w;w=Q;try{return B.apply(this,arguments)}finally{w=oe}}}})(gh)),gh}var Pg;function B_(){return Pg||(Pg=1,yh.exports=U_()),yh.exports}var vh={exports:{}},Tt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg;function L_(){if(Wg)return Tt;Wg=1;var n=ud();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,m,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:p,containerInfo:m,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Tt.createPortal=function(p,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return u(p,m,null,g)},Tt.flushSync=function(p){var m=c.T,g=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=m,r.p=g,r.d.f()}},Tt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(p,m))},Tt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Tt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var g=m.as,y=d(g,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:S}):g==="script"&&r.d.X(p,{crossOrigin:y,integrity:w,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Tt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=d(m.as,m.crossOrigin);r.d.M(p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(p)},Tt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,y=d(g,m.crossOrigin);r.d.L(p,g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Tt.preloadModule=function(p,m){if(typeof p=="string")if(m){var g=d(m.as,m.crossOrigin);r.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(p)},Tt.requestFormReset=function(p){r.d.r(p)},Tt.unstable_batchedUpdates=function(p,m){return p(m)},Tt.useFormState=function(p,m,g){return c.H.useFormState(p,m,g)},Tt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tt.version="19.2.3",Tt}var ev;function H_(){if(ev)return vh.exports;ev=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),vh.exports=L_(),vh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function Z_(){if(tv)return Ha;tv=1;var n=B_(),t=ud(),s=H_();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function c(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function d(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(r(188))}function m(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,o=i;;){var f=a.return;if(f===null)break;var h=f.alternate;if(h===null){if(o=f.return,o!==null){a=o;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===a)return p(f),e;if(h===o)return p(f),i;h=h.sibling}throw Error(r(188))}if(a.return!==o.return)a=f,o=h;else{for(var v=!1,_=f.child;_;){if(_===a){v=!0,a=f,o=h;break}if(_===o){v=!0,o=f,a=h;break}_=_.sibling}if(!v){for(_=h.child;_;){if(_===a){v=!0,a=h,o=f;break}if(_===o){v=!0,o=h,a=f;break}_=_.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function g(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=g(e),i!==null)return i;e=e.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),N=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function he(e){return e===null||typeof e!="object"?null:(e=ie&&e[ie]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Symbol.for("react.client.reference");function xt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ve?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case M:return"Profiler";case O:return"StrictMode";case F:return"Suspense";case P:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case b:return"Portal";case N:return e.displayName||"Context";case L:return(e._context.displayName||"Context")+".Consumer";case K:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return i=e.displayName||null,i!==null?i:xt(e.type)||"Memo";case te:i=e._payload,e=e._init;try{return xt(e(i))}catch{}}return null}var at=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Te=[],Oe=-1;function R(e){return{current:e}}function I(e){0>Oe||(e.current=Te[Oe],Te[Oe]=null,Oe--)}function X(e,i){Oe++,Te[Oe]=e.current,e.current=i}var re=R(null),de=R(null),ge=R(null),ze=R(null);function ct(e,i){switch(X(ge,i),X(de,e),X(re,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?mg(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=mg(i),e=yg(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}I(re),X(re,e)}function Le(){I(re),I(de),I(ge)}function ns(e){e.memoizedState!==null&&X(ze,e);var i=re.current,a=yg(i,e.type);i!==a&&(X(de,e),X(re,a))}function Bs(e){de.current===e&&(I(re),I(de)),ze.current===e&&(I(ze),Na._currentValue=oe)}var Dl,kl;function is(e){if(Dl===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Dl=i&&i[1]||"",kl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dl+e+kl}var Yu=!1;function Ju(e,i){if(!e||Yu)return"";Yu=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(U){var k=U}Reflect.construct(e,[],q)}else{try{q.call()}catch(U){k=U}e.call(q.prototype)}}else{try{throw Error()}catch(U){k=U}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(U){if(U&&k&&typeof U.stack=="string")return[U.stack,k.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),v=h[0],_=h[1];if(v&&_){var T=v.split(`
`),D=_.split(`
`);for(f=o=0;o<T.length&&!T[o].includes("DetermineComponentFrameRoot");)o++;for(;f<D.length&&!D[f].includes("DetermineComponentFrameRoot");)f++;if(o===T.length||f===D.length)for(o=T.length-1,f=D.length-1;1<=o&&0<=f&&T[o]!==D[f];)f--;for(;1<=o&&0<=f;o--,f--)if(T[o]!==D[f]){if(o!==1||f!==1)do if(o--,f--,0>f||T[o]!==D[f]){var H=`
`+T[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=f);break}}}finally{Yu=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?is(a):""}function lb(e,i){switch(e.tag){case 26:case 27:case 5:return is(e.type);case 16:return is("Lazy");case 13:return e.child!==i&&i!==null?is("Suspense Fallback"):is("Suspense");case 19:return is("SuspenseList");case 0:case 15:return Ju(e.type,!1);case 11:return Ju(e.type.render,!1);case 1:return Ju(e.type,!0);case 31:return is("Activity");default:return""}}function Gd(e){try{var i="",a=null;do i+=lb(e,a),a=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Qu=Object.prototype.hasOwnProperty,Xu=n.unstable_scheduleCallback,Fu=n.unstable_cancelCallback,ob=n.unstable_shouldYield,ub=n.unstable_requestPaint,Yt=n.unstable_now,cb=n.unstable_getCurrentPriorityLevel,Yd=n.unstable_ImmediatePriority,Jd=n.unstable_UserBlockingPriority,Nl=n.unstable_NormalPriority,fb=n.unstable_LowPriority,Qd=n.unstable_IdlePriority,hb=n.log,db=n.unstable_setDisableYieldValue,Gr=null,Jt=null;function mi(e){if(typeof hb=="function"&&db(e),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(Gr,e)}catch{}}var Qt=Math.clz32?Math.clz32:yb,pb=Math.log,mb=Math.LN2;function yb(e){return e>>>=0,e===0?32:31-(pb(e)/mb|0)|0}var jl=256,Ul=262144,Bl=4194304;function ss(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ll(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var f=0,h=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var _=o&134217727;return _!==0?(o=_&~h,o!==0?f=ss(o):(v&=_,v!==0?f=ss(v):a||(a=_&~e,a!==0&&(f=ss(a))))):(_=o&~h,_!==0?f=ss(_):v!==0?f=ss(v):a||(a=o&~e,a!==0&&(f=ss(a)))),f===0?0:i!==0&&i!==f&&(i&h)===0&&(h=f&-f,a=i&-i,h>=a||h===32&&(a&4194048)!==0)?i:f}function Yr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function gb(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xd(){var e=Bl;return Bl<<=1,(Bl&62914560)===0&&(Bl=4194304),e}function Pu(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Jr(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function vb(e,i,a,o,f,h){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var _=e.entanglements,T=e.expirationTimes,D=e.hiddenUpdates;for(a=v&~a;0<a;){var H=31-Qt(a),q=1<<H;_[H]=0,T[H]=-1;var k=D[H];if(k!==null)for(D[H]=null,H=0;H<k.length;H++){var U=k[H];U!==null&&(U.lane&=-536870913)}a&=~q}o!==0&&Fd(e,o,0),h!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=h&~(v&~i))}function Fd(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-Qt(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function Pd(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-Qt(a),f=1<<o;f&i|e[o]&i&&(e[o]|=i),a&=~f}}function Wd(e,i){var a=i&-i;return a=(a&42)!==0?1:Wu(a),(a&(e.suspendedLanes|i))!==0?0:a}function Wu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ec(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ep(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:Hg(e.type))}function tp(e,i){var a=Q.p;try{return Q.p=e,i()}finally{Q.p=a}}var yi=Math.random().toString(36).slice(2),pt="__reactFiber$"+yi,Ut="__reactProps$"+yi,Ls="__reactContainer$"+yi,tc="__reactEvents$"+yi,Sb="__reactListeners$"+yi,bb="__reactHandles$"+yi,np="__reactResources$"+yi,Qr="__reactMarker$"+yi;function nc(e){delete e[pt],delete e[Ut],delete e[tc],delete e[Sb],delete e[bb]}function Hs(e){var i=e[pt];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Ls]||a[pt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Eg(e);e!==null;){if(a=e[pt])return a;e=Eg(e)}return i}e=a,a=e.parentNode}return null}function Zs(e){if(e=e[pt]||e[Ls]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function Xr(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function $s(e){var i=e[np];return i||(i=e[np]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ft(e){e[Qr]=!0}var ip=new Set,sp={};function rs(e,i){qs(e,i),qs(e+"Capture",i)}function qs(e,i){for(sp[e]=i,e=0;e<i.length;e++)ip.add(i[e])}var wb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rp={},ap={};function _b(e){return Qu.call(ap,e)?!0:Qu.call(rp,e)?!1:wb.test(e)?ap[e]=!0:(rp[e]=!0,!1)}function Hl(e,i,a){if(_b(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Zl(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function $n(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function an(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lp(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Eb(e,i,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,h=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,h.call(this,v)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ic(e){if(!e._valueTracker){var i=lp(e)?"checked":"value";e._valueTracker=Eb(e,i,""+e[i])}}function op(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=lp(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function $l(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var xb=/[\n"\\]/g;function ln(e){return e.replace(xb,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function sc(e,i,a,o,f,h,v,_){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+an(i)):e.value!==""+an(i)&&(e.value=""+an(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?rc(e,v,an(i)):a!=null?rc(e,v,an(a)):o!=null&&e.removeAttribute("value"),f==null&&h!=null&&(e.defaultChecked=!!h),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+an(_):e.removeAttribute("name")}function up(e,i,a,o,f,h,v,_){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),i!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||i!=null)){ic(e);return}a=a!=null?""+an(a):"",i=i!=null?""+an(i):a,_||i===e.value||(e.value=i),e.defaultValue=i}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=_?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),ic(e)}function rc(e,i,a){i==="number"&&$l(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Is(e,i,a,o){if(e=e.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=i.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&o&&(e[a].defaultSelected=!0)}else{for(a=""+an(a),i=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}i!==null||e[f].disabled||(i=e[f])}i!==null&&(i.selected=!0)}}function cp(e,i,a){if(i!=null&&(i=""+an(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+an(a):""}function fp(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(at(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=an(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),ic(e)}function Ks(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Tb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hp(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||Tb.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function dp(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in i)o=i[f],i.hasOwnProperty(f)&&a[f]!==o&&hp(e,f,o)}else for(var h in i)i.hasOwnProperty(h)&&hp(e,h,i[h])}function ac(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ob=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ql(e){return zb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var lc=null;function oc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vs=null,Gs=null;function pp(e){var i=Zs(e);if(i&&(e=i.stateNode)){var a=e[Ut]||null;e:switch(e=i.stateNode,i.type){case"input":if(sc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var f=o[Ut]||null;if(!f)throw Error(r(90));sc(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&op(o)}break e;case"textarea":cp(e,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Is(e,!!a.multiple,i,!1)}}}var uc=!1;function mp(e,i,a){if(uc)return e(i,a);uc=!0;try{var o=e(i);return o}finally{if(uc=!1,(Vs!==null||Gs!==null)&&(Ao(),Vs&&(i=Vs,e=Gs,Gs=Vs=null,pp(i),e)))for(i=0;i<e.length;i++)pp(e[i])}}function Fr(e,i){var a=e.stateNode;if(a===null)return null;var o=a[Ut]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cc=!1;if(In)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){cc=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{cc=!1}var gi=null,fc=null,Il=null;function yp(){if(Il)return Il;var e,i=fc,a=i.length,o,f="value"in gi?gi.value:gi.textContent,h=f.length;for(e=0;e<a&&i[e]===f[e];e++);var v=a-e;for(o=1;o<=v&&i[a-o]===f[h-o];o++);return Il=f.slice(e,1<o?1-o:void 0)}function Kl(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Vl(){return!0}function gp(){return!1}function Bt(e){function i(a,o,f,h,v){this._reactName=a,this._targetInst=f,this.type=o,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(a=e[_],this[_]=a?a(h):h[_]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Vl:gp,this.isPropagationStopped=gp,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vl)},persist:function(){},isPersistent:Vl}),i}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=Bt(as),Wr=y({},as,{view:0,detail:0}),Rb=Bt(Wr),hc,dc,ea,Yl=y({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ea&&(ea&&e.type==="mousemove"?(hc=e.screenX-ea.screenX,dc=e.screenY-ea.screenY):dc=hc=0,ea=e),hc)},movementY:function(e){return"movementY"in e?e.movementY:dc}}),vp=Bt(Yl),Cb=y({},Yl,{dataTransfer:0}),Ab=Bt(Cb),Mb=y({},Wr,{relatedTarget:0}),pc=Bt(Mb),Db=y({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),kb=Bt(Db),Nb=y({},as,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jb=Bt(Nb),Ub=y({},as,{data:0}),Sp=Bt(Ub),Bb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zb(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Hb[e])?!!i[e]:!1}function mc(){return Zb}var $b=y({},Wr,{key:function(e){if(e.key){var i=Bb[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Kl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mc,charCode:function(e){return e.type==="keypress"?Kl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qb=Bt($b),Ib=y({},Yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bp=Bt(Ib),Kb=y({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mc}),Vb=Bt(Kb),Gb=y({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yb=Bt(Gb),Jb=y({},Yl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qb=Bt(Jb),Xb=y({},as,{newState:0,oldState:0}),Fb=Bt(Xb),Pb=[9,13,27,32],yc=In&&"CompositionEvent"in window,ta=null;In&&"documentMode"in document&&(ta=document.documentMode);var Wb=In&&"TextEvent"in window&&!ta,wp=In&&(!yc||ta&&8<ta&&11>=ta),_p=" ",Ep=!1;function xp(e,i){switch(e){case"keyup":return Pb.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ys=!1;function ew(e,i){switch(e){case"compositionend":return Tp(i);case"keypress":return i.which!==32?null:(Ep=!0,_p);case"textInput":return e=i.data,e===_p&&Ep?null:e;default:return null}}function tw(e,i){if(Ys)return e==="compositionend"||!yc&&xp(e,i)?(e=yp(),Il=fc=gi=null,Ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return wp&&i.locale!=="ko"?null:i.data;default:return null}}var nw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Op(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!nw[e.type]:i==="textarea"}function zp(e,i,a,o){Vs?Gs?Gs.push(o):Gs=[o]:Vs=o,i=Bo(i,"onChange"),0<i.length&&(a=new Gl("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var na=null,ia=null;function iw(e){ug(e,0)}function Jl(e){var i=Xr(e);if(op(i))return e}function Rp(e,i){if(e==="change")return i}var Cp=!1;if(In){var gc;if(In){var vc="oninput"in document;if(!vc){var Ap=document.createElement("div");Ap.setAttribute("oninput","return;"),vc=typeof Ap.oninput=="function"}gc=vc}else gc=!1;Cp=gc&&(!document.documentMode||9<document.documentMode)}function Mp(){na&&(na.detachEvent("onpropertychange",Dp),ia=na=null)}function Dp(e){if(e.propertyName==="value"&&Jl(ia)){var i=[];zp(i,ia,e,oc(e)),mp(iw,i)}}function sw(e,i,a){e==="focusin"?(Mp(),na=i,ia=a,na.attachEvent("onpropertychange",Dp)):e==="focusout"&&Mp()}function rw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jl(ia)}function aw(e,i){if(e==="click")return Jl(i)}function lw(e,i){if(e==="input"||e==="change")return Jl(i)}function ow(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Xt=typeof Object.is=="function"?Object.is:ow;function sa(e,i){if(Xt(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var f=a[o];if(!Qu.call(i,f)||!Xt(e[f],i[f]))return!1}return!0}function kp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Np(e,i){var a=kp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kp(a)}}function jp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?jp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Up(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=$l(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=$l(e.document)}return i}function Sc(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var uw=In&&"documentMode"in document&&11>=document.documentMode,Js=null,bc=null,ra=null,wc=!1;function Bp(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wc||Js==null||Js!==$l(o)||(o=Js,"selectionStart"in o&&Sc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ra&&sa(ra,o)||(ra=o,o=Bo(bc,"onSelect"),0<o.length&&(i=new Gl("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=Js)))}function ls(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Qs={animationend:ls("Animation","AnimationEnd"),animationiteration:ls("Animation","AnimationIteration"),animationstart:ls("Animation","AnimationStart"),transitionrun:ls("Transition","TransitionRun"),transitionstart:ls("Transition","TransitionStart"),transitioncancel:ls("Transition","TransitionCancel"),transitionend:ls("Transition","TransitionEnd")},_c={},Lp={};In&&(Lp=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function os(e){if(_c[e])return _c[e];if(!Qs[e])return e;var i=Qs[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Lp)return _c[e]=i[a];return e}var Hp=os("animationend"),Zp=os("animationiteration"),$p=os("animationstart"),cw=os("transitionrun"),fw=os("transitionstart"),hw=os("transitioncancel"),qp=os("transitionend"),Ip=new Map,Ec="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ec.push("scrollEnd");function _n(e,i){Ip.set(e,i),rs(i,[e])}var Ql=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},on=[],Xs=0,xc=0;function Xl(){for(var e=Xs,i=xc=Xs=0;i<e;){var a=on[i];on[i++]=null;var o=on[i];on[i++]=null;var f=on[i];on[i++]=null;var h=on[i];if(on[i++]=null,o!==null&&f!==null){var v=o.pending;v===null?f.next=f:(f.next=v.next,v.next=f),o.pending=f}h!==0&&Kp(a,f,h)}}function Fl(e,i,a,o){on[Xs++]=e,on[Xs++]=i,on[Xs++]=a,on[Xs++]=o,xc|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Tc(e,i,a,o){return Fl(e,i,a,o),Pl(e)}function us(e,i){return Fl(e,null,null,i),Pl(e)}function Kp(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var f=!1,h=e.return;h!==null;)h.childLanes|=a,o=h.alternate,o!==null&&(o.childLanes|=a),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(f=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,f&&i!==null&&(f=31-Qt(a),e=h.hiddenUpdates,o=e[f],o===null?e[f]=[i]:o.push(i),i.lane=a|536870912),h):null}function Pl(e){if(50<za)throw za=0,jf=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Fs={};function dw(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,i,a,o){return new dw(e,i,a,o)}function Oc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kn(e,i){var a=e.alternate;return a===null?(a=Ft(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Vp(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Wl(e,i,a,o,f,h){var v=0;if(o=e,typeof e=="function")Oc(e)&&(v=1);else if(typeof e=="string")v=v_(e,a,re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case W:return e=Ft(31,a,i,f),e.elementType=W,e.lanes=h,e;case E:return cs(a.children,f,h,i);case O:v=8,f|=24;break;case M:return e=Ft(12,a,i,f|2),e.elementType=M,e.lanes=h,e;case F:return e=Ft(13,a,i,f),e.elementType=F,e.lanes=h,e;case P:return e=Ft(19,a,i,f),e.elementType=P,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case N:v=10;break e;case L:v=9;break e;case K:v=11;break e;case J:v=14;break e;case te:v=16,o=null;break e}v=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return i=Ft(v,a,i,f),i.elementType=e,i.type=o,i.lanes=h,i}function cs(e,i,a,o){return e=Ft(7,e,o,i),e.lanes=a,e}function zc(e,i,a){return e=Ft(6,e,null,i),e.lanes=a,e}function Gp(e){var i=Ft(18,null,null,0);return i.stateNode=e,i}function Rc(e,i,a){return i=Ft(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Yp=new WeakMap;function un(e,i){if(typeof e=="object"&&e!==null){var a=Yp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Gd(i)},Yp.set(e,i),i)}return{value:e,source:i,stack:Gd(i)}}var Ps=[],Ws=0,eo=null,aa=0,cn=[],fn=0,vi=null,On=1,zn="";function Vn(e,i){Ps[Ws++]=aa,Ps[Ws++]=eo,eo=e,aa=i}function Jp(e,i,a){cn[fn++]=On,cn[fn++]=zn,cn[fn++]=vi,vi=e;var o=On;e=zn;var f=32-Qt(o)-1;o&=~(1<<f),a+=1;var h=32-Qt(i)+f;if(30<h){var v=f-f%5;h=(o&(1<<v)-1).toString(32),o>>=v,f-=v,On=1<<32-Qt(i)+f|a<<f|o,zn=h+e}else On=1<<h|a<<f|o,zn=e}function Cc(e){e.return!==null&&(Vn(e,1),Jp(e,1,0))}function Ac(e){for(;e===eo;)eo=Ps[--Ws],Ps[Ws]=null,aa=Ps[--Ws],Ps[Ws]=null;for(;e===vi;)vi=cn[--fn],cn[fn]=null,zn=cn[--fn],cn[fn]=null,On=cn[--fn],cn[fn]=null}function Qp(e,i){cn[fn++]=On,cn[fn++]=zn,cn[fn++]=vi,On=i.id,zn=i.overflow,vi=e}var mt=null,Ze=null,xe=!1,Si=null,hn=!1,Mc=Error(r(519));function bi(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw la(un(i,e)),Mc}function Xp(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[pt]=e,i[Ut]=o,a){case"dialog":be("cancel",i),be("close",i);break;case"iframe":case"object":case"embed":be("load",i);break;case"video":case"audio":for(a=0;a<Ca.length;a++)be(Ca[a],i);break;case"source":be("error",i);break;case"img":case"image":case"link":be("error",i),be("load",i);break;case"details":be("toggle",i);break;case"input":be("invalid",i),up(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":be("invalid",i);break;case"textarea":be("invalid",i),fp(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||dg(i.textContent,a)?(o.popover!=null&&(be("beforetoggle",i),be("toggle",i)),o.onScroll!=null&&be("scroll",i),o.onScrollEnd!=null&&be("scrollend",i),o.onClick!=null&&(i.onclick=qn),i=!0):i=!1,i||bi(e,!0)}function Fp(e){for(mt=e.return;mt;)switch(mt.tag){case 5:case 31:case 13:hn=!1;return;case 27:case 3:hn=!0;return;default:mt=mt.return}}function er(e){if(e!==mt)return!1;if(!xe)return Fp(e),xe=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Xf(e.type,e.memoizedProps)),a=!a),a&&Ze&&bi(e),Fp(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ze=_g(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ze=_g(e)}else i===27?(i=Ze,Ni(e.type)?(e=th,th=null,Ze=e):Ze=i):Ze=mt?pn(e.stateNode.nextSibling):null;return!0}function fs(){Ze=mt=null,xe=!1}function Dc(){var e=Si;return e!==null&&($t===null?$t=e:$t.push.apply($t,e),Si=null),e}function la(e){Si===null?Si=[e]:Si.push(e)}var kc=R(null),hs=null,Gn=null;function wi(e,i,a){X(kc,i._currentValue),i._currentValue=a}function Yn(e){e._currentValue=kc.current,I(kc)}function Nc(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function jc(e,i,a,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var h=f.dependencies;if(h!==null){var v=f.child;h=h.firstContext;e:for(;h!==null;){var _=h;h=f;for(var T=0;T<i.length;T++)if(_.context===i[T]){h.lanes|=a,_=h.alternate,_!==null&&(_.lanes|=a),Nc(h.return,a,e),o||(v=null);break e}h=_.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(r(341));v.lanes|=a,h=v.alternate,h!==null&&(h.lanes|=a),Nc(v,a,e),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===e){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function tr(e,i,a,o){e=null;for(var f=i,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var _=f.type;Xt(f.pendingProps.value,v.value)||(e!==null?e.push(_):e=[_])}}else if(f===ze.current){if(v=f.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Na):e=[Na])}f=f.return}e!==null&&jc(i,e,a,o),i.flags|=262144}function to(e){for(e=e.firstContext;e!==null;){if(!Xt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ds(e){hs=e,Gn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function yt(e){return Pp(hs,e)}function no(e,i){return hs===null&&ds(e),Pp(e,i)}function Pp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Gn===null){if(e===null)throw Error(r(308));Gn=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Gn=Gn.next=i;return a}var pw=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},mw=n.unstable_scheduleCallback,yw=n.unstable_NormalPriority,et={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uc(){return{controller:new pw,data:new Map,refCount:0}}function oa(e){e.refCount--,e.refCount===0&&mw(yw,function(){e.controller.abort()})}var ua=null,Bc=0,nr=0,ir=null;function gw(e,i){if(ua===null){var a=ua=[];Bc=0,nr=$f(),ir={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Bc++,i.then(Wp,Wp),i}function Wp(){if(--Bc===0&&ua!==null){ir!==null&&(ir.status="fulfilled");var e=ua;ua=null,nr=0,ir=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function vw(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(o.status="rejected",o.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),o}var em=B.S;B.S=function(e,i){By=Yt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&gw(e,i),em!==null&&em(e,i)};var ps=R(null);function Lc(){var e=ps.current;return e!==null?e:Be.pooledCache}function io(e,i){i===null?X(ps,ps.current):X(ps,i.pool)}function tm(){var e=Lc();return e===null?null:{parent:et._currentValue,pool:e}}var sr=Error(r(460)),Hc=Error(r(474)),so=Error(r(542)),ro={then:function(){}};function nm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function im(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(qn,qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,rm(e),e;default:if(typeof i.status=="string")i.then(qn,qn);else{if(e=Be,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=o}},function(o){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,rm(e),e}throw ys=i,sr}}function ms(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ys=a,sr):a}}var ys=null;function sm(){if(ys===null)throw Error(r(459));var e=ys;return ys=null,e}function rm(e){if(e===sr||e===so)throw Error(r(483))}var rr=null,ca=0;function ao(e){var i=ca;return ca+=1,rr===null&&(rr=[]),im(rr,e,i)}function fa(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function lo(e,i){throw i.$$typeof===w?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function am(e){function i(C,z){if(e){var A=C.deletions;A===null?(C.deletions=[z],C.flags|=16):A.push(z)}}function a(C,z){if(!e)return null;for(;z!==null;)i(C,z),z=z.sibling;return null}function o(C){for(var z=new Map;C!==null;)C.key!==null?z.set(C.key,C):z.set(C.index,C),C=C.sibling;return z}function f(C,z){return C=Kn(C,z),C.index=0,C.sibling=null,C}function h(C,z,A){return C.index=A,e?(A=C.alternate,A!==null?(A=A.index,A<z?(C.flags|=67108866,z):A):(C.flags|=67108866,z)):(C.flags|=1048576,z)}function v(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function _(C,z,A,Z){return z===null||z.tag!==6?(z=zc(A,C.mode,Z),z.return=C,z):(z=f(z,A),z.return=C,z)}function T(C,z,A,Z){var ue=A.type;return ue===E?H(C,z,A.props.children,Z,A.key):z!==null&&(z.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===te&&ms(ue)===z.type)?(z=f(z,A.props),fa(z,A),z.return=C,z):(z=Wl(A.type,A.key,A.props,null,C.mode,Z),fa(z,A),z.return=C,z)}function D(C,z,A,Z){return z===null||z.tag!==4||z.stateNode.containerInfo!==A.containerInfo||z.stateNode.implementation!==A.implementation?(z=Rc(A,C.mode,Z),z.return=C,z):(z=f(z,A.children||[]),z.return=C,z)}function H(C,z,A,Z,ue){return z===null||z.tag!==7?(z=cs(A,C.mode,Z,ue),z.return=C,z):(z=f(z,A),z.return=C,z)}function q(C,z,A){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=zc(""+z,C.mode,A),z.return=C,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return A=Wl(z.type,z.key,z.props,null,C.mode,A),fa(A,z),A.return=C,A;case b:return z=Rc(z,C.mode,A),z.return=C,z;case te:return z=ms(z),q(C,z,A)}if(at(z)||he(z))return z=cs(z,C.mode,A,null),z.return=C,z;if(typeof z.then=="function")return q(C,ao(z),A);if(z.$$typeof===N)return q(C,no(C,z),A);lo(C,z)}return null}function k(C,z,A,Z){var ue=z!==null?z.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return ue!==null?null:_(C,z,""+A,Z);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case S:return A.key===ue?T(C,z,A,Z):null;case b:return A.key===ue?D(C,z,A,Z):null;case te:return A=ms(A),k(C,z,A,Z)}if(at(A)||he(A))return ue!==null?null:H(C,z,A,Z,null);if(typeof A.then=="function")return k(C,z,ao(A),Z);if(A.$$typeof===N)return k(C,z,no(C,A),Z);lo(C,A)}return null}function U(C,z,A,Z,ue){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return C=C.get(A)||null,_(z,C,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case S:return C=C.get(Z.key===null?A:Z.key)||null,T(z,C,Z,ue);case b:return C=C.get(Z.key===null?A:Z.key)||null,D(z,C,Z,ue);case te:return Z=ms(Z),U(C,z,A,Z,ue)}if(at(Z)||he(Z))return C=C.get(A)||null,H(z,C,Z,ue,null);if(typeof Z.then=="function")return U(C,z,A,ao(Z),ue);if(Z.$$typeof===N)return U(C,z,A,no(z,Z),ue);lo(z,Z)}return null}function se(C,z,A,Z){for(var ue=null,Re=null,ae=z,ye=z=0,_e=null;ae!==null&&ye<A.length;ye++){ae.index>ye?(_e=ae,ae=null):_e=ae.sibling;var Ce=k(C,ae,A[ye],Z);if(Ce===null){ae===null&&(ae=_e);break}e&&ae&&Ce.alternate===null&&i(C,ae),z=h(Ce,z,ye),Re===null?ue=Ce:Re.sibling=Ce,Re=Ce,ae=_e}if(ye===A.length)return a(C,ae),xe&&Vn(C,ye),ue;if(ae===null){for(;ye<A.length;ye++)ae=q(C,A[ye],Z),ae!==null&&(z=h(ae,z,ye),Re===null?ue=ae:Re.sibling=ae,Re=ae);return xe&&Vn(C,ye),ue}for(ae=o(ae);ye<A.length;ye++)_e=U(ae,C,ye,A[ye],Z),_e!==null&&(e&&_e.alternate!==null&&ae.delete(_e.key===null?ye:_e.key),z=h(_e,z,ye),Re===null?ue=_e:Re.sibling=_e,Re=_e);return e&&ae.forEach(function(Hi){return i(C,Hi)}),xe&&Vn(C,ye),ue}function fe(C,z,A,Z){if(A==null)throw Error(r(151));for(var ue=null,Re=null,ae=z,ye=z=0,_e=null,Ce=A.next();ae!==null&&!Ce.done;ye++,Ce=A.next()){ae.index>ye?(_e=ae,ae=null):_e=ae.sibling;var Hi=k(C,ae,Ce.value,Z);if(Hi===null){ae===null&&(ae=_e);break}e&&ae&&Hi.alternate===null&&i(C,ae),z=h(Hi,z,ye),Re===null?ue=Hi:Re.sibling=Hi,Re=Hi,ae=_e}if(Ce.done)return a(C,ae),xe&&Vn(C,ye),ue;if(ae===null){for(;!Ce.done;ye++,Ce=A.next())Ce=q(C,Ce.value,Z),Ce!==null&&(z=h(Ce,z,ye),Re===null?ue=Ce:Re.sibling=Ce,Re=Ce);return xe&&Vn(C,ye),ue}for(ae=o(ae);!Ce.done;ye++,Ce=A.next())Ce=U(ae,C,ye,Ce.value,Z),Ce!==null&&(e&&Ce.alternate!==null&&ae.delete(Ce.key===null?ye:Ce.key),z=h(Ce,z,ye),Re===null?ue=Ce:Re.sibling=Ce,Re=Ce);return e&&ae.forEach(function(C_){return i(C,C_)}),xe&&Vn(C,ye),ue}function Ue(C,z,A,Z){if(typeof A=="object"&&A!==null&&A.type===E&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case S:e:{for(var ue=A.key;z!==null;){if(z.key===ue){if(ue=A.type,ue===E){if(z.tag===7){a(C,z.sibling),Z=f(z,A.props.children),Z.return=C,C=Z;break e}}else if(z.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===te&&ms(ue)===z.type){a(C,z.sibling),Z=f(z,A.props),fa(Z,A),Z.return=C,C=Z;break e}a(C,z);break}else i(C,z);z=z.sibling}A.type===E?(Z=cs(A.props.children,C.mode,Z,A.key),Z.return=C,C=Z):(Z=Wl(A.type,A.key,A.props,null,C.mode,Z),fa(Z,A),Z.return=C,C=Z)}return v(C);case b:e:{for(ue=A.key;z!==null;){if(z.key===ue)if(z.tag===4&&z.stateNode.containerInfo===A.containerInfo&&z.stateNode.implementation===A.implementation){a(C,z.sibling),Z=f(z,A.children||[]),Z.return=C,C=Z;break e}else{a(C,z);break}else i(C,z);z=z.sibling}Z=Rc(A,C.mode,Z),Z.return=C,C=Z}return v(C);case te:return A=ms(A),Ue(C,z,A,Z)}if(at(A))return se(C,z,A,Z);if(he(A)){if(ue=he(A),typeof ue!="function")throw Error(r(150));return A=ue.call(A),fe(C,z,A,Z)}if(typeof A.then=="function")return Ue(C,z,ao(A),Z);if(A.$$typeof===N)return Ue(C,z,no(C,A),Z);lo(C,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,z!==null&&z.tag===6?(a(C,z.sibling),Z=f(z,A),Z.return=C,C=Z):(a(C,z),Z=zc(A,C.mode,Z),Z.return=C,C=Z),v(C)):a(C,z)}return function(C,z,A,Z){try{ca=0;var ue=Ue(C,z,A,Z);return rr=null,ue}catch(ae){if(ae===sr||ae===so)throw ae;var Re=Ft(29,ae,null,C.mode);return Re.lanes=Z,Re.return=C,Re}finally{}}}var gs=am(!0),lm=am(!1),_i=!1;function Zc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $c(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ei(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xi(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ae&2)!==0){var f=o.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),o.pending=i,i=Pl(e),Kp(e,null,a),i}return Fl(e,o,i,a),Pl(e)}function ha(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,Pd(e,a)}}function qc(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var f=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?f=h=v:h=h.next=v,a=a.next}while(a!==null);h===null?f=h=i:h=h.next=i}else f=h=i;a={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Ic=!1;function da(){if(Ic){var e=ir;if(e!==null)throw e}}function pa(e,i,a,o){Ic=!1;var f=e.updateQueue;_i=!1;var h=f.firstBaseUpdate,v=f.lastBaseUpdate,_=f.shared.pending;if(_!==null){f.shared.pending=null;var T=_,D=T.next;T.next=null,v===null?h=D:v.next=D,v=T;var H=e.alternate;H!==null&&(H=H.updateQueue,_=H.lastBaseUpdate,_!==v&&(_===null?H.firstBaseUpdate=D:_.next=D,H.lastBaseUpdate=T))}if(h!==null){var q=f.baseState;v=0,H=D=T=null,_=h;do{var k=_.lane&-536870913,U=k!==_.lane;if(U?(we&k)===k:(o&k)===k){k!==0&&k===nr&&(Ic=!0),H!==null&&(H=H.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var se=e,fe=_;k=i;var Ue=a;switch(fe.tag){case 1:if(se=fe.payload,typeof se=="function"){q=se.call(Ue,q,k);break e}q=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=fe.payload,k=typeof se=="function"?se.call(Ue,q,k):se,k==null)break e;q=y({},q,k);break e;case 2:_i=!0}}k=_.callback,k!==null&&(e.flags|=64,U&&(e.flags|=8192),U=f.callbacks,U===null?f.callbacks=[k]:U.push(k))}else U={lane:k,tag:_.tag,payload:_.payload,callback:_.callback,next:null},H===null?(D=H=U,T=q):H=H.next=U,v|=k;if(_=_.next,_===null){if(_=f.shared.pending,_===null)break;U=_,_=U.next,U.next=null,f.lastBaseUpdate=U,f.shared.pending=null}}while(!0);H===null&&(T=q),f.baseState=T,f.firstBaseUpdate=D,f.lastBaseUpdate=H,h===null&&(f.shared.lanes=0),Ci|=v,e.lanes=v,e.memoizedState=q}}function om(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function um(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)om(a[e],i)}var ar=R(null),oo=R(0);function cm(e,i){e=ni,X(oo,e),X(ar,i),ni=e|i.baseLanes}function Kc(){X(oo,ni),X(ar,ar.current)}function Vc(){ni=oo.current,I(ar),I(oo)}var Pt=R(null),dn=null;function Ti(e){var i=e.alternate;X(Pe,Pe.current&1),X(Pt,e),dn===null&&(i===null||ar.current!==null||i.memoizedState!==null)&&(dn=e)}function Gc(e){X(Pe,Pe.current),X(Pt,e),dn===null&&(dn=e)}function fm(e){e.tag===22?(X(Pe,Pe.current),X(Pt,e),dn===null&&(dn=e)):Oi()}function Oi(){X(Pe,Pe.current),X(Pt,Pt.current)}function Wt(e){I(Pt),dn===e&&(dn=null),I(Pe)}var Pe=R(0);function uo(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Wf(a)||eh(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Jn=0,me=null,Ne=null,tt=null,co=!1,lr=!1,vs=!1,fo=0,ma=0,or=null,Sw=0;function Je(){throw Error(r(321))}function Yc(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Xt(e[a],i[a]))return!1;return!0}function Jc(e,i,a,o,f,h){return Jn=h,me=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=e===null||e.memoizedState===null?Jm:cf,vs=!1,h=a(o,f),vs=!1,lr&&(h=dm(i,a,o,f)),hm(e),h}function hm(e){B.H=va;var i=Ne!==null&&Ne.next!==null;if(Jn=0,tt=Ne=me=null,co=!1,ma=0,or=null,i)throw Error(r(300));e===null||nt||(e=e.dependencies,e!==null&&to(e)&&(nt=!0))}function dm(e,i,a,o){me=e;var f=0;do{if(lr&&(or=null),ma=0,lr=!1,25<=f)throw Error(r(301));if(f+=1,tt=Ne=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}B.H=Qm,h=i(a,o)}while(lr);return h}function bw(){var e=B.H,i=e.useState()[0];return i=typeof i.then=="function"?ya(i):i,e=e.useState()[0],(Ne!==null?Ne.memoizedState:null)!==e&&(me.flags|=1024),i}function Qc(){var e=fo!==0;return fo=0,e}function Xc(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Fc(e){if(co){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}co=!1}Jn=0,tt=Ne=me=null,lr=!1,ma=fo=0,or=null}function Ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?me.memoizedState=tt=e:tt=tt.next=e,tt}function We(){if(Ne===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var i=tt===null?me.memoizedState:tt.next;if(i!==null)tt=i,Ne=e;else{if(e===null)throw me.alternate===null?Error(r(467)):Error(r(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},tt===null?me.memoizedState=tt=e:tt=tt.next=e}return tt}function ho(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ya(e){var i=ma;return ma+=1,or===null&&(or=[]),e=im(or,e,i),i=me,(tt===null?i.memoizedState:tt.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?Jm:cf),e}function po(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ya(e);if(e.$$typeof===N)return yt(e)}throw Error(r(438,String(e)))}function Pc(e){var i=null,a=me.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=me.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ho(),me.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=le;return i.index++,a}function Qn(e,i){return typeof i=="function"?i(e):i}function mo(e){var i=We();return Wc(i,Ne,e)}function Wc(e,i,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var f=e.baseQueue,h=o.pending;if(h!==null){if(f!==null){var v=f.next;f.next=h.next,h.next=v}i.baseQueue=f=h,o.pending=null}if(h=e.baseState,f===null)e.memoizedState=h;else{i=f.next;var _=v=null,T=null,D=i,H=!1;do{var q=D.lane&-536870913;if(q!==D.lane?(we&q)===q:(Jn&q)===q){var k=D.revertLane;if(k===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),q===nr&&(H=!0);else if((Jn&k)===k){D=D.next,k===nr&&(H=!0);continue}else q={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},T===null?(_=T=q,v=h):T=T.next=q,me.lanes|=k,Ci|=k;q=D.action,vs&&a(h,q),h=D.hasEagerState?D.eagerState:a(h,q)}else k={lane:q,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},T===null?(_=T=k,v=h):T=T.next=k,me.lanes|=q,Ci|=q;D=D.next}while(D!==null&&D!==i);if(T===null?v=h:T.next=_,!Xt(h,e.memoizedState)&&(nt=!0,H&&(a=ir,a!==null)))throw a;e.memoizedState=h,e.baseState=v,e.baseQueue=T,o.lastRenderedState=h}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function ef(e){var i=We(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,f=a.pending,h=i.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do h=e(h,v.action),v=v.next;while(v!==f);Xt(h,i.memoizedState)||(nt=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),a.lastRenderedState=h}return[h,o]}function pm(e,i,a){var o=me,f=We(),h=xe;if(h){if(a===void 0)throw Error(r(407));a=a()}else a=i();var v=!Xt((Ne||f).memoizedState,a);if(v&&(f.memoizedState=a,nt=!0),f=f.queue,sf(gm.bind(null,o,f,e),[e]),f.getSnapshot!==i||v||tt!==null&&tt.memoizedState.tag&1){if(o.flags|=2048,ur(9,{destroy:void 0},ym.bind(null,o,f,a,i),null),Be===null)throw Error(r(349));h||(Jn&127)!==0||mm(o,i,a)}return a}function mm(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=me.updateQueue,i===null?(i=ho(),me.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function ym(e,i,a,o){i.value=a,i.getSnapshot=o,vm(i)&&Sm(e)}function gm(e,i,a){return a(function(){vm(i)&&Sm(e)})}function vm(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Xt(e,a)}catch{return!0}}function Sm(e){var i=us(e,2);i!==null&&qt(i,e,2)}function tf(e){var i=Ct();if(typeof e=="function"){var a=e;if(e=a(),vs){mi(!0);try{a()}finally{mi(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:e},i}function bm(e,i,a,o){return e.baseState=a,Wc(e,Ne,typeof o=="function"?o:Qn)}function ww(e,i,a,o,f){if(vo(e))throw Error(r(485));if(e=i.action,e!==null){var h={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){h.listeners.push(v)}};B.T!==null?a(!0):h.isTransition=!1,o(h),a=i.pending,a===null?(h.next=i.pending=h,wm(i,h)):(h.next=a.next,i.pending=a.next=h)}}function wm(e,i){var a=i.action,o=i.payload,f=e.state;if(i.isTransition){var h=B.T,v={};B.T=v;try{var _=a(f,o),T=B.S;T!==null&&T(v,_),_m(e,i,_)}catch(D){nf(e,i,D)}finally{h!==null&&v.types!==null&&(h.types=v.types),B.T=h}}else try{h=a(f,o),_m(e,i,h)}catch(D){nf(e,i,D)}}function _m(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Em(e,i,o)},function(o){return nf(e,i,o)}):Em(e,i,a)}function Em(e,i,a){i.status="fulfilled",i.value=a,xm(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,wm(e,a)))}function nf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,xm(i),i=i.next;while(i!==o)}e.action=null}function xm(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Tm(e,i){return i}function Om(e,i){if(xe){var a=Be.formState;if(a!==null){e:{var o=me;if(xe){if(Ze){t:{for(var f=Ze,h=hn;f.nodeType!==8;){if(!h){f=null;break t}if(f=pn(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){Ze=pn(f.nextSibling),o=f.data==="F!";break e}}bi(o)}o=!1}o&&(i=a[0])}}return a=Ct(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tm,lastRenderedState:i},a.queue=o,a=Vm.bind(null,me,o),o.dispatch=a,o=tf(!1),h=uf.bind(null,me,!1,o.queue),o=Ct(),f={state:i,dispatch:null,action:e,pending:null},o.queue=f,a=ww.bind(null,me,f,h,a),f.dispatch=a,o.memoizedState=e,[i,a,!1]}function zm(e){var i=We();return Rm(i,Ne,e)}function Rm(e,i,a){if(i=Wc(e,i,Tm)[0],e=mo(Qn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=ya(i)}catch(v){throw v===sr?so:v}else o=i;i=We();var f=i.queue,h=f.dispatch;return a!==i.memoizedState&&(me.flags|=2048,ur(9,{destroy:void 0},_w.bind(null,f,a),null)),[o,h,e]}function _w(e,i){e.action=i}function Cm(e){var i=We(),a=Ne;if(a!==null)return Rm(i,a,e);We(),i=i.memoizedState,a=We();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function ur(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=me.updateQueue,i===null&&(i=ho(),me.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Am(){return We().memoizedState}function yo(e,i,a,o){var f=Ct();me.flags|=e,f.memoizedState=ur(1|i,{destroy:void 0},a,o===void 0?null:o)}function go(e,i,a,o){var f=We();o=o===void 0?null:o;var h=f.memoizedState.inst;Ne!==null&&o!==null&&Yc(o,Ne.memoizedState.deps)?f.memoizedState=ur(i,h,a,o):(me.flags|=e,f.memoizedState=ur(1|i,h,a,o))}function Mm(e,i){yo(8390656,8,e,i)}function sf(e,i){go(2048,8,e,i)}function Ew(e){me.flags|=4;var i=me.updateQueue;if(i===null)i=ho(),me.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Dm(e){var i=We().memoizedState;return Ew({ref:i,nextImpl:e}),function(){if((Ae&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function km(e,i){return go(4,2,e,i)}function Nm(e,i){return go(4,4,e,i)}function jm(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Um(e,i,a){a=a!=null?a.concat([e]):null,go(4,4,jm.bind(null,i,e),a)}function rf(){}function Bm(e,i){var a=We();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Yc(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function Lm(e,i){var a=We();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Yc(i,o[1]))return o[0];if(o=e(),vs){mi(!0);try{e()}finally{mi(!1)}}return a.memoizedState=[o,i],o}function af(e,i,a){return a===void 0||(Jn&1073741824)!==0&&(we&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=Hy(),me.lanes|=e,Ci|=e,a)}function Hm(e,i,a,o){return Xt(a,i)?a:ar.current!==null?(e=af(e,a,o),Xt(e,i)||(nt=!0),e):(Jn&42)===0||(Jn&1073741824)!==0&&(we&261930)===0?(nt=!0,e.memoizedState=a):(e=Hy(),me.lanes|=e,Ci|=e,i)}function Zm(e,i,a,o,f){var h=Q.p;Q.p=h!==0&&8>h?h:8;var v=B.T,_={};B.T=_,uf(e,!1,i,a);try{var T=f(),D=B.S;if(D!==null&&D(_,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var H=vw(T,o);ga(e,i,H,nn(e))}else ga(e,i,o,nn(e))}catch(q){ga(e,i,{then:function(){},status:"rejected",reason:q},nn())}finally{Q.p=h,v!==null&&_.types!==null&&(v.types=_.types),B.T=v}}function xw(){}function lf(e,i,a,o){if(e.tag!==5)throw Error(r(476));var f=$m(e).queue;Zm(e,f,i,oe,a===null?xw:function(){return qm(e),a(o)})}function $m(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:oe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function qm(e){var i=$m(e);i.next===null&&(i=e.alternate.memoizedState),ga(e,i.next.queue,{},nn())}function of(){return yt(Na)}function Im(){return We().memoizedState}function Km(){return We().memoizedState}function Tw(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=nn();e=Ei(a);var o=xi(i,e,a);o!==null&&(qt(o,i,a),ha(o,i,a)),i={cache:Uc()},e.payload=i;return}i=i.return}}function Ow(e,i,a){var o=nn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},vo(e)?Gm(i,a):(a=Tc(e,i,a,o),a!==null&&(qt(a,e,o),Ym(a,i,o)))}function Vm(e,i,a){var o=nn();ga(e,i,a,o)}function ga(e,i,a,o){var f={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(vo(e))Gm(i,f);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var v=i.lastRenderedState,_=h(v,a);if(f.hasEagerState=!0,f.eagerState=_,Xt(_,v))return Fl(e,i,f,0),Be===null&&Xl(),!1}catch{}finally{}if(a=Tc(e,i,f,o),a!==null)return qt(a,e,o),Ym(a,i,o),!0}return!1}function uf(e,i,a,o){if(o={lane:2,revertLane:$f(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},vo(e)){if(i)throw Error(r(479))}else i=Tc(e,a,o,2),i!==null&&qt(i,e,2)}function vo(e){var i=e.alternate;return e===me||i!==null&&i===me}function Gm(e,i){lr=co=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Ym(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,Pd(e,a)}}var va={readContext:yt,use:po,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je};va.useEffectEvent=Je;var Jm={readContext:yt,use:po,useCallback:function(e,i){return Ct().memoizedState=[e,i===void 0?null:i],e},useContext:yt,useEffect:Mm,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,yo(4194308,4,jm.bind(null,i,e),a)},useLayoutEffect:function(e,i){return yo(4194308,4,e,i)},useInsertionEffect:function(e,i){yo(4,2,e,i)},useMemo:function(e,i){var a=Ct();i=i===void 0?null:i;var o=e();if(vs){mi(!0);try{e()}finally{mi(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=Ct();if(a!==void 0){var f=a(i);if(vs){mi(!0);try{a(i)}finally{mi(!1)}}}else f=i;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=Ow.bind(null,me,e),[o.memoizedState,e]},useRef:function(e){var i=Ct();return e={current:e},i.memoizedState=e},useState:function(e){e=tf(e);var i=e.queue,a=Vm.bind(null,me,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:rf,useDeferredValue:function(e,i){var a=Ct();return af(a,e,i)},useTransition:function(){var e=tf(!1);return e=Zm.bind(null,me,e.queue,!0,!1),Ct().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=me,f=Ct();if(xe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),Be===null)throw Error(r(349));(we&127)!==0||mm(o,i,a)}f.memoizedState=a;var h={value:a,getSnapshot:i};return f.queue=h,Mm(gm.bind(null,o,h,e),[e]),o.flags|=2048,ur(9,{destroy:void 0},ym.bind(null,o,h,a,i),null),a},useId:function(){var e=Ct(),i=Be.identifierPrefix;if(xe){var a=zn,o=On;a=(o&~(1<<32-Qt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=fo++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Sw++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:of,useFormState:Om,useActionState:Om,useOptimistic:function(e){var i=Ct();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=uf.bind(null,me,!0,a),a.dispatch=i,[e,i]},useMemoCache:Pc,useCacheRefresh:function(){return Ct().memoizedState=Tw.bind(null,me)},useEffectEvent:function(e){var i=Ct(),a={impl:e};return i.memoizedState=a,function(){if((Ae&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},cf={readContext:yt,use:po,useCallback:Bm,useContext:yt,useEffect:sf,useImperativeHandle:Um,useInsertionEffect:km,useLayoutEffect:Nm,useMemo:Lm,useReducer:mo,useRef:Am,useState:function(){return mo(Qn)},useDebugValue:rf,useDeferredValue:function(e,i){var a=We();return Hm(a,Ne.memoizedState,e,i)},useTransition:function(){var e=mo(Qn)[0],i=We().memoizedState;return[typeof e=="boolean"?e:ya(e),i]},useSyncExternalStore:pm,useId:Im,useHostTransitionStatus:of,useFormState:zm,useActionState:zm,useOptimistic:function(e,i){var a=We();return bm(a,Ne,e,i)},useMemoCache:Pc,useCacheRefresh:Km};cf.useEffectEvent=Dm;var Qm={readContext:yt,use:po,useCallback:Bm,useContext:yt,useEffect:sf,useImperativeHandle:Um,useInsertionEffect:km,useLayoutEffect:Nm,useMemo:Lm,useReducer:ef,useRef:Am,useState:function(){return ef(Qn)},useDebugValue:rf,useDeferredValue:function(e,i){var a=We();return Ne===null?af(a,e,i):Hm(a,Ne.memoizedState,e,i)},useTransition:function(){var e=ef(Qn)[0],i=We().memoizedState;return[typeof e=="boolean"?e:ya(e),i]},useSyncExternalStore:pm,useId:Im,useHostTransitionStatus:of,useFormState:Cm,useActionState:Cm,useOptimistic:function(e,i){var a=We();return Ne!==null?bm(a,Ne,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Pc,useCacheRefresh:Km};Qm.useEffectEvent=Dm;function ff(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:y({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var hf={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=nn(),f=Ei(o);f.payload=i,a!=null&&(f.callback=a),i=xi(e,f,o),i!==null&&(qt(i,e,o),ha(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=nn(),f=Ei(o);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=xi(e,f,o),i!==null&&(qt(i,e,o),ha(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=nn(),o=Ei(a);o.tag=2,i!=null&&(o.callback=i),i=xi(e,o,a),i!==null&&(qt(i,e,a),ha(i,e,a))}};function Xm(e,i,a,o,f,h,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,h,v):i.prototype&&i.prototype.isPureReactComponent?!sa(a,o)||!sa(f,h):!0}function Fm(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&hf.enqueueReplaceState(i,i.state,null)}function Ss(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=y({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function Pm(e){Ql(e)}function Wm(e){console.error(e)}function ey(e){Ql(e)}function So(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function ty(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function df(e,i,a){return a=Ei(a),a.tag=3,a.payload={element:null},a.callback=function(){So(e,i)},a}function ny(e){return e=Ei(e),e.tag=3,e}function iy(e,i,a,o){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var h=o.value;e.payload=function(){return f(h)},e.callback=function(){ty(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){ty(i,a,o),typeof f!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var _=o.stack;this.componentDidCatch(o.value,{componentStack:_!==null?_:""})})}function zw(e,i,a,o,f){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&tr(i,a,f,!0),a=Pt.current,a!==null){switch(a.tag){case 31:case 13:return dn===null?Mo():a.alternate===null&&Qe===0&&(Qe=3),a.flags&=-257,a.flags|=65536,a.lanes=f,o===ro?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Lf(e,o,f)),!1;case 22:return a.flags|=65536,o===ro?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Lf(e,o,f)),!1}throw Error(r(435,a.tag))}return Lf(e,o,f),Mo(),!1}if(xe)return i=Pt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,o!==Mc&&(e=Error(r(422),{cause:o}),la(un(e,a)))):(o!==Mc&&(i=Error(r(423),{cause:o}),la(un(i,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=un(o,a),f=df(e.stateNode,o,f),qc(e,f),Qe!==4&&(Qe=2)),!1;var h=Error(r(520),{cause:o});if(h=un(h,a),Oa===null?Oa=[h]:Oa.push(h),Qe!==4&&(Qe=2),i===null)return!0;o=un(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=df(a.stateNode,o,e),qc(a,e),!1;case 1:if(i=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ai===null||!Ai.has(h))))return a.flags|=65536,f&=-f,a.lanes|=f,f=ny(f),iy(f,e,a,o),qc(a,f),!1}a=a.return}while(a!==null);return!1}var pf=Error(r(461)),nt=!1;function gt(e,i,a,o){i.child=e===null?lm(i,null,a,o):gs(i,e.child,a,o)}function sy(e,i,a,o,f){a=a.render;var h=i.ref;if("ref"in o){var v={};for(var _ in o)_!=="ref"&&(v[_]=o[_])}else v=o;return ds(i),o=Jc(e,i,a,v,h,f),_=Qc(),e!==null&&!nt?(Xc(e,i,f),Xn(e,i,f)):(xe&&_&&Cc(i),i.flags|=1,gt(e,i,o,f),i.child)}function ry(e,i,a,o,f){if(e===null){var h=a.type;return typeof h=="function"&&!Oc(h)&&h.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=h,ay(e,i,h,o,f)):(e=Wl(a.type,null,o,i,i.mode,f),e.ref=i.ref,e.return=i,i.child=e)}if(h=e.child,!_f(e,f)){var v=h.memoizedProps;if(a=a.compare,a=a!==null?a:sa,a(v,o)&&e.ref===i.ref)return Xn(e,i,f)}return i.flags|=1,e=Kn(h,o),e.ref=i.ref,e.return=i,i.child=e}function ay(e,i,a,o,f){if(e!==null){var h=e.memoizedProps;if(sa(h,o)&&e.ref===i.ref)if(nt=!1,i.pendingProps=o=h,_f(e,f))(e.flags&131072)!==0&&(nt=!0);else return i.lanes=e.lanes,Xn(e,i,f)}return mf(e,i,a,o,f)}function ly(e,i,a,o){var f=o.children,h=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,e!==null){for(o=i.child=e.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~h}else o=0,i.child=null;return oy(e,i,h,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&io(i,h!==null?h.cachePool:null),h!==null?cm(i,h):Kc(),fm(i);else return o=i.lanes=536870912,oy(e,i,h!==null?h.baseLanes|a:a,a,o)}else h!==null?(io(i,h.cachePool),cm(i,h),Oi(),i.memoizedState=null):(e!==null&&io(i,null),Kc(),Oi());return gt(e,i,f,a),i.child}function Sa(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function oy(e,i,a,o,f){var h=Lc();return h=h===null?null:{parent:et._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&io(i,null),Kc(),fm(i),e!==null&&tr(e,i,o,!0),i.childLanes=f,null}function bo(e,i){return i=_o({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function uy(e,i,a){return gs(i,e.child,null,a),e=bo(i,i.pendingProps),e.flags|=2,Wt(i),i.memoizedState=null,e}function Rw(e,i,a){var o=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(xe){if(o.mode==="hidden")return e=bo(i,o),i.lanes=536870912,Sa(null,e);if(Gc(i),(e=Ze)?(e=wg(e,hn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:vi!==null?{id:On,overflow:zn}:null,retryLane:536870912,hydrationErrors:null},a=Gp(e),a.return=i,i.child=a,mt=i,Ze=null)):e=null,e===null)throw bi(i);return i.lanes=536870912,null}return bo(i,o)}var h=e.memoizedState;if(h!==null){var v=h.dehydrated;if(Gc(i),f)if(i.flags&256)i.flags&=-257,i=uy(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(nt||tr(e,i,a,!1),f=(a&e.childLanes)!==0,nt||f){if(o=Be,o!==null&&(v=Wd(o,a),v!==0&&v!==h.retryLane))throw h.retryLane=v,us(e,v),qt(o,e,v),pf;Mo(),i=uy(e,i,a)}else e=h.treeContext,Ze=pn(v.nextSibling),mt=i,xe=!0,Si=null,hn=!1,e!==null&&Qp(i,e),i=bo(i,o),i.flags|=4096;return i}return e=Kn(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function wo(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function mf(e,i,a,o,f){return ds(i),a=Jc(e,i,a,o,void 0,f),o=Qc(),e!==null&&!nt?(Xc(e,i,f),Xn(e,i,f)):(xe&&o&&Cc(i),i.flags|=1,gt(e,i,a,f),i.child)}function cy(e,i,a,o,f,h){return ds(i),i.updateQueue=null,a=dm(i,o,a,f),hm(e),o=Qc(),e!==null&&!nt?(Xc(e,i,h),Xn(e,i,h)):(xe&&o&&Cc(i),i.flags|=1,gt(e,i,a,h),i.child)}function fy(e,i,a,o,f){if(ds(i),i.stateNode===null){var h=Fs,v=a.contextType;typeof v=="object"&&v!==null&&(h=yt(v)),h=new a(o,h),i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=hf,i.stateNode=h,h._reactInternals=i,h=i.stateNode,h.props=o,h.state=i.memoizedState,h.refs={},Zc(i),v=a.contextType,h.context=typeof v=="object"&&v!==null?yt(v):Fs,h.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(ff(i,a,v,o),h.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(v=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),v!==h.state&&hf.enqueueReplaceState(h,h.state,null),pa(i,o,h,f),da(),h.state=i.memoizedState),typeof h.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){h=i.stateNode;var _=i.memoizedProps,T=Ss(a,_);h.props=T;var D=h.context,H=a.contextType;v=Fs,typeof H=="object"&&H!==null&&(v=yt(H));var q=a.getDerivedStateFromProps;H=typeof q=="function"||typeof h.getSnapshotBeforeUpdate=="function",_=i.pendingProps!==_,H||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_||D!==v)&&Fm(i,h,o,v),_i=!1;var k=i.memoizedState;h.state=k,pa(i,o,h,f),da(),D=i.memoizedState,_||k!==D||_i?(typeof q=="function"&&(ff(i,a,q,o),D=i.memoizedState),(T=_i||Xm(i,a,T,o,k,D,v))?(H||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(i.flags|=4194308)):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=D),h.props=o,h.state=D,h.context=v,o=T):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{h=i.stateNode,$c(e,i),v=i.memoizedProps,H=Ss(a,v),h.props=H,q=i.pendingProps,k=h.context,D=a.contextType,T=Fs,typeof D=="object"&&D!==null&&(T=yt(D)),_=a.getDerivedStateFromProps,(D=typeof _=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==q||k!==T)&&Fm(i,h,o,T),_i=!1,k=i.memoizedState,h.state=k,pa(i,o,h,f),da();var U=i.memoizedState;v!==q||k!==U||_i||e!==null&&e.dependencies!==null&&to(e.dependencies)?(typeof _=="function"&&(ff(i,a,_,o),U=i.memoizedState),(H=_i||Xm(i,a,H,o,k,U,T)||e!==null&&e.dependencies!==null&&to(e.dependencies))?(D||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,U,T),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,U,T)),typeof h.componentDidUpdate=="function"&&(i.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof h.componentDidUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=U),h.props=o,h.state=U,h.context=T,o=H):(typeof h.componentDidUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(i.flags|=1024),o=!1)}return h=o,wo(e,i),o=(i.flags&128)!==0,h||o?(h=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:h.render(),i.flags|=1,e!==null&&o?(i.child=gs(i,e.child,null,f),i.child=gs(i,null,a,f)):gt(e,i,a,f),i.memoizedState=h.state,e=i.child):e=Xn(e,i,f),e}function hy(e,i,a,o){return fs(),i.flags|=256,gt(e,i,a,o),i.child}var yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gf(e){return{baseLanes:e,cachePool:tm()}}function vf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=tn),e}function dy(e,i,a){var o=i.pendingProps,f=!1,h=(i.flags&128)!==0,v;if((v=h)||(v=e!==null&&e.memoizedState===null?!1:(Pe.current&2)!==0),v&&(f=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(xe){if(f?Ti(i):Oi(),(e=Ze)?(e=wg(e,hn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:vi!==null?{id:On,overflow:zn}:null,retryLane:536870912,hydrationErrors:null},a=Gp(e),a.return=i,i.child=a,mt=i,Ze=null)):e=null,e===null)throw bi(i);return eh(e)?i.lanes=32:i.lanes=536870912,null}var _=o.children;return o=o.fallback,f?(Oi(),f=i.mode,_=_o({mode:"hidden",children:_},f),o=cs(o,f,a,null),_.return=i,o.return=i,_.sibling=o,i.child=_,o=i.child,o.memoizedState=gf(a),o.childLanes=vf(e,v,a),i.memoizedState=yf,Sa(null,o)):(Ti(i),Sf(i,_))}var T=e.memoizedState;if(T!==null&&(_=T.dehydrated,_!==null)){if(h)i.flags&256?(Ti(i),i.flags&=-257,i=bf(e,i,a)):i.memoizedState!==null?(Oi(),i.child=e.child,i.flags|=128,i=null):(Oi(),_=o.fallback,f=i.mode,o=_o({mode:"visible",children:o.children},f),_=cs(_,f,a,null),_.flags|=2,o.return=i,_.return=i,o.sibling=_,i.child=o,gs(i,e.child,null,a),o=i.child,o.memoizedState=gf(a),o.childLanes=vf(e,v,a),i.memoizedState=yf,i=Sa(null,o));else if(Ti(i),eh(_)){if(v=_.nextSibling&&_.nextSibling.dataset,v)var D=v.dgst;v=D,o=Error(r(419)),o.stack="",o.digest=v,la({value:o,source:null,stack:null}),i=bf(e,i,a)}else if(nt||tr(e,i,a,!1),v=(a&e.childLanes)!==0,nt||v){if(v=Be,v!==null&&(o=Wd(v,a),o!==0&&o!==T.retryLane))throw T.retryLane=o,us(e,o),qt(v,e,o),pf;Wf(_)||Mo(),i=bf(e,i,a)}else Wf(_)?(i.flags|=192,i.child=e.child,i=null):(e=T.treeContext,Ze=pn(_.nextSibling),mt=i,xe=!0,Si=null,hn=!1,e!==null&&Qp(i,e),i=Sf(i,o.children),i.flags|=4096);return i}return f?(Oi(),_=o.fallback,f=i.mode,T=e.child,D=T.sibling,o=Kn(T,{mode:"hidden",children:o.children}),o.subtreeFlags=T.subtreeFlags&65011712,D!==null?_=Kn(D,_):(_=cs(_,f,a,null),_.flags|=2),_.return=i,o.return=i,o.sibling=_,i.child=o,Sa(null,o),o=i.child,_=e.child.memoizedState,_===null?_=gf(a):(f=_.cachePool,f!==null?(T=et._currentValue,f=f.parent!==T?{parent:T,pool:T}:f):f=tm(),_={baseLanes:_.baseLanes|a,cachePool:f}),o.memoizedState=_,o.childLanes=vf(e,v,a),i.memoizedState=yf,Sa(e.child,o)):(Ti(i),a=e.child,e=a.sibling,a=Kn(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Sf(e,i){return i=_o({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function _o(e,i){return e=Ft(22,e,null,i),e.lanes=0,e}function bf(e,i,a){return gs(i,e.child,null,a),e=Sf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function py(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Nc(e.return,i,a)}function wf(e,i,a,o,f,h){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:f,treeForkCount:h}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=a,v.tailMode=f,v.treeForkCount=h)}function my(e,i,a){var o=i.pendingProps,f=o.revealOrder,h=o.tail;o=o.children;var v=Pe.current,_=(v&2)!==0;if(_?(v=v&1|2,i.flags|=128):v&=1,X(Pe,v),gt(e,i,o,a),o=xe?aa:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&py(e,a,i);else if(e.tag===19)py(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)e=a.alternate,e!==null&&uo(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),wf(i,!1,f,a,h,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(e=f.alternate,e!==null&&uo(e)===null){i.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}wf(i,!0,a,null,h,o);break;case"together":wf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Xn(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Ci|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(tr(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=Kn(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Kn(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function _f(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&to(e)))}function Cw(e,i,a){switch(i.tag){case 3:ct(i,i.stateNode.containerInfo),wi(i,et,e.memoizedState.cache),fs();break;case 27:case 5:ns(i);break;case 4:ct(i,i.stateNode.containerInfo);break;case 10:wi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Gc(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Ti(i),i.flags|=128,null):(a&i.child.childLanes)!==0?dy(e,i,a):(Ti(i),e=Xn(e,i,a),e!==null?e.sibling:null);Ti(i);break;case 19:var f=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(tr(e,i,a,!1),o=(a&i.childLanes)!==0),f){if(o)return my(e,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),X(Pe,Pe.current),o)break;return null;case 22:return i.lanes=0,ly(e,i,a,i.pendingProps);case 24:wi(i,et,e.memoizedState.cache)}return Xn(e,i,a)}function yy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)nt=!0;else{if(!_f(e,a)&&(i.flags&128)===0)return nt=!1,Cw(e,i,a);nt=(e.flags&131072)!==0}else nt=!1,xe&&(i.flags&1048576)!==0&&Jp(i,aa,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(e=ms(i.elementType),i.type=e,typeof e=="function")Oc(e)?(o=Ss(e,o),i.tag=1,i=fy(null,i,e,o,a)):(i.tag=0,i=mf(null,i,e,o,a));else{if(e!=null){var f=e.$$typeof;if(f===K){i.tag=11,i=sy(null,i,e,o,a);break e}else if(f===J){i.tag=14,i=ry(null,i,e,o,a);break e}}throw i=xt(e)||e,Error(r(306,i,""))}}return i;case 0:return mf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,f=Ss(o,i.pendingProps),fy(e,i,o,f,a);case 3:e:{if(ct(i,i.stateNode.containerInfo),e===null)throw Error(r(387));o=i.pendingProps;var h=i.memoizedState;f=h.element,$c(e,i),pa(i,o,null,a);var v=i.memoizedState;if(o=v.cache,wi(i,et,o),o!==h.cache&&jc(i,[et],a,!0),da(),o=v.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=hy(e,i,o,a);break e}else if(o!==f){f=un(Error(r(424)),i),la(f),i=hy(e,i,o,a);break e}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ze=pn(e.firstChild),mt=i,xe=!0,Si=null,hn=!0,a=lm(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(fs(),o===f){i=Xn(e,i,a);break e}gt(e,i,o,a)}i=i.child}return i;case 26:return wo(e,i),e===null?(a=zg(i.type,null,i.pendingProps,null))?i.memoizedState=a:xe||(a=i.type,e=i.pendingProps,o=Lo(ge.current).createElement(a),o[pt]=i,o[Ut]=e,vt(o,a,e),ft(o),i.stateNode=o):i.memoizedState=zg(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ns(i),e===null&&xe&&(o=i.stateNode=xg(i.type,i.pendingProps,ge.current),mt=i,hn=!0,f=Ze,Ni(i.type)?(th=f,Ze=pn(o.firstChild)):Ze=f),gt(e,i,i.pendingProps.children,a),wo(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&xe&&((f=o=Ze)&&(o=r_(o,i.type,i.pendingProps,hn),o!==null?(i.stateNode=o,mt=i,Ze=pn(o.firstChild),hn=!1,f=!0):f=!1),f||bi(i)),ns(i),f=i.type,h=i.pendingProps,v=e!==null?e.memoizedProps:null,o=h.children,Xf(f,h)?o=null:v!==null&&Xf(f,v)&&(i.flags|=32),i.memoizedState!==null&&(f=Jc(e,i,bw,null,null,a),Na._currentValue=f),wo(e,i),gt(e,i,o,a),i.child;case 6:return e===null&&xe&&((e=a=Ze)&&(a=a_(a,i.pendingProps,hn),a!==null?(i.stateNode=a,mt=i,Ze=null,e=!0):e=!1),e||bi(i)),null;case 13:return dy(e,i,a);case 4:return ct(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=gs(i,null,o,a):gt(e,i,o,a),i.child;case 11:return sy(e,i,i.type,i.pendingProps,a);case 7:return gt(e,i,i.pendingProps,a),i.child;case 8:return gt(e,i,i.pendingProps.children,a),i.child;case 12:return gt(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,wi(i,i.type,o.value),gt(e,i,o.children,a),i.child;case 9:return f=i.type._context,o=i.pendingProps.children,ds(i),f=yt(f),o=o(f),i.flags|=1,gt(e,i,o,a),i.child;case 14:return ry(e,i,i.type,i.pendingProps,a);case 15:return ay(e,i,i.type,i.pendingProps,a);case 19:return my(e,i,a);case 31:return Rw(e,i,a);case 22:return ly(e,i,a,i.pendingProps);case 24:return ds(i),o=yt(et),e===null?(f=Lc(),f===null&&(f=Be,h=Uc(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=a),f=h),i.memoizedState={parent:o,cache:f},Zc(i),wi(i,et,f)):((e.lanes&a)!==0&&($c(e,i),pa(i,null,null,a),da()),f=e.memoizedState,h=i.memoizedState,f.parent!==o?(f={parent:o,cache:o},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),wi(i,et,o)):(o=h.cache,wi(i,et,o),o!==f.cache&&jc(i,[et],a,!0))),gt(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Fn(e){e.flags|=4}function Ef(e,i,a,o,f){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Iy())e.flags|=8192;else throw ys=ro,Hc}else e.flags&=-16777217}function gy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Dg(i))if(Iy())e.flags|=8192;else throw ys=ro,Hc}function Eo(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Xd():536870912,e.lanes|=i,dr|=i)}function ba(e,i){if(!xe)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function $e(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function Aw(e,i,a){var o=i.pendingProps;switch(Ac(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(i),null;case 1:return $e(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Yn(et),Le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(er(i)?Fn(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Dc())),$e(i),null;case 26:var f=i.type,h=i.memoizedState;return e===null?(Fn(i),h!==null?($e(i),gy(i,h)):($e(i),Ef(i,f,null,o,a))):h?h!==e.memoizedState?(Fn(i),$e(i),gy(i,h)):($e(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&Fn(i),$e(i),Ef(i,f,e,o,a)),null;case 27:if(Bs(i),a=ge.current,f=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Fn(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return $e(i),null}e=re.current,er(i)?Xp(i):(e=xg(f,o,a),i.stateNode=e,Fn(i))}return $e(i),null;case 5:if(Bs(i),f=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Fn(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return $e(i),null}if(h=re.current,er(i))Xp(i);else{var v=Lo(ge.current);switch(h){case 1:h=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=v.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?h.multiple=!0:o.size&&(h.size=o.size);break;default:h=typeof o.is=="string"?v.createElement(f,{is:o.is}):v.createElement(f)}}h[pt]=i,h[Ut]=o;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)h.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=h;e:switch(vt(h,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Fn(i)}}return $e(i),Ef(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Fn(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(e=ge.current,er(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,f=mt,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[pt]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||dg(e.nodeValue,a)),e||bi(i,!0)}else e=Lo(e).createTextNode(o),e[pt]=i,i.stateNode=e}return $e(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(o=er(i),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[pt]=i}else fs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;$e(i),e=!1}else a=Dc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(Wt(i),i):(Wt(i),null);if((i.flags&128)!==0)throw Error(r(558))}return $e(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=er(i),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[pt]=i}else fs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;$e(i),f=!1}else f=Dc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Wt(i),i):(Wt(i),null)}return Wt(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=i.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==f&&(o.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),Eo(i,i.updateQueue),$e(i),null);case 4:return Le(),e===null&&Vf(i.stateNode.containerInfo),$e(i),null;case 10:return Yn(i.type),$e(i),null;case 19:if(I(Pe),o=i.memoizedState,o===null)return $e(i),null;if(f=(i.flags&128)!==0,h=o.rendering,h===null)if(f)ba(o,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(h=uo(e),h!==null){for(i.flags|=128,ba(o,!1),e=h.updateQueue,i.updateQueue=e,Eo(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Vp(a,e),a=a.sibling;return X(Pe,Pe.current&1|2),xe&&Vn(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&Yt()>Ro&&(i.flags|=128,f=!0,ba(o,!1),i.lanes=4194304)}else{if(!f)if(e=uo(h),e!==null){if(i.flags|=128,f=!0,e=e.updateQueue,i.updateQueue=e,Eo(i,e),ba(o,!0),o.tail===null&&o.tailMode==="hidden"&&!h.alternate&&!xe)return $e(i),null}else 2*Yt()-o.renderingStartTime>Ro&&a!==536870912&&(i.flags|=128,f=!0,ba(o,!1),i.lanes=4194304);o.isBackwards?(h.sibling=i.child,i.child=h):(e=o.last,e!==null?e.sibling=h:i.child=h,o.last=h)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Yt(),e.sibling=null,a=Pe.current,X(Pe,f?a&1|2:a&1),xe&&Vn(i,o.treeForkCount),e):($e(i),null);case 22:case 23:return Wt(i),Vc(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&($e(i),i.subtreeFlags&6&&(i.flags|=8192)):$e(i),a=i.updateQueue,a!==null&&Eo(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&I(ps),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Yn(et),$e(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function Mw(e,i){switch(Ac(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Yn(et),Le(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Bs(i),null;case 31:if(i.memoizedState!==null){if(Wt(i),i.alternate===null)throw Error(r(340));fs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Wt(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));fs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return I(Pe),null;case 4:return Le(),null;case 10:return Yn(i.type),null;case 22:case 23:return Wt(i),Vc(),e!==null&&I(ps),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Yn(et),null;case 25:return null;default:return null}}function vy(e,i){switch(Ac(i),i.tag){case 3:Yn(et),Le();break;case 26:case 27:case 5:Bs(i);break;case 4:Le();break;case 31:i.memoizedState!==null&&Wt(i);break;case 13:Wt(i);break;case 19:I(Pe);break;case 10:Yn(i.type);break;case 22:case 23:Wt(i),Vc(),e!==null&&I(ps);break;case 24:Yn(et)}}function wa(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&e)===e){o=void 0;var h=a.create,v=a.inst;o=h(),v.destroy=o}a=a.next}while(a!==f)}}catch(_){De(i,i.return,_)}}function zi(e,i,a){try{var o=i.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var h=f.next;o=h;do{if((o.tag&e)===e){var v=o.inst,_=v.destroy;if(_!==void 0){v.destroy=void 0,f=i;var T=a,D=_;try{D()}catch(H){De(f,T,H)}}}o=o.next}while(o!==h)}}catch(H){De(i,i.return,H)}}function Sy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{um(i,a)}catch(o){De(e,e.return,o)}}}function by(e,i,a){a.props=Ss(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){De(e,i,o)}}function _a(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(f){De(e,i,f)}}function Rn(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(f){De(e,i,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){De(e,i,f)}else a.current=null}function wy(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(f){De(e,e.return,f)}}function xf(e,i,a){try{var o=e.stateNode;Ww(o,e.type,a,i),o[Ut]=i}catch(f){De(e,e.return,f)}}function _y(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ni(e.type)||e.tag===4}function Tf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_y(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ni(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Of(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=qn));else if(o!==4&&(o===27&&Ni(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Of(e,i,a),e=e.sibling;e!==null;)Of(e,i,a),e=e.sibling}function xo(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Ni(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(xo(e,i,a),e=e.sibling;e!==null;)xo(e,i,a),e=e.sibling}function Ey(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);vt(i,o,a),i[pt]=e,i[Ut]=a}catch(h){De(e,e.return,h)}}var Pn=!1,it=!1,zf=!1,xy=typeof WeakSet=="function"?WeakSet:Set,ht=null;function Dw(e,i){if(e=e.containerInfo,Jf=Vo,e=Up(e),Sc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var f=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var v=0,_=-1,T=-1,D=0,H=0,q=e,k=null;t:for(;;){for(var U;q!==a||f!==0&&q.nodeType!==3||(_=v+f),q!==h||o!==0&&q.nodeType!==3||(T=v+o),q.nodeType===3&&(v+=q.nodeValue.length),(U=q.firstChild)!==null;)k=q,q=U;for(;;){if(q===e)break t;if(k===a&&++D===f&&(_=v),k===h&&++H===o&&(T=v),(U=q.nextSibling)!==null)break;q=k,k=q.parentNode}q=U}a=_===-1||T===-1?null:{start:_,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qf={focusedElem:e,selectionRange:a},Vo=!1,ht=i;ht!==null;)if(i=ht,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,ht=e;else for(;ht!==null;){switch(i=ht,h=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,a=i,f=h.memoizedProps,h=h.memoizedState,o=a.stateNode;try{var se=Ss(a.type,f);e=o.getSnapshotBeforeUpdate(se,h),o.__reactInternalSnapshotBeforeUpdate=e}catch(fe){De(a,a.return,fe)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Pf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,ht=e;break}ht=i.return}}function Ty(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ei(e,a),o&4&&wa(5,a);break;case 1:if(ei(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){De(a,a.return,v)}else{var f=Ss(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(f,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){De(a,a.return,v)}}o&64&&Sy(a),o&512&&_a(a,a.return);break;case 3:if(ei(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{um(e,i)}catch(v){De(a,a.return,v)}}break;case 27:i===null&&o&4&&Ey(a);case 26:case 5:ei(e,a),i===null&&o&4&&wy(a),o&512&&_a(a,a.return);break;case 12:ei(e,a);break;case 31:ei(e,a),o&4&&Ry(e,a);break;case 13:ei(e,a),o&4&&Cy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=$w.bind(null,a),l_(e,a))));break;case 22:if(o=a.memoizedState!==null||Pn,!o){i=i!==null&&i.memoizedState!==null||it,f=Pn;var h=it;Pn=o,(it=i)&&!h?ti(e,a,(a.subtreeFlags&8772)!==0):ei(e,a),Pn=f,it=h}break;case 30:break;default:ei(e,a)}}function Oy(e){var i=e.alternate;i!==null&&(e.alternate=null,Oy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&nc(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,Lt=!1;function Wn(e,i,a){for(a=a.child;a!==null;)zy(e,i,a),a=a.sibling}function zy(e,i,a){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Gr,a)}catch{}switch(a.tag){case 26:it||Rn(a,i),Wn(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:it||Rn(a,i);var o=qe,f=Lt;Ni(a.type)&&(qe=a.stateNode,Lt=!1),Wn(e,i,a),Ma(a.stateNode),qe=o,Lt=f;break;case 5:it||Rn(a,i);case 6:if(o=qe,f=Lt,qe=null,Wn(e,i,a),qe=o,Lt=f,qe!==null)if(Lt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(a.stateNode)}catch(h){De(a,i,h)}else try{qe.removeChild(a.stateNode)}catch(h){De(a,i,h)}break;case 18:qe!==null&&(Lt?(e=qe,Sg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),wr(e)):Sg(qe,a.stateNode));break;case 4:o=qe,f=Lt,qe=a.stateNode.containerInfo,Lt=!0,Wn(e,i,a),qe=o,Lt=f;break;case 0:case 11:case 14:case 15:zi(2,a,i),it||zi(4,a,i),Wn(e,i,a);break;case 1:it||(Rn(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&by(a,i,o)),Wn(e,i,a);break;case 21:Wn(e,i,a);break;case 22:it=(o=it)||a.memoizedState!==null,Wn(e,i,a),it=o;break;default:Wn(e,i,a)}}function Ry(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{wr(e)}catch(a){De(i,i.return,a)}}}function Cy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wr(e)}catch(a){De(i,i.return,a)}}function kw(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new xy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new xy),i;default:throw Error(r(435,e.tag))}}function To(e,i){var a=kw(e);i.forEach(function(o){if(!a.has(o)){a.add(o);var f=qw.bind(null,e,o);o.then(f,f)}})}function Ht(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var f=a[o],h=e,v=i,_=v;e:for(;_!==null;){switch(_.tag){case 27:if(Ni(_.type)){qe=_.stateNode,Lt=!1;break e}break;case 5:qe=_.stateNode,Lt=!1;break e;case 3:case 4:qe=_.stateNode.containerInfo,Lt=!0;break e}_=_.return}if(qe===null)throw Error(r(160));zy(h,v,f),qe=null,Lt=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Ay(i,e),i=i.sibling}var En=null;function Ay(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ht(i,e),Zt(e),o&4&&(zi(3,e,e.return),wa(3,e),zi(5,e,e.return));break;case 1:Ht(i,e),Zt(e),o&512&&(it||a===null||Rn(a,a.return)),o&64&&Pn&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var f=En;if(Ht(i,e),Zt(e),o&512&&(it||a===null||Rn(a,a.return)),o&4){var h=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){e:{o=e.type,a=e.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":h=f.getElementsByTagName("title")[0],(!h||h[Qr]||h[pt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(o),f.head.insertBefore(h,f.querySelector("head > title"))),vt(h,o,a),h[pt]=e,ft(h),o=h;break e;case"link":var v=Ag("link","href",f).get(o+(a.href||""));if(v){for(var _=0;_<v.length;_++)if(h=v[_],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(_,1);break t}}h=f.createElement(o),vt(h,o,a),f.head.appendChild(h);break;case"meta":if(v=Ag("meta","content",f).get(o+(a.content||""))){for(_=0;_<v.length;_++)if(h=v[_],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(_,1);break t}}h=f.createElement(o),vt(h,o,a),f.head.appendChild(h);break;default:throw Error(r(468,o))}h[pt]=e,ft(h),o=h}e.stateNode=o}else Mg(f,e.type,e.stateNode);else e.stateNode=Cg(f,o,e.memoizedProps);else h!==o?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,o===null?Mg(f,e.type,e.stateNode):Cg(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&xf(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ht(i,e),Zt(e),o&512&&(it||a===null||Rn(a,a.return)),a!==null&&o&4&&xf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ht(i,e),Zt(e),o&512&&(it||a===null||Rn(a,a.return)),e.flags&32){f=e.stateNode;try{Ks(f,"")}catch(se){De(e,e.return,se)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,xf(e,f,a!==null?a.memoizedProps:f)),o&1024&&(zf=!0);break;case 6:if(Ht(i,e),Zt(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(se){De(e,e.return,se)}}break;case 3:if($o=null,f=En,En=Ho(i.containerInfo),Ht(i,e),En=f,Zt(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{wr(i.containerInfo)}catch(se){De(e,e.return,se)}zf&&(zf=!1,My(e));break;case 4:o=En,En=Ho(e.stateNode.containerInfo),Ht(i,e),Zt(e),En=o;break;case 12:Ht(i,e),Zt(e);break;case 31:Ht(i,e),Zt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,To(e,o)));break;case 13:Ht(i,e),Zt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(zo=Yt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,To(e,o)));break;case 22:f=e.memoizedState!==null;var T=a!==null&&a.memoizedState!==null,D=Pn,H=it;if(Pn=D||f,it=H||T,Ht(i,e),it=H,Pn=D,Zt(e),o&8192)e:for(i=e.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||T||Pn||it||bs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){T=a=i;try{if(h=T.stateNode,f)v=h.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{_=T.stateNode;var q=T.memoizedProps.style,k=q!=null&&q.hasOwnProperty("display")?q.display:null;_.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(se){De(T,T.return,se)}}}else if(i.tag===6){if(a===null){T=i;try{T.stateNode.nodeValue=f?"":T.memoizedProps}catch(se){De(T,T.return,se)}}}else if(i.tag===18){if(a===null){T=i;try{var U=T.stateNode;f?bg(U,!0):bg(T.stateNode,!1)}catch(se){De(T,T.return,se)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,To(e,a))));break;case 19:Ht(i,e),Zt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,To(e,o)));break;case 30:break;case 21:break;default:Ht(i,e),Zt(e)}}function Zt(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(_y(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,h=Tf(e);xo(e,h,f);break;case 5:var v=a.stateNode;a.flags&32&&(Ks(v,""),a.flags&=-33);var _=Tf(e);xo(e,_,v);break;case 3:case 4:var T=a.stateNode.containerInfo,D=Tf(e);Of(e,D,T);break;default:throw Error(r(161))}}catch(H){De(e,e.return,H)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function My(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;My(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function ei(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ty(e,i.alternate,i),i=i.sibling}function bs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:zi(4,i,i.return),bs(i);break;case 1:Rn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&by(i,i.return,a),bs(i);break;case 27:Ma(i.stateNode);case 26:case 5:Rn(i,i.return),bs(i);break;case 22:i.memoizedState===null&&bs(i);break;case 30:bs(i);break;default:bs(i)}e=e.sibling}}function ti(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,f=e,h=i,v=h.flags;switch(h.tag){case 0:case 11:case 15:ti(f,h,a),wa(4,h);break;case 1:if(ti(f,h,a),o=h,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(D){De(o,o.return,D)}if(o=h,f=o.updateQueue,f!==null){var _=o.stateNode;try{var T=f.shared.hiddenCallbacks;if(T!==null)for(f.shared.hiddenCallbacks=null,f=0;f<T.length;f++)om(T[f],_)}catch(D){De(o,o.return,D)}}a&&v&64&&Sy(h),_a(h,h.return);break;case 27:Ey(h);case 26:case 5:ti(f,h,a),a&&o===null&&v&4&&wy(h),_a(h,h.return);break;case 12:ti(f,h,a);break;case 31:ti(f,h,a),a&&v&4&&Ry(f,h);break;case 13:ti(f,h,a),a&&v&4&&Cy(f,h);break;case 22:h.memoizedState===null&&ti(f,h,a),_a(h,h.return);break;case 30:break;default:ti(f,h,a)}i=i.sibling}}function Rf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&oa(a))}function Cf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&oa(e))}function xn(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Dy(e,i,a,o),i=i.sibling}function Dy(e,i,a,o){var f=i.flags;switch(i.tag){case 0:case 11:case 15:xn(e,i,a,o),f&2048&&wa(9,i);break;case 1:xn(e,i,a,o);break;case 3:xn(e,i,a,o),f&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&oa(e)));break;case 12:if(f&2048){xn(e,i,a,o),e=i.stateNode;try{var h=i.memoizedProps,v=h.id,_=h.onPostCommit;typeof _=="function"&&_(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){De(i,i.return,T)}}else xn(e,i,a,o);break;case 31:xn(e,i,a,o);break;case 13:xn(e,i,a,o);break;case 23:break;case 22:h=i.stateNode,v=i.alternate,i.memoizedState!==null?h._visibility&2?xn(e,i,a,o):Ea(e,i):h._visibility&2?xn(e,i,a,o):(h._visibility|=2,cr(e,i,a,o,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Rf(v,i);break;case 24:xn(e,i,a,o),f&2048&&Cf(i.alternate,i);break;default:xn(e,i,a,o)}}function cr(e,i,a,o,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var h=e,v=i,_=a,T=o,D=v.flags;switch(v.tag){case 0:case 11:case 15:cr(h,v,_,T,f),wa(8,v);break;case 23:break;case 22:var H=v.stateNode;v.memoizedState!==null?H._visibility&2?cr(h,v,_,T,f):Ea(h,v):(H._visibility|=2,cr(h,v,_,T,f)),f&&D&2048&&Rf(v.alternate,v);break;case 24:cr(h,v,_,T,f),f&&D&2048&&Cf(v.alternate,v);break;default:cr(h,v,_,T,f)}i=i.sibling}}function Ea(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,f=o.flags;switch(o.tag){case 22:Ea(a,o),f&2048&&Rf(o.alternate,o);break;case 24:Ea(a,o),f&2048&&Cf(o.alternate,o);break;default:Ea(a,o)}i=i.sibling}}var xa=8192;function fr(e,i,a){if(e.subtreeFlags&xa)for(e=e.child;e!==null;)ky(e,i,a),e=e.sibling}function ky(e,i,a){switch(e.tag){case 26:fr(e,i,a),e.flags&xa&&e.memoizedState!==null&&S_(a,En,e.memoizedState,e.memoizedProps);break;case 5:fr(e,i,a);break;case 3:case 4:var o=En;En=Ho(e.stateNode.containerInfo),fr(e,i,a),En=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=xa,xa=16777216,fr(e,i,a),xa=o):fr(e,i,a));break;default:fr(e,i,a)}}function Ny(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Ta(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];ht=o,Uy(o,e)}Ny(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jy(e),e=e.sibling}function jy(e){switch(e.tag){case 0:case 11:case 15:Ta(e),e.flags&2048&&zi(9,e,e.return);break;case 3:Ta(e);break;case 12:Ta(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Oo(e)):Ta(e);break;default:Ta(e)}}function Oo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];ht=o,Uy(o,e)}Ny(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:zi(8,i,i.return),Oo(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Oo(i));break;default:Oo(i)}e=e.sibling}}function Uy(e,i){for(;ht!==null;){var a=ht;switch(a.tag){case 0:case 11:case 15:zi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:oa(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,ht=o;else e:for(a=e;ht!==null;){o=ht;var f=o.sibling,h=o.return;if(Oy(o),o===a){ht=null;break e}if(f!==null){f.return=h,ht=f;break e}ht=h}}}var Nw={getCacheForType:function(e){var i=yt(et),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return yt(et).controller.signal}},jw=typeof WeakMap=="function"?WeakMap:Map,Ae=0,Be=null,Se=null,we=0,Me=0,en=null,Ri=!1,hr=!1,Af=!1,ni=0,Qe=0,Ci=0,ws=0,Mf=0,tn=0,dr=0,Oa=null,$t=null,Df=!1,zo=0,By=0,Ro=1/0,Co=null,Ai=null,lt=0,Mi=null,pr=null,ii=0,kf=0,Nf=null,Ly=null,za=0,jf=null;function nn(){return(Ae&2)!==0&&we!==0?we&-we:B.T!==null?$f():ep()}function Hy(){if(tn===0)if((we&536870912)===0||xe){var e=Ul;Ul<<=1,(Ul&3932160)===0&&(Ul=262144),tn=e}else tn=536870912;return e=Pt.current,e!==null&&(e.flags|=32),tn}function qt(e,i,a){(e===Be&&(Me===2||Me===9)||e.cancelPendingCommit!==null)&&(mr(e,0),Di(e,we,tn,!1)),Jr(e,a),((Ae&2)===0||e!==Be)&&(e===Be&&((Ae&2)===0&&(ws|=a),Qe===4&&Di(e,we,tn,!1)),Cn(e))}function Zy(e,i,a){if((Ae&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Yr(e,i),f=o?Lw(e,i):Bf(e,i,!0),h=o;do{if(f===0){hr&&!o&&Di(e,i,0,!1);break}else{if(a=e.current.alternate,h&&!Uw(a)){f=Bf(e,i,!1),h=!1;continue}if(f===2){if(h=i,e.errorRecoveryDisabledLanes&h)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var _=e;f=Oa;var T=_.current.memoizedState.isDehydrated;if(T&&(mr(_,v).flags|=256),v=Bf(_,v,!1),v!==2){if(Af&&!T){_.errorRecoveryDisabledLanes|=h,ws|=h,f=4;break e}h=$t,$t=f,h!==null&&($t===null?$t=h:$t.push.apply($t,h))}f=v}if(h=!1,f!==2)continue}}if(f===1){mr(e,0),Di(e,i,0,!0);break}e:{switch(o=e,h=f,h){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Di(o,i,tn,!Ri);break e;case 2:$t=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=zo+300-Yt(),10<f)){if(Di(o,i,tn,!Ri),Ll(o,0,!0)!==0)break e;ii=i,o.timeoutHandle=gg($y.bind(null,o,a,$t,Co,Df,i,tn,ws,dr,Ri,h,"Throttled",-0,0),f);break e}$y(o,a,$t,Co,Df,i,tn,ws,dr,Ri,h,null,-0,0)}}break}while(!0);Cn(e)}function $y(e,i,a,o,f,h,v,_,T,D,H,q,k,U){if(e.timeoutHandle=-1,q=i.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},ky(i,h,q);var se=(h&62914560)===h?zo-Yt():(h&4194048)===h?By-Yt():0;if(se=b_(q,se),se!==null){ii=h,e.cancelPendingCommit=se(Qy.bind(null,e,i,h,a,o,f,v,_,T,H,q,null,k,U)),Di(e,h,v,!D);return}}Qy(e,i,h,a,o,f,v,_,T)}function Uw(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var f=a[o],h=f.getSnapshot;f=f.value;try{if(!Xt(h(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Di(e,i,a,o){i&=~Mf,i&=~ws,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var f=i;0<f;){var h=31-Qt(f),v=1<<h;o[h]=-1,f&=~v}a!==0&&Fd(e,a,i)}function Ao(){return(Ae&6)===0?(Ra(0),!1):!0}function Uf(){if(Se!==null){if(Me===0)var e=Se.return;else e=Se,Gn=hs=null,Fc(e),rr=null,ca=0,e=Se;for(;e!==null;)vy(e.alternate,e),e=e.return;Se=null}}function mr(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,n_(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ii=0,Uf(),Be=e,Se=a=Kn(e.current,null),we=i,Me=0,en=null,Ri=!1,hr=Yr(e,i),Af=!1,dr=tn=Mf=ws=Ci=Qe=0,$t=Oa=null,Df=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var f=31-Qt(o),h=1<<f;i|=e[f],o&=~h}return ni=i,Xl(),a}function qy(e,i){me=null,B.H=va,i===sr||i===so?(i=sm(),Me=3):i===Hc?(i=sm(),Me=4):Me=i===pf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,en=i,Se===null&&(Qe=1,So(e,un(i,e.current)))}function Iy(){var e=Pt.current;return e===null?!0:(we&4194048)===we?dn===null:(we&62914560)===we||(we&536870912)!==0?e===dn:!1}function Ky(){var e=B.H;return B.H=va,e===null?va:e}function Vy(){var e=B.A;return B.A=Nw,e}function Mo(){Qe=4,Ri||(we&4194048)!==we&&Pt.current!==null||(hr=!0),(Ci&134217727)===0&&(ws&134217727)===0||Be===null||Di(Be,we,tn,!1)}function Bf(e,i,a){var o=Ae;Ae|=2;var f=Ky(),h=Vy();(Be!==e||we!==i)&&(Co=null,mr(e,i)),i=!1;var v=Qe;e:do try{if(Me!==0&&Se!==null){var _=Se,T=en;switch(Me){case 8:Uf(),v=6;break e;case 3:case 2:case 9:case 6:Pt.current===null&&(i=!0);var D=Me;if(Me=0,en=null,yr(e,_,T,D),a&&hr){v=0;break e}break;default:D=Me,Me=0,en=null,yr(e,_,T,D)}}Bw(),v=Qe;break}catch(H){qy(e,H)}while(!0);return i&&e.shellSuspendCounter++,Gn=hs=null,Ae=o,B.H=f,B.A=h,Se===null&&(Be=null,we=0,Xl()),v}function Bw(){for(;Se!==null;)Gy(Se)}function Lw(e,i){var a=Ae;Ae|=2;var o=Ky(),f=Vy();Be!==e||we!==i?(Co=null,Ro=Yt()+500,mr(e,i)):hr=Yr(e,i);e:do try{if(Me!==0&&Se!==null){i=Se;var h=en;t:switch(Me){case 1:Me=0,en=null,yr(e,i,h,1);break;case 2:case 9:if(nm(h)){Me=0,en=null,Yy(i);break}i=function(){Me!==2&&Me!==9||Be!==e||(Me=7),Cn(e)},h.then(i,i);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:nm(h)?(Me=0,en=null,Yy(i)):(Me=0,en=null,yr(e,i,h,7));break;case 5:var v=null;switch(Se.tag){case 26:v=Se.memoizedState;case 5:case 27:var _=Se;if(v?Dg(v):_.stateNode.complete){Me=0,en=null;var T=_.sibling;if(T!==null)Se=T;else{var D=_.return;D!==null?(Se=D,Do(D)):Se=null}break t}}Me=0,en=null,yr(e,i,h,5);break;case 6:Me=0,en=null,yr(e,i,h,6);break;case 8:Uf(),Qe=6;break e;default:throw Error(r(462))}}Hw();break}catch(H){qy(e,H)}while(!0);return Gn=hs=null,B.H=o,B.A=f,Ae=a,Se!==null?0:(Be=null,we=0,Xl(),Qe)}function Hw(){for(;Se!==null&&!ob();)Gy(Se)}function Gy(e){var i=yy(e.alternate,e,ni);e.memoizedProps=e.pendingProps,i===null?Do(e):Se=i}function Yy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=cy(a,i,i.pendingProps,i.type,void 0,we);break;case 11:i=cy(a,i,i.pendingProps,i.type.render,i.ref,we);break;case 5:Fc(i);default:vy(a,i),i=Se=Vp(i,ni),i=yy(a,i,ni)}e.memoizedProps=e.pendingProps,i===null?Do(e):Se=i}function yr(e,i,a,o){Gn=hs=null,Fc(i),rr=null,ca=0;var f=i.return;try{if(zw(e,f,i,a,we)){Qe=1,So(e,un(a,e.current)),Se=null;return}}catch(h){if(f!==null)throw Se=f,h;Qe=1,So(e,un(a,e.current)),Se=null;return}i.flags&32768?(xe||o===1?e=!0:hr||(we&536870912)!==0?e=!1:(Ri=e=!0,(o===2||o===9||o===3||o===6)&&(o=Pt.current,o!==null&&o.tag===13&&(o.flags|=16384))),Jy(i,e)):Do(i)}function Do(e){var i=e;do{if((i.flags&32768)!==0){Jy(i,Ri);return}e=i.return;var a=Aw(i.alternate,i,ni);if(a!==null){Se=a;return}if(i=i.sibling,i!==null){Se=i;return}Se=i=e}while(i!==null);Qe===0&&(Qe=5)}function Jy(e,i){do{var a=Mw(e.alternate,e);if(a!==null){a.flags&=32767,Se=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Se=e;return}Se=e=a}while(e!==null);Qe=6,Se=null}function Qy(e,i,a,o,f,h,v,_,T){e.cancelPendingCommit=null;do ko();while(lt!==0);if((Ae&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(h=i.lanes|i.childLanes,h|=xc,vb(e,a,h,v,_,T),e===Be&&(Se=Be=null,we=0),pr=i,Mi=e,ii=a,kf=h,Nf=f,Ly=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Iw(Nl,function(){return eg(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=B.T,B.T=null,f=Q.p,Q.p=2,v=Ae,Ae|=4;try{Dw(e,i,a)}finally{Ae=v,Q.p=f,B.T=o}}lt=1,Xy(),Fy(),Py()}}function Xy(){if(lt===1){lt=0;var e=Mi,i=pr,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var o=Q.p;Q.p=2;var f=Ae;Ae|=4;try{Ay(i,e);var h=Qf,v=Up(e.containerInfo),_=h.focusedElem,T=h.selectionRange;if(v!==_&&_&&_.ownerDocument&&jp(_.ownerDocument.documentElement,_)){if(T!==null&&Sc(_)){var D=T.start,H=T.end;if(H===void 0&&(H=D),"selectionStart"in _)_.selectionStart=D,_.selectionEnd=Math.min(H,_.value.length);else{var q=_.ownerDocument||document,k=q&&q.defaultView||window;if(k.getSelection){var U=k.getSelection(),se=_.textContent.length,fe=Math.min(T.start,se),Ue=T.end===void 0?fe:Math.min(T.end,se);!U.extend&&fe>Ue&&(v=Ue,Ue=fe,fe=v);var C=Np(_,fe),z=Np(_,Ue);if(C&&z&&(U.rangeCount!==1||U.anchorNode!==C.node||U.anchorOffset!==C.offset||U.focusNode!==z.node||U.focusOffset!==z.offset)){var A=q.createRange();A.setStart(C.node,C.offset),U.removeAllRanges(),fe>Ue?(U.addRange(A),U.extend(z.node,z.offset)):(A.setEnd(z.node,z.offset),U.addRange(A))}}}}for(q=[],U=_;U=U.parentNode;)U.nodeType===1&&q.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<q.length;_++){var Z=q[_];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Vo=!!Jf,Qf=Jf=null}finally{Ae=f,Q.p=o,B.T=a}}e.current=i,lt=2}}function Fy(){if(lt===2){lt=0;var e=Mi,i=pr,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var o=Q.p;Q.p=2;var f=Ae;Ae|=4;try{Ty(e,i.alternate,i)}finally{Ae=f,Q.p=o,B.T=a}}lt=3}}function Py(){if(lt===4||lt===3){lt=0,ub();var e=Mi,i=pr,a=ii,o=Ly;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?lt=5:(lt=0,pr=Mi=null,Wy(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Ai=null),ec(a),i=i.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Gr,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=B.T,f=Q.p,Q.p=2,B.T=null;try{for(var h=e.onRecoverableError,v=0;v<o.length;v++){var _=o[v];h(_.value,{componentStack:_.stack})}}finally{B.T=i,Q.p=f}}(ii&3)!==0&&ko(),Cn(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===jf?za++:(za=0,jf=e):za=0,Ra(0)}}function Wy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,oa(i)))}function ko(){return Xy(),Fy(),Py(),eg()}function eg(){if(lt!==5)return!1;var e=Mi,i=kf;kf=0;var a=ec(ii),o=B.T,f=Q.p;try{Q.p=32>a?32:a,B.T=null,a=Nf,Nf=null;var h=Mi,v=ii;if(lt=0,pr=Mi=null,ii=0,(Ae&6)!==0)throw Error(r(331));var _=Ae;if(Ae|=4,jy(h.current),Dy(h,h.current,v,a),Ae=_,Ra(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Gr,h)}catch{}return!0}finally{Q.p=f,B.T=o,Wy(e,i)}}function tg(e,i,a){i=un(a,i),i=df(e.stateNode,i,2),e=xi(e,i,2),e!==null&&(Jr(e,2),Cn(e))}function De(e,i,a){if(e.tag===3)tg(e,e,a);else for(;i!==null;){if(i.tag===3){tg(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ai===null||!Ai.has(o))){e=un(a,e),a=ny(2),o=xi(i,a,2),o!==null&&(iy(a,o,i,e),Jr(o,2),Cn(o));break}}i=i.return}}function Lf(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new jw;var f=new Set;o.set(i,f)}else f=o.get(i),f===void 0&&(f=new Set,o.set(i,f));f.has(a)||(Af=!0,f.add(a),e=Zw.bind(null,e,i,a),i.then(e,e))}function Zw(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Be===e&&(we&a)===a&&(Qe===4||Qe===3&&(we&62914560)===we&&300>Yt()-zo?(Ae&2)===0&&mr(e,0):Mf|=a,dr===we&&(dr=0)),Cn(e)}function ng(e,i){i===0&&(i=Xd()),e=us(e,i),e!==null&&(Jr(e,i),Cn(e))}function $w(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),ng(e,a)}function qw(e,i){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),ng(e,a)}function Iw(e,i){return Xu(e,i)}var No=null,gr=null,Hf=!1,jo=!1,Zf=!1,ki=0;function Cn(e){e!==gr&&e.next===null&&(gr===null?No=gr=e:gr=gr.next=e),jo=!0,Hf||(Hf=!0,Vw())}function Ra(e,i){if(!Zf&&jo){Zf=!0;do for(var a=!1,o=No;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var h=0;else{var v=o.suspendedLanes,_=o.pingedLanes;h=(1<<31-Qt(42|e)+1)-1,h&=f&~(v&~_),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,ag(o,h))}else h=we,h=Ll(o,o===Be?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||Yr(o,h)||(a=!0,ag(o,h));o=o.next}while(a);Zf=!1}}function Kw(){ig()}function ig(){jo=Hf=!1;var e=0;ki!==0&&t_()&&(e=ki);for(var i=Yt(),a=null,o=No;o!==null;){var f=o.next,h=sg(o,i);h===0?(o.next=null,a===null?No=f:a.next=f,f===null&&(gr=a)):(a=o,(e!==0||(h&3)!==0)&&(jo=!0)),o=f}lt!==0&&lt!==5||Ra(e),ki!==0&&(ki=0)}function sg(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var v=31-Qt(h),_=1<<v,T=f[v];T===-1?((_&a)===0||(_&o)!==0)&&(f[v]=gb(_,i)):T<=i&&(e.expiredLanes|=_),h&=~_}if(i=Be,a=we,a=Ll(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Me===2||Me===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Fu(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Yr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&Fu(o),ec(a)){case 2:case 8:a=Jd;break;case 32:a=Nl;break;case 268435456:a=Qd;break;default:a=Nl}return o=rg.bind(null,e),a=Xu(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&Fu(o),e.callbackPriority=2,e.callbackNode=null,2}function rg(e,i){if(lt!==0&&lt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ko()&&e.callbackNode!==a)return null;var o=we;return o=Ll(e,e===Be?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Zy(e,o,i),sg(e,Yt()),e.callbackNode!=null&&e.callbackNode===a?rg.bind(null,e):null)}function ag(e,i){if(ko())return null;Zy(e,i,!0)}function Vw(){i_(function(){(Ae&6)!==0?Xu(Yd,Kw):ig()})}function $f(){if(ki===0){var e=nr;e===0&&(e=jl,jl<<=1,(jl&261888)===0&&(jl=256)),ki=e}return ki}function lg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ql(""+e)}function og(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function Gw(e,i,a,o,f){if(i==="submit"&&a&&a.stateNode===f){var h=lg((f[Ut]||null).action),v=o.submitter;v&&(i=(i=v[Ut]||null)?lg(i.formAction):v.getAttribute("formAction"),i!==null&&(h=i,v=null));var _=new Gl("action","action",null,o,f);e.push({event:_,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ki!==0){var T=v?og(f,v):new FormData(f);lf(a,{pending:!0,data:T,method:f.method,action:h},null,T)}}else typeof h=="function"&&(_.preventDefault(),T=v?og(f,v):new FormData(f),lf(a,{pending:!0,data:T,method:f.method,action:h},h,T))},currentTarget:f}]})}}for(var qf=0;qf<Ec.length;qf++){var If=Ec[qf],Yw=If.toLowerCase(),Jw=If[0].toUpperCase()+If.slice(1);_n(Yw,"on"+Jw)}_n(Hp,"onAnimationEnd"),_n(Zp,"onAnimationIteration"),_n($p,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(cw,"onTransitionRun"),_n(fw,"onTransitionStart"),_n(hw,"onTransitionCancel"),_n(qp,"onTransitionEnd"),qs("onMouseEnter",["mouseout","mouseover"]),qs("onMouseLeave",["mouseout","mouseover"]),qs("onPointerEnter",["pointerout","pointerover"]),qs("onPointerLeave",["pointerout","pointerover"]),rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rs("onBeforeInput",["compositionend","keypress","textInput","paste"]),rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ca));function ug(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],f=o.event;o=o.listeners;e:{var h=void 0;if(i)for(var v=o.length-1;0<=v;v--){var _=o[v],T=_.instance,D=_.currentTarget;if(_=_.listener,T!==h&&f.isPropagationStopped())break e;h=_,f.currentTarget=D;try{h(f)}catch(H){Ql(H)}f.currentTarget=null,h=T}else for(v=0;v<o.length;v++){if(_=o[v],T=_.instance,D=_.currentTarget,_=_.listener,T!==h&&f.isPropagationStopped())break e;h=_,f.currentTarget=D;try{h(f)}catch(H){Ql(H)}f.currentTarget=null,h=T}}}}function be(e,i){var a=i[tc];a===void 0&&(a=i[tc]=new Set);var o=e+"__bubble";a.has(o)||(cg(i,e,2,!1),a.add(o))}function Kf(e,i,a){var o=0;i&&(o|=4),cg(a,e,o,i)}var Uo="_reactListening"+Math.random().toString(36).slice(2);function Vf(e){if(!e[Uo]){e[Uo]=!0,ip.forEach(function(a){a!=="selectionchange"&&(Qw.has(a)||Kf(a,!1,e),Kf(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Uo]||(i[Uo]=!0,Kf("selectionchange",!1,i))}}function cg(e,i,a,o){switch(Hg(i)){case 2:var f=E_;break;case 8:f=x_;break;default:f=ah}a=f.bind(null,i,a,e),f=void 0,!cc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(i,a,{capture:!0,passive:f}):e.addEventListener(i,a,!0):f!==void 0?e.addEventListener(i,a,{passive:f}):e.addEventListener(i,a,!1)}function Gf(e,i,a,o,f){var h=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var _=o.stateNode.containerInfo;if(_===f)break;if(v===4)for(v=o.return;v!==null;){var T=v.tag;if((T===3||T===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;_!==null;){if(v=Hs(_),v===null)return;if(T=v.tag,T===5||T===6||T===26||T===27){o=h=v;continue e}_=_.parentNode}}o=o.return}mp(function(){var D=h,H=oc(a),q=[];e:{var k=Ip.get(e);if(k!==void 0){var U=Gl,se=e;switch(e){case"keypress":if(Kl(a)===0)break e;case"keydown":case"keyup":U=qb;break;case"focusin":se="focus",U=pc;break;case"focusout":se="blur",U=pc;break;case"beforeblur":case"afterblur":U=pc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=vp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Ab;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Vb;break;case Hp:case Zp:case $p:U=kb;break;case qp:U=Yb;break;case"scroll":case"scrollend":U=Rb;break;case"wheel":U=Qb;break;case"copy":case"cut":case"paste":U=jb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=bp;break;case"toggle":case"beforetoggle":U=Fb}var fe=(i&4)!==0,Ue=!fe&&(e==="scroll"||e==="scrollend"),C=fe?k!==null?k+"Capture":null:k;fe=[];for(var z=D,A;z!==null;){var Z=z;if(A=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||A===null||C===null||(Z=Fr(z,C),Z!=null&&fe.push(Aa(z,Z,A))),Ue)break;z=z.return}0<fe.length&&(k=new U(k,se,null,a,H),q.push({event:k,listeners:fe}))}}if((i&7)===0){e:{if(k=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",k&&a!==lc&&(se=a.relatedTarget||a.fromElement)&&(Hs(se)||se[Ls]))break e;if((U||k)&&(k=H.window===H?H:(k=H.ownerDocument)?k.defaultView||k.parentWindow:window,U?(se=a.relatedTarget||a.toElement,U=D,se=se?Hs(se):null,se!==null&&(Ue=u(se),fe=se.tag,se!==Ue||fe!==5&&fe!==27&&fe!==6)&&(se=null)):(U=null,se=D),U!==se)){if(fe=vp,Z="onMouseLeave",C="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(fe=bp,Z="onPointerLeave",C="onPointerEnter",z="pointer"),Ue=U==null?k:Xr(U),A=se==null?k:Xr(se),k=new fe(Z,z+"leave",U,a,H),k.target=Ue,k.relatedTarget=A,Z=null,Hs(H)===D&&(fe=new fe(C,z+"enter",se,a,H),fe.target=A,fe.relatedTarget=Ue,Z=fe),Ue=Z,U&&se)t:{for(fe=Xw,C=U,z=se,A=0,Z=C;Z;Z=fe(Z))A++;Z=0;for(var ue=z;ue;ue=fe(ue))Z++;for(;0<A-Z;)C=fe(C),A--;for(;0<Z-A;)z=fe(z),Z--;for(;A--;){if(C===z||z!==null&&C===z.alternate){fe=C;break t}C=fe(C),z=fe(z)}fe=null}else fe=null;U!==null&&fg(q,k,U,fe,!1),se!==null&&Ue!==null&&fg(q,Ue,se,fe,!0)}}e:{if(k=D?Xr(D):window,U=k.nodeName&&k.nodeName.toLowerCase(),U==="select"||U==="input"&&k.type==="file")var Re=Rp;else if(Op(k))if(Cp)Re=lw;else{Re=rw;var ae=sw}else U=k.nodeName,!U||U.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?D&&ac(D.elementType)&&(Re=Rp):Re=aw;if(Re&&(Re=Re(e,D))){zp(q,Re,a,H);break e}ae&&ae(e,k,D),e==="focusout"&&D&&k.type==="number"&&D.memoizedProps.value!=null&&rc(k,"number",k.value)}switch(ae=D?Xr(D):window,e){case"focusin":(Op(ae)||ae.contentEditable==="true")&&(Js=ae,bc=D,ra=null);break;case"focusout":ra=bc=Js=null;break;case"mousedown":wc=!0;break;case"contextmenu":case"mouseup":case"dragend":wc=!1,Bp(q,a,H);break;case"selectionchange":if(uw)break;case"keydown":case"keyup":Bp(q,a,H)}var ye;if(yc)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Ys?xp(e,a)&&(_e="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(wp&&a.locale!=="ko"&&(Ys||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Ys&&(ye=yp()):(gi=H,fc="value"in gi?gi.value:gi.textContent,Ys=!0)),ae=Bo(D,_e),0<ae.length&&(_e=new Sp(_e,e,null,a,H),q.push({event:_e,listeners:ae}),ye?_e.data=ye:(ye=Tp(a),ye!==null&&(_e.data=ye)))),(ye=Wb?ew(e,a):tw(e,a))&&(_e=Bo(D,"onBeforeInput"),0<_e.length&&(ae=new Sp("onBeforeInput","beforeinput",null,a,H),q.push({event:ae,listeners:_e}),ae.data=ye)),Gw(q,e,D,a,H)}ug(q,i)})}function Aa(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Bo(e,i){for(var a=i+"Capture",o=[];e!==null;){var f=e,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=Fr(e,a),f!=null&&o.unshift(Aa(e,f,h)),f=Fr(e,i),f!=null&&o.push(Aa(e,f,h))),e.tag===3)return o;e=e.return}return[]}function Xw(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function fg(e,i,a,o,f){for(var h=i._reactName,v=[];a!==null&&a!==o;){var _=a,T=_.alternate,D=_.stateNode;if(_=_.tag,T!==null&&T===o)break;_!==5&&_!==26&&_!==27||D===null||(T=D,f?(D=Fr(a,h),D!=null&&v.unshift(Aa(a,D,T))):f||(D=Fr(a,h),D!=null&&v.push(Aa(a,D,T)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var Fw=/\r\n?/g,Pw=/\u0000|\uFFFD/g;function hg(e){return(typeof e=="string"?e:""+e).replace(Fw,`
`).replace(Pw,"")}function dg(e,i){return i=hg(i),hg(e)===i}function je(e,i,a,o,f,h){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||Ks(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&Ks(e,""+o);break;case"className":Zl(e,"class",o);break;case"tabIndex":Zl(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Zl(e,a,o);break;case"style":dp(e,o,h);break;case"data":if(i!=="object"){Zl(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ql(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(i!=="input"&&je(e,i,"name",f.name,f,null),je(e,i,"formEncType",f.formEncType,f,null),je(e,i,"formMethod",f.formMethod,f,null),je(e,i,"formTarget",f.formTarget,f,null)):(je(e,i,"encType",f.encType,f,null),je(e,i,"method",f.method,f,null),je(e,i,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ql(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=qn);break;case"onScroll":o!=null&&be("scroll",e);break;case"onScrollEnd":o!=null&&be("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ql(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":be("beforetoggle",e),be("toggle",e),Hl(e,"popover",o);break;case"xlinkActuate":$n(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":$n(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":$n(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":$n(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":$n(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":$n(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":$n(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":$n(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":$n(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Hl(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ob.get(a)||a,Hl(e,a,o))}}function Yf(e,i,a,o,f,h){switch(a){case"style":dp(e,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?Ks(e,o):(typeof o=="number"||typeof o=="bigint")&&Ks(e,""+o);break;case"onScroll":o!=null&&be("scroll",e);break;case"onScrollEnd":o!=null&&be("scrollend",e);break;case"onClick":o!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sp.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),h=e[Ut]||null,h=h!=null?h[a]:null,typeof h=="function"&&e.removeEventListener(i,h,f),typeof o=="function")){typeof h!="function"&&h!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,f);break e}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Hl(e,a,o)}}}function vt(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",e),be("load",e);var o=!1,f=!1,h;for(h in a)if(a.hasOwnProperty(h)){var v=a[h];if(v!=null)switch(h){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:je(e,i,h,v,a,null)}}f&&je(e,i,"srcSet",a.srcSet,a,null),o&&je(e,i,"src",a.src,a,null);return;case"input":be("invalid",e);var _=h=v=f=null,T=null,D=null;for(o in a)if(a.hasOwnProperty(o)){var H=a[o];if(H!=null)switch(o){case"name":f=H;break;case"type":v=H;break;case"checked":T=H;break;case"defaultChecked":D=H;break;case"value":h=H;break;case"defaultValue":_=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:je(e,i,o,H,a,null)}}up(e,h,_,T,D,v,f,!1);return;case"select":be("invalid",e),o=v=h=null;for(f in a)if(a.hasOwnProperty(f)&&(_=a[f],_!=null))switch(f){case"value":h=_;break;case"defaultValue":v=_;break;case"multiple":o=_;default:je(e,i,f,_,a,null)}i=h,a=v,e.multiple=!!o,i!=null?Is(e,!!o,i,!1):a!=null&&Is(e,!!o,a,!0);return;case"textarea":be("invalid",e),h=f=o=null;for(v in a)if(a.hasOwnProperty(v)&&(_=a[v],_!=null))switch(v){case"value":o=_;break;case"defaultValue":f=_;break;case"children":h=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:je(e,i,v,_,a,null)}fp(e,o,f,h);return;case"option":for(T in a)if(a.hasOwnProperty(T)&&(o=a[T],o!=null))switch(T){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:je(e,i,T,o,a,null)}return;case"dialog":be("beforetoggle",e),be("toggle",e),be("cancel",e),be("close",e);break;case"iframe":case"object":be("load",e);break;case"video":case"audio":for(o=0;o<Ca.length;o++)be(Ca[o],e);break;case"image":be("error",e),be("load",e);break;case"details":be("toggle",e);break;case"embed":case"source":case"link":be("error",e),be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in a)if(a.hasOwnProperty(D)&&(o=a[D],o!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:je(e,i,D,o,a,null)}return;default:if(ac(i)){for(H in a)a.hasOwnProperty(H)&&(o=a[H],o!==void 0&&Yf(e,i,H,o,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(o=a[_],o!=null&&je(e,i,_,o,a,null))}function Ww(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,v=null,_=null,T=null,D=null,H=null;for(U in a){var q=a[U];if(a.hasOwnProperty(U)&&q!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":T=q;default:o.hasOwnProperty(U)||je(e,i,U,null,o,q)}}for(var k in o){var U=o[k];if(q=a[k],o.hasOwnProperty(k)&&(U!=null||q!=null))switch(k){case"type":h=U;break;case"name":f=U;break;case"checked":D=U;break;case"defaultChecked":H=U;break;case"value":v=U;break;case"defaultValue":_=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,i));break;default:U!==q&&je(e,i,k,U,o,q)}}sc(e,v,_,T,D,H,h,f);return;case"select":U=v=_=k=null;for(h in a)if(T=a[h],a.hasOwnProperty(h)&&T!=null)switch(h){case"value":break;case"multiple":U=T;default:o.hasOwnProperty(h)||je(e,i,h,null,o,T)}for(f in o)if(h=o[f],T=a[f],o.hasOwnProperty(f)&&(h!=null||T!=null))switch(f){case"value":k=h;break;case"defaultValue":_=h;break;case"multiple":v=h;default:h!==T&&je(e,i,f,h,o,T)}i=_,a=v,o=U,k!=null?Is(e,!!a,k,!1):!!o!=!!a&&(i!=null?Is(e,!!a,i,!0):Is(e,!!a,a?[]:"",!1));return;case"textarea":U=k=null;for(_ in a)if(f=a[_],a.hasOwnProperty(_)&&f!=null&&!o.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:je(e,i,_,null,o,f)}for(v in o)if(f=o[v],h=a[v],o.hasOwnProperty(v)&&(f!=null||h!=null))switch(v){case"value":k=f;break;case"defaultValue":U=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==h&&je(e,i,v,f,o,h)}cp(e,k,U);return;case"option":for(var se in a)if(k=a[se],a.hasOwnProperty(se)&&k!=null&&!o.hasOwnProperty(se))switch(se){case"selected":e.selected=!1;break;default:je(e,i,se,null,o,k)}for(T in o)if(k=o[T],U=a[T],o.hasOwnProperty(T)&&k!==U&&(k!=null||U!=null))switch(T){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:je(e,i,T,k,o,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in a)k=a[fe],a.hasOwnProperty(fe)&&k!=null&&!o.hasOwnProperty(fe)&&je(e,i,fe,null,o,k);for(D in o)if(k=o[D],U=a[D],o.hasOwnProperty(D)&&k!==U&&(k!=null||U!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,i));break;default:je(e,i,D,k,o,U)}return;default:if(ac(i)){for(var Ue in a)k=a[Ue],a.hasOwnProperty(Ue)&&k!==void 0&&!o.hasOwnProperty(Ue)&&Yf(e,i,Ue,void 0,o,k);for(H in o)k=o[H],U=a[H],!o.hasOwnProperty(H)||k===U||k===void 0&&U===void 0||Yf(e,i,H,k,o,U);return}}for(var C in a)k=a[C],a.hasOwnProperty(C)&&k!=null&&!o.hasOwnProperty(C)&&je(e,i,C,null,o,k);for(q in o)k=o[q],U=a[q],!o.hasOwnProperty(q)||k===U||k==null&&U==null||je(e,i,q,k,o,U)}function pg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function e_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var f=a[o],h=f.transferSize,v=f.initiatorType,_=f.duration;if(h&&_&&pg(v)){for(v=0,_=f.responseEnd,o+=1;o<a.length;o++){var T=a[o],D=T.startTime;if(D>_)break;var H=T.transferSize,q=T.initiatorType;H&&pg(q)&&(T=T.responseEnd,v+=H*(T<_?1:(_-D)/(T-D)))}if(--o,i+=8*(h+v)/(f.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Jf=null,Qf=null;function Lo(e){return e.nodeType===9?e:e.ownerDocument}function mg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yg(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Xf(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ff=null;function t_(){var e=window.event;return e&&e.type==="popstate"?e===Ff?!1:(Ff=e,!0):(Ff=null,!1)}var gg=typeof setTimeout=="function"?setTimeout:void 0,n_=typeof clearTimeout=="function"?clearTimeout:void 0,vg=typeof Promise=="function"?Promise:void 0,i_=typeof queueMicrotask=="function"?queueMicrotask:typeof vg<"u"?function(e){return vg.resolve(null).then(e).catch(s_)}:gg;function s_(e){setTimeout(function(){throw e})}function Ni(e){return e==="head"}function Sg(e,i){var a=i,o=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(f),wr(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Ma(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ma(a);for(var h=a.firstChild;h;){var v=h.nextSibling,_=h.nodeName;h[Qr]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=v}}else a==="body"&&Ma(e.ownerDocument.body);a=f}while(a);wr(i)}function bg(e,i){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Pf(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pf(a),nc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function r_(e,i,a,o){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Qr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=pn(e.nextSibling),e===null)break}return null}function a_(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=pn(e.nextSibling),e===null))return null;return e}function wg(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=pn(e.nextSibling),e===null))return null;return e}function Wf(e){return e.data==="$?"||e.data==="$~"}function eh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function l_(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function pn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var th=null;function _g(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return pn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function Eg(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function xg(e,i,a){switch(i=Lo(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ma(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);nc(e)}var mn=new Map,Tg=new Set;function Ho(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var si=Q.d;Q.d={f:o_,r:u_,D:c_,C:f_,L:h_,m:d_,X:m_,S:p_,M:y_};function o_(){var e=si.f(),i=Ao();return e||i}function u_(e){var i=Zs(e);i!==null&&i.tag===5&&i.type==="form"?qm(i):si.r(e)}var vr=typeof document>"u"?null:document;function Og(e,i,a){var o=vr;if(o&&typeof i=="string"&&i){var f=ln(i);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Tg.has(f)||(Tg.add(f),e={rel:e,crossOrigin:a,href:i},o.querySelector(f)===null&&(i=o.createElement("link"),vt(i,"link",e),ft(i),o.head.appendChild(i)))}}function c_(e){si.D(e),Og("dns-prefetch",e,null)}function f_(e,i){si.C(e,i),Og("preconnect",e,i)}function h_(e,i,a){si.L(e,i,a);var o=vr;if(o&&e&&i){var f='link[rel="preload"][as="'+ln(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ln(a.imageSizes)+'"]')):f+='[href="'+ln(e)+'"]';var h=f;switch(i){case"style":h=Sr(e);break;case"script":h=br(e)}mn.has(h)||(e=y({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),mn.set(h,e),o.querySelector(f)!==null||i==="style"&&o.querySelector(Da(h))||i==="script"&&o.querySelector(ka(h))||(i=o.createElement("link"),vt(i,"link",e),ft(i),o.head.appendChild(i)))}}function d_(e,i){si.m(e,i);var a=vr;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+ln(o)+'"][href="'+ln(e)+'"]',h=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=br(e)}if(!mn.has(h)&&(e=y({rel:"modulepreload",href:e},i),mn.set(h,e),a.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ka(h)))return}o=a.createElement("link"),vt(o,"link",e),ft(o),a.head.appendChild(o)}}}function p_(e,i,a){si.S(e,i,a);var o=vr;if(o&&e){var f=$s(o).hoistableStyles,h=Sr(e);i=i||"default";var v=f.get(h);if(!v){var _={loading:0,preload:null};if(v=o.querySelector(Da(h)))_.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":i},a),(a=mn.get(h))&&nh(e,a);var T=v=o.createElement("link");ft(T),vt(T,"link",e),T._p=new Promise(function(D,H){T.onload=D,T.onerror=H}),T.addEventListener("load",function(){_.loading|=1}),T.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Zo(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:_},f.set(h,v)}}}function m_(e,i){si.X(e,i);var a=vr;if(a&&e){var o=$s(a).hoistableScripts,f=br(e),h=o.get(f);h||(h=a.querySelector(ka(f)),h||(e=y({src:e,async:!0},i),(i=mn.get(f))&&ih(e,i),h=a.createElement("script"),ft(h),vt(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function y_(e,i){si.M(e,i);var a=vr;if(a&&e){var o=$s(a).hoistableScripts,f=br(e),h=o.get(f);h||(h=a.querySelector(ka(f)),h||(e=y({src:e,async:!0,type:"module"},i),(i=mn.get(f))&&ih(e,i),h=a.createElement("script"),ft(h),vt(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function zg(e,i,a,o){var f=(f=ge.current)?Ho(f):null;if(!f)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Sr(a.href),a=$s(f).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Sr(a.href);var h=$s(f).hoistableStyles,v=h.get(e);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,v),(h=f.querySelector(Da(e)))&&!h._p&&(v.instance=h,v.state.loading=5),mn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},mn.set(e,a),h||g_(f,e,a,v.state))),i&&o===null)throw Error(r(528,""));return v}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=br(a),a=$s(f).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Sr(e){return'href="'+ln(e)+'"'}function Da(e){return'link[rel="stylesheet"]['+e+"]"}function Rg(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function g_(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),vt(i,"link",a),ft(i),e.head.appendChild(i))}function br(e){return'[src="'+ln(e)+'"]'}function ka(e){return"script[async]"+e}function Cg(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+ln(a.href)+'"]');if(o)return i.instance=o,ft(o),o;var f=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ft(o),vt(o,"style",f),Zo(o,a.precedence,e),i.instance=o;case"stylesheet":f=Sr(a.href);var h=e.querySelector(Da(f));if(h)return i.state.loading|=4,i.instance=h,ft(h),h;o=Rg(a),(f=mn.get(f))&&nh(o,f),h=(e.ownerDocument||e).createElement("link"),ft(h);var v=h;return v._p=new Promise(function(_,T){v.onload=_,v.onerror=T}),vt(h,"link",o),i.state.loading|=4,Zo(h,a.precedence,e),i.instance=h;case"script":return h=br(a.src),(f=e.querySelector(ka(h)))?(i.instance=f,ft(f),f):(o=a,(f=mn.get(h))&&(o=y({},a),ih(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),ft(f),vt(f,"link",o),e.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Zo(o,a.precedence,e));return i.instance}function Zo(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,h=f,v=0;v<o.length;v++){var _=o[v];if(_.dataset.precedence===i)h=_;else if(h!==f)break}h?h.parentNode.insertBefore(e,h.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function nh(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function ih(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var $o=null;function Ag(e,i,a){if($o===null){var o=new Map,f=$o=new Map;f.set(a,o)}else f=$o,o=f.get(a),o||(o=new Map,f.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var h=a[f];if(!(h[Qr]||h[pt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var v=h.getAttribute(i)||"";v=e+v;var _=o.get(v);_?_.push(h):o.set(v,[h])}}return o}function Mg(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function v_(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Dg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function S_(e,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Sr(o.href),h=i.querySelector(Da(f));if(h){i=h._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=qo.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=h,ft(h);return}h=i.ownerDocument||i,o=Rg(o),(f=mn.get(f))&&nh(o,f),h=h.createElement("link"),ft(h);var v=h;v._p=new Promise(function(_,T){v.onload=_,v.onerror=T}),vt(h,"link",o),a.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=qo.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var sh=0;function b_(e,i){return e.stylesheets&&e.count===0&&Ko(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Ko(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+i);0<e.imgBytes&&sh===0&&(sh=62500*e_());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ko(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>sh?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function qo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ko(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Io=null;function Ko(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Io=new Map,i.forEach(w_,e),Io=null,qo.call(e))}function w_(e,i){if(!(i.state.loading&4)){var a=Io.get(e);if(a)var o=a.get(null);else{a=new Map,Io.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var v=f[h];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}f=i.instance,v=f.getAttribute("data-precedence"),h=a.get(v)||o,h===o&&a.set(null,f),a.set(v,f),this.count++,o=qo.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),h?h.parentNode.insertBefore(f,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),i.state.loading|=4}}var Na={$$typeof:N,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function __(e,i,a,o,f,h,v,_,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pu(0),this.hiddenUpdates=Pu(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function kg(e,i,a,o,f,h,v,_,T,D,H,q){return e=new __(e,i,a,v,T,D,H,q,_),i=1,h===!0&&(i|=24),h=Ft(3,null,null,i),e.current=h,h.stateNode=e,i=Uc(),i.refCount++,e.pooledCache=i,i.refCount++,h.memoizedState={element:o,isDehydrated:a,cache:i},Zc(h),e}function Ng(e){return e?(e=Fs,e):Fs}function jg(e,i,a,o,f,h){f=Ng(f),o.context===null?o.context=f:o.pendingContext=f,o=Ei(i),o.payload={element:a},h=h===void 0?null:h,h!==null&&(o.callback=h),a=xi(e,o,i),a!==null&&(qt(a,e,i),ha(a,e,i))}function Ug(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function rh(e,i){Ug(e,i),(e=e.alternate)&&Ug(e,i)}function Bg(e){if(e.tag===13||e.tag===31){var i=us(e,67108864);i!==null&&qt(i,e,67108864),rh(e,67108864)}}function Lg(e){if(e.tag===13||e.tag===31){var i=nn();i=Wu(i);var a=us(e,i);a!==null&&qt(a,e,i),rh(e,i)}}var Vo=!0;function E_(e,i,a,o){var f=B.T;B.T=null;var h=Q.p;try{Q.p=2,ah(e,i,a,o)}finally{Q.p=h,B.T=f}}function x_(e,i,a,o){var f=B.T;B.T=null;var h=Q.p;try{Q.p=8,ah(e,i,a,o)}finally{Q.p=h,B.T=f}}function ah(e,i,a,o){if(Vo){var f=lh(o);if(f===null)Gf(e,i,o,Go,a),Zg(e,o);else if(O_(f,e,i,a,o))o.stopPropagation();else if(Zg(e,o),i&4&&-1<T_.indexOf(e)){for(;f!==null;){var h=Zs(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var v=ss(h.pendingLanes);if(v!==0){var _=h;for(_.pendingLanes|=2,_.entangledLanes|=2;v;){var T=1<<31-Qt(v);_.entanglements[1]|=T,v&=~T}Cn(h),(Ae&6)===0&&(Ro=Yt()+500,Ra(0))}}break;case 31:case 13:_=us(h,2),_!==null&&qt(_,h,2),Ao(),rh(h,2)}if(h=lh(o),h===null&&Gf(e,i,o,Go,a),h===f)break;f=h}f!==null&&o.stopPropagation()}else Gf(e,i,o,null,a)}}function lh(e){return e=oc(e),oh(e)}var Go=null;function oh(e){if(Go=null,e=Hs(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=c(i),e!==null)return e;e=null}else if(a===31){if(e=d(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Go=e,null}function Hg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cb()){case Yd:return 2;case Jd:return 8;case Nl:case fb:return 32;case Qd:return 268435456;default:return 32}default:return 32}}var uh=!1,ji=null,Ui=null,Bi=null,ja=new Map,Ua=new Map,Li=[],T_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zg(e,i){switch(e){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":Bi=null;break;case"pointerover":case"pointerout":ja.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ua.delete(i.pointerId)}}function Ba(e,i,a,o,f,h){return e===null||e.nativeEvent!==h?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:h,targetContainers:[f]},i!==null&&(i=Zs(i),i!==null&&Bg(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),e)}function O_(e,i,a,o,f){switch(i){case"focusin":return ji=Ba(ji,e,i,a,o,f),!0;case"dragenter":return Ui=Ba(Ui,e,i,a,o,f),!0;case"mouseover":return Bi=Ba(Bi,e,i,a,o,f),!0;case"pointerover":var h=f.pointerId;return ja.set(h,Ba(ja.get(h)||null,e,i,a,o,f)),!0;case"gotpointercapture":return h=f.pointerId,Ua.set(h,Ba(Ua.get(h)||null,e,i,a,o,f)),!0}return!1}function $g(e){var i=Hs(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){e.blockedOn=i,tp(e.priority,function(){Lg(a)});return}}else if(i===31){if(i=d(a),i!==null){e.blockedOn=i,tp(e.priority,function(){Lg(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yo(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=lh(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);lc=o,a.target.dispatchEvent(o),lc=null}else return i=Zs(a),i!==null&&Bg(i),e.blockedOn=a,!1;i.shift()}return!0}function qg(e,i,a){Yo(e)&&a.delete(i)}function z_(){uh=!1,ji!==null&&Yo(ji)&&(ji=null),Ui!==null&&Yo(Ui)&&(Ui=null),Bi!==null&&Yo(Bi)&&(Bi=null),ja.forEach(qg),Ua.forEach(qg)}function Jo(e,i){e.blockedOn===i&&(e.blockedOn=null,uh||(uh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,z_)))}var Qo=null;function Ig(e){Qo!==e&&(Qo=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Qo===e&&(Qo=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],f=e[i+2];if(typeof o!="function"){if(oh(o||a)===null)continue;break}var h=Zs(a);h!==null&&(e.splice(i,3),i-=3,lf(h,{pending:!0,data:f,method:a.method,action:o},o,f))}}))}function wr(e){function i(T){return Jo(T,e)}ji!==null&&Jo(ji,e),Ui!==null&&Jo(Ui,e),Bi!==null&&Jo(Bi,e),ja.forEach(i),Ua.forEach(i);for(var a=0;a<Li.length;a++){var o=Li[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Li.length&&(a=Li[0],a.blockedOn===null);)$g(a),a.blockedOn===null&&Li.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var f=a[o],h=a[o+1],v=f[Ut]||null;if(typeof h=="function")v||Ig(a);else if(v){var _=null;if(h&&h.hasAttribute("formAction")){if(f=h,v=h[Ut]||null)_=v.formAction;else if(oh(f)!==null)continue}else _=v.action;typeof _=="function"?a[o+1]=_:(a.splice(o,3),o-=3),Ig(a)}}}function Kg(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function ch(e){this._internalRoot=e}Xo.prototype.render=ch.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=nn();jg(a,o,e,i,null,null)},Xo.prototype.unmount=ch.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;jg(e.current,2,null,e,null,null),Ao(),i[Ls]=null}};function Xo(e){this._internalRoot=e}Xo.prototype.unstable_scheduleHydration=function(e){if(e){var i=ep();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Li.length&&i!==0&&i<Li[a].priority;a++);Li.splice(a,0,e),a===0&&$g(e)}};var Vg=t.version;if(Vg!=="19.2.3")throw Error(r(527,Vg,"19.2.3"));Q.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=m(i),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var R_={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fo.isDisabled&&Fo.supportsFiber)try{Gr=Fo.inject(R_),Jt=Fo}catch{}}return Ha.createRoot=function(e,i){if(!l(e))throw Error(r(299));var a=!1,o="",f=Pm,h=Wm,v=ey;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=kg(e,1,!1,null,null,a,o,null,f,h,v,Kg),e[Ls]=i.current,Vf(e),new ch(i)},Ha.hydrateRoot=function(e,i,a){if(!l(e))throw Error(r(299));var o=!1,f="",h=Pm,v=Wm,_=ey,T=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.formState!==void 0&&(T=a.formState)),i=kg(e,1,!0,i,a??null,o,f,T,h,v,_,Kg),i.context=Ng(null),a=i.current,o=nn(),o=Wu(o),f=Ei(o),f.callback=null,xi(a,f,o),a=o,i.current.lanes=a,Jr(i,a),Cn(i),e[Ls]=i.current,Vf(e),new Xo(i)},Ha.version="19.2.3",Ha}var nv;function $_(){if(nv)return mh.exports;nv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),mh.exports=Z_(),mh.exports}var q_=$_();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iv="popstate";function I_(n={}){function t(r,l){let{pathname:u,search:c,hash:d}=r.location;return Uh("",{pathname:u,search:c,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function s(r,l){return typeof l=="string"?l:Pa(l)}return V_(t,s,null,n)}function Ie(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function gn(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function K_(){return Math.random().toString(36).substring(2,10)}function sv(n,t){return{usr:n.state,key:n.key,idx:t}}function Uh(n,t,s=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Zr(t):t,state:s,key:t&&t.key||r||K_()}}function Pa({pathname:n="/",search:t="",hash:s=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function Zr(n){let t={};if(n){let s=n.indexOf("#");s>=0&&(t.hash=n.substring(s),n=n.substring(0,s));let r=n.indexOf("?");r>=0&&(t.search=n.substring(r),n=n.substring(0,r)),n&&(t.pathname=n)}return t}function V_(n,t,s,r={}){let{window:l=document.defaultView,v5Compat:u=!1}=r,c=l.history,d="POP",p=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function y(){d="POP";let O=g(),M=O==null?null:O-m;m=O,p&&p({action:d,location:E.location,delta:M})}function w(O,M){d="PUSH";let L=Uh(E.location,O,M);m=g()+1;let N=sv(L,m),K=E.createHref(L);try{c.pushState(N,"",K)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;l.location.assign(K)}u&&p&&p({action:d,location:E.location,delta:1})}function S(O,M){d="REPLACE";let L=Uh(E.location,O,M);m=g();let N=sv(L,m),K=E.createHref(L);c.replaceState(N,"",K),u&&p&&p({action:d,location:E.location,delta:0})}function b(O){return G_(O)}let E={get action(){return d},get location(){return n(l,c)},listen(O){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(iv,y),p=O,()=>{l.removeEventListener(iv,y),p=null}},createHref(O){return t(l,O)},createURL:b,encodeLocation(O){let M=b(O);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:w,replace:S,go(O){return c.go(O)}};return E}function G_(n,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Ie(s,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Pa(n);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function E0(n,t,s="/"){return Y_(n,t,s,!1)}function Y_(n,t,s,r){let l=typeof t=="string"?Zr(t):t,u=di(l.pathname||"/",s);if(u==null)return null;let c=x0(n);J_(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let m=rE(u);d=iE(c[p],m,r)}return d}function x0(n,t=[],s=[],r="",l=!1){let u=(c,d,p=l,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&p)return;Ie(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let y=hi([r,g.relativePath]),w=s.concat(g);c.children&&c.children.length>0&&(Ie(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),x0(c.children,t,w,y,p)),!(c.path==null&&!c.index)&&t.push({path:y,score:tE(y,c.index),routesMeta:w})};return n.forEach((c,d)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))u(c,d);else for(let m of T0(c.path))u(c,d,!0,m)}),t}function T0(n){let t=n.split("/");if(t.length===0)return[];let[s,...r]=t,l=s.endsWith("?"),u=s.replace(/\?$/,"");if(r.length===0)return l?[u,""]:[u];let c=T0(r.join("/")),d=[];return d.push(...c.map(p=>p===""?u:[u,p].join("/"))),l&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function J_(n){n.sort((t,s)=>t.score!==s.score?s.score-t.score:nE(t.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var Q_=/^:[\w-]+$/,X_=3,F_=2,P_=1,W_=10,eE=-2,rv=n=>n==="*";function tE(n,t){let s=n.split("/"),r=s.length;return s.some(rv)&&(r+=eE),t&&(r+=F_),s.filter(l=>!rv(l)).reduce((l,u)=>l+(Q_.test(u)?X_:u===""?P_:W_),r)}function nE(n,t){return n.length===t.length&&n.slice(0,-1).every((r,l)=>r===t[l])?n[n.length-1]-t[t.length-1]:0}function iE(n,t,s=!1){let{routesMeta:r}=n,l={},u="/",c=[];for(let d=0;d<r.length;++d){let p=r[d],m=d===r.length-1,g=u==="/"?t:t.slice(u.length)||"/",y=_u({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},g),w=p.route;if(!y&&m&&s&&!r[r.length-1].route.index&&(y=_u({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},g)),!y)return null;Object.assign(l,y.params),c.push({params:l,pathname:hi([u,y.pathname]),pathnameBase:uE(hi([u,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(u=hi([u,y.pathnameBase]))}return c}function _u(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[s,r]=sE(n.path,n.caseSensitive,n.end),l=t.match(s);if(!l)return null;let u=l[0],c=u.replace(/(.)\/+$/,"$1"),d=l.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:y},w)=>{if(g==="*"){let b=d[w]||"";c=u.slice(0,u.length-b.length).replace(/(.)\/+$/,"$1")}const S=d[w];return y&&!S?m[g]=void 0:m[g]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:c,pattern:n}}function sE(n,t=!1,s=!0){gn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(r.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function rE(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function di(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=n.charAt(s);return r&&r!=="/"?null:n.slice(s)||"/"}var O0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aE=n=>O0.test(n);function lE(n,t="/"){let{pathname:s,search:r="",hash:l=""}=typeof n=="string"?Zr(n):n,u;if(s)if(aE(s))u=s;else{if(s.includes("//")){let c=s;s=s.replace(/\/\/+/g,"/"),gn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${s}`)}s.startsWith("/")?u=av(s.substring(1),"/"):u=av(s,t)}else u=t;return{pathname:u,search:cE(r),hash:fE(l)}}function av(n,t){let s=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?s.length>1&&s.pop():l!=="."&&s.push(l)}),s.length>1?s.join("/"):"/"}function Sh(n,t,s,r){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oE(n){return n.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function cd(n){let t=oE(n);return t.map((s,r)=>r===t.length-1?s.pathname:s.pathnameBase)}function fd(n,t,s,r=!1){let l;typeof n=="string"?l=Zr(n):(l={...n},Ie(!l.pathname||!l.pathname.includes("?"),Sh("?","pathname","search",l)),Ie(!l.pathname||!l.pathname.includes("#"),Sh("#","pathname","hash",l)),Ie(!l.search||!l.search.includes("#"),Sh("#","search","hash",l)));let u=n===""||l.pathname==="",c=u?"/":l.pathname,d;if(c==null)d=s;else{let y=t.length-1;if(!r&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),y-=1;l.pathname=w.join("/")}d=y>=0?t[y]:"/"}let p=lE(l,d),m=c&&c!=="/"&&c.endsWith("/"),g=(u||c===".")&&s.endsWith("/");return!p.pathname.endsWith("/")&&(m||g)&&(p.pathname+="/"),p}var hi=n=>n.join("/").replace(/\/\/+/g,"/"),uE=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),cE=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,fE=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,hE=class{constructor(n,t,s,r=!1){this.status=n,this.statusText=t||"",this.internal=r,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function dE(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function pE(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var z0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function R0(n,t){let s=n;if(typeof s!="string"||!O0.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let r=s,l=!1;if(z0)try{let u=new URL(window.location.href),c=s.startsWith("//")?new URL(u.protocol+s):new URL(s),d=di(c.pathname,t);c.origin===u.origin&&d!=null?s=d+c.search+c.hash:l=!0}catch{gn(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:l,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var C0=["POST","PUT","PATCH","DELETE"];new Set(C0);var mE=["GET",...C0];new Set(mE);var $r=j.createContext(null);$r.displayName="DataRouter";var Bu=j.createContext(null);Bu.displayName="DataRouterState";var yE=j.createContext(!1),A0=j.createContext({isTransitioning:!1});A0.displayName="ViewTransition";var gE=j.createContext(new Map);gE.displayName="Fetchers";var vE=j.createContext(null);vE.displayName="Await";var sn=j.createContext(null);sn.displayName="Navigation";var zl=j.createContext(null);zl.displayName="Location";var Tn=j.createContext({outlet:null,matches:[],isDataRoute:!1});Tn.displayName="Route";var hd=j.createContext(null);hd.displayName="RouteError";var M0="REACT_ROUTER_ERROR",SE="REDIRECT",bE="ROUTE_ERROR_RESPONSE";function wE(n){if(n.startsWith(`${M0}:${SE}:{`))try{let t=JSON.parse(n.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function _E(n){if(n.startsWith(`${M0}:${bE}:{`))try{let t=JSON.parse(n.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new hE(t.status,t.statusText,t.data)}catch{}}function EE(n,{relative:t}={}){Ie(qr(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=j.useContext(sn),{hash:l,pathname:u,search:c}=Rl(n,{relative:t}),d=u;return s!=="/"&&(d=u==="/"?s:hi([s,u])),r.createHref({pathname:d,search:c,hash:l})}function qr(){return j.useContext(zl)!=null}function Wi(){return Ie(qr(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(zl).location}var D0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function k0(n){j.useContext(sn).static||j.useLayoutEffect(n)}function N0(){let{isDataRoute:n}=j.useContext(Tn);return n?BE():xE()}function xE(){Ie(qr(),"useNavigate() may be used only in the context of a <Router> component.");let n=j.useContext($r),{basename:t,navigator:s}=j.useContext(sn),{matches:r}=j.useContext(Tn),{pathname:l}=Wi(),u=JSON.stringify(cd(r)),c=j.useRef(!1);return k0(()=>{c.current=!0}),j.useCallback((p,m={})=>{if(gn(c.current,D0),!c.current)return;if(typeof p=="number"){s.go(p);return}let g=fd(p,JSON.parse(u),l,m.relative==="path");n==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:hi([t,g.pathname])),(m.replace?s.replace:s.push)(g,m.state,m)},[t,s,u,l,n])}j.createContext(null);function TE(){let{matches:n}=j.useContext(Tn),t=n[n.length-1];return t?t.params:{}}function Rl(n,{relative:t}={}){let{matches:s}=j.useContext(Tn),{pathname:r}=Wi(),l=JSON.stringify(cd(s));return j.useMemo(()=>fd(n,JSON.parse(l),r,t==="path"),[n,l,r,t])}function OE(n,t){return j0(n,t)}function j0(n,t,s,r,l){var L;Ie(qr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=j.useContext(sn),{matches:c}=j.useContext(Tn),d=c[c.length-1],p=d?d.params:{},m=d?d.pathname:"/",g=d?d.pathnameBase:"/",y=d&&d.route;{let N=y&&y.path||"";B0(m,!y||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let w=Wi(),S;if(t){let N=typeof t=="string"?Zr(t):t;Ie(g==="/"||((L=N.pathname)==null?void 0:L.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${N.pathname}" was given in the \`location\` prop.`),S=N}else S=w;let b=S.pathname||"/",E=b;if(g!=="/"){let N=g.replace(/^\//,"").split("/");E="/"+b.replace(/^\//,"").split("/").slice(N.length).join("/")}let O=E0(n,{pathname:E});gn(y||O!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),gn(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=ME(O&&O.map(N=>Object.assign({},N,{params:Object.assign({},p,N.params),pathname:hi([g,u.encodeLocation?u.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?g:hi([g,u.encodeLocation?u.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),c,s,r,l);return t&&M?j.createElement(zl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},M):M}function zE(){let n=UE(),t=dE(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),s=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),s?j.createElement("pre",{style:l},s):null,c)}var RE=j.createElement(zE,null),U0=class extends j.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const s=_E(n.digest);s&&(n=s)}let t=n!==void 0?j.createElement(Tn.Provider,{value:this.props.routeContext},j.createElement(hd.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?j.createElement(CE,{error:n},t):t}};U0.contextType=yE;var bh=new WeakMap;function CE({children:n,error:t}){let{basename:s}=j.useContext(sn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=wE(t.digest);if(r){let l=bh.get(t);if(l)throw l;let u=R0(r.location,s);if(z0&&!bh.get(t))if(u.isExternal||r.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:r.replace}));throw bh.set(t,c),c}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return n}function AE({routeContext:n,match:t,children:s}){let r=j.useContext($r);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(Tn.Provider,{value:n},s)}function ME(n,t=[],s=null,r=null,l=null){if(n==null){if(!s)return null;if(s.errors)n=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)n=s.matches;else return null}let u=n,c=s==null?void 0:s.errors;if(c!=null){let g=u.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);Ie(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let d=!1,p=-1;if(s)for(let g=0;g<u.length;g++){let y=u[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=g),y.route.id){let{loaderData:w,errors:S}=s,b=y.route.loader&&!w.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||b){d=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let m=s&&r?(g,y)=>{var w,S;r(g,{location:s.location,params:((S=(w=s.matches)==null?void 0:w[0])==null?void 0:S.params)??{},unstable_pattern:pE(s.matches),errorInfo:y})}:void 0;return u.reduceRight((g,y,w)=>{let S,b=!1,E=null,O=null;s&&(S=c&&y.route.id?c[y.route.id]:void 0,E=y.route.errorElement||RE,d&&(p<0&&w===0?(B0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,O=null):p===w&&(b=!0,O=y.route.hydrateFallbackElement||null)));let M=t.concat(u.slice(0,w+1)),L=()=>{let N;return S?N=E:b?N=O:y.route.Component?N=j.createElement(y.route.Component,null):y.route.element?N=y.route.element:N=g,j.createElement(AE,{match:y,routeContext:{outlet:g,matches:M,isDataRoute:s!=null},children:N})};return s&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?j.createElement(U0,{location:s.location,revalidation:s.revalidation,component:E,error:S,children:L(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:m}):L()},null)}function dd(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DE(n){let t=j.useContext($r);return Ie(t,dd(n)),t}function kE(n){let t=j.useContext(Bu);return Ie(t,dd(n)),t}function NE(n){let t=j.useContext(Tn);return Ie(t,dd(n)),t}function pd(n){let t=NE(n),s=t.matches[t.matches.length-1];return Ie(s.route.id,`${n} can only be used on routes that contain a unique "id"`),s.route.id}function jE(){return pd("useRouteId")}function UE(){var r;let n=j.useContext(hd),t=kE("useRouteError"),s=pd("useRouteError");return n!==void 0?n:(r=t.errors)==null?void 0:r[s]}function BE(){let{router:n}=DE("useNavigate"),t=pd("useNavigate"),s=j.useRef(!1);return k0(()=>{s.current=!0}),j.useCallback(async(l,u={})=>{gn(s.current,D0),s.current&&(typeof l=="number"?await n.navigate(l):await n.navigate(l,{fromRouteId:t,...u}))},[n,t])}var lv={};function B0(n,t,s){!t&&!lv[n]&&(lv[n]=!0,gn(!1,s))}j.memo(LE);function LE({routes:n,future:t,state:s,onError:r}){return j0(n,void 0,s,r,t)}function L0({to:n,replace:t,state:s,relative:r}){Ie(qr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=j.useContext(sn);gn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=j.useContext(Tn),{pathname:c}=Wi(),d=N0(),p=fd(n,cd(u),c,r==="path"),m=JSON.stringify(p);return j.useEffect(()=>{d(JSON.parse(m),{replace:t,state:s,relative:r})},[d,m,r,t,s]),null}function lu(n){Ie(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function HE({basename:n="/",children:t=null,location:s,navigationType:r="POP",navigator:l,static:u=!1,unstable_useTransitions:c}){Ie(!qr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),p=j.useMemo(()=>({basename:d,navigator:l,static:u,unstable_useTransitions:c,future:{}}),[d,l,u,c]);typeof s=="string"&&(s=Zr(s));let{pathname:m="/",search:g="",hash:y="",state:w=null,key:S="default"}=s,b=j.useMemo(()=>{let E=di(m,d);return E==null?null:{location:{pathname:E,search:g,hash:y,state:w,key:S},navigationType:r}},[d,m,g,y,w,S,r]);return gn(b!=null,`<Router basename="${d}"> is not able to match the URL "${m}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:j.createElement(sn.Provider,{value:p},j.createElement(zl.Provider,{children:t,value:b}))}function ZE({children:n,location:t}){return OE(Bh(n),t)}function Bh(n,t=[]){let s=[];return j.Children.forEach(n,(r,l)=>{if(!j.isValidElement(r))return;let u=[...t,l];if(r.type===j.Fragment){s.push.apply(s,Bh(r.props.children,u));return}Ie(r.type===lu,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ie(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Bh(r.props.children,u)),s.push(c)}),s}var ou="get",uu="application/x-www-form-urlencoded";function Lu(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function $E(n){return Lu(n)&&n.tagName.toLowerCase()==="button"}function qE(n){return Lu(n)&&n.tagName.toLowerCase()==="form"}function IE(n){return Lu(n)&&n.tagName.toLowerCase()==="input"}function KE(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function VE(n,t){return n.button===0&&(!t||t==="_self")&&!KE(n)}var Po=null;function GE(){if(Po===null)try{new FormData(document.createElement("form"),0),Po=!1}catch{Po=!0}return Po}var YE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wh(n){return n!=null&&!YE.has(n)?(gn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uu}"`),null):n}function JE(n,t){let s,r,l,u,c;if(qE(n)){let d=n.getAttribute("action");r=d?di(d,t):null,s=n.getAttribute("method")||ou,l=wh(n.getAttribute("enctype"))||uu,u=new FormData(n)}else if($E(n)||IE(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(r=p?di(p,t):null,s=n.getAttribute("formmethod")||d.getAttribute("method")||ou,l=wh(n.getAttribute("formenctype"))||wh(d.getAttribute("enctype"))||uu,u=new FormData(d,n),!GE()){let{name:m,type:g,value:y}=n;if(g==="image"){let w=m?`${m}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else m&&u.append(m,y)}}else{if(Lu(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=ou,r=null,l=uu,c=n}return u&&l==="text/plain"&&(c=u,u=void 0),{action:r,method:s.toLowerCase(),encType:l,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function md(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function QE(n,t,s,r){let l=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${r}`:l.pathname=`${l.pathname}.${r}`:l.pathname==="/"?l.pathname=`_root.${r}`:t&&di(l.pathname,t)==="/"?l.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${r}`,l}async function XE(n,t){if(n.id in t)return t[n.id];try{let s=await import(n.module);return t[n.id]=s,s}catch(s){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FE(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function PE(n,t,s){let r=await Promise.all(n.map(async l=>{let u=t.routes[l.route.id];if(u){let c=await XE(u,s);return c.links?c.links():[]}return[]}));return n1(r.flat(1).filter(FE).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function ov(n,t,s,r,l,u){let c=(p,m)=>s[m]?p.route.id!==s[m].route.id:!0,d=(p,m)=>{var g;return s[m].pathname!==p.pathname||((g=s[m].route.path)==null?void 0:g.endsWith("*"))&&s[m].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,m)=>c(p,m)||d(p,m)):u==="data"?t.filter((p,m)=>{var y;let g=r.routes[p.route.id];if(!g||!g.hasLoader)return!1;if(c(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((y=s[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function WE(n,t,{includeHydrateFallback:s}={}){return e1(n.map(r=>{let l=t.routes[r.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),s&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function e1(n){return[...new Set(n)]}function t1(n){let t={},s=Object.keys(n).sort();for(let r of s)t[r]=n[r];return t}function n1(n,t){let s=new Set;return new Set(t),n.reduce((r,l)=>{let u=JSON.stringify(t1(l));return s.has(u)||(s.add(u),r.push({key:u,link:l})),r},[])}function H0(){let n=j.useContext($r);return md(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function i1(){let n=j.useContext(Bu);return md(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var yd=j.createContext(void 0);yd.displayName="FrameworkContext";function Z0(){let n=j.useContext(yd);return md(n,"You must render this element inside a <HydratedRouter> element"),n}function s1(n,t){let s=j.useContext(yd),[r,l]=j.useState(!1),[u,c]=j.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:g,onTouchStart:y}=t,w=j.useRef(null);j.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let E=M=>{M.forEach(L=>{c(L.isIntersecting)})},O=new IntersectionObserver(E,{threshold:.5});return w.current&&O.observe(w.current),()=>{O.disconnect()}}},[n]),j.useEffect(()=>{if(r){let E=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(E)}}},[r]);let S=()=>{l(!0)},b=()=>{l(!1),c(!1)};return s?n!=="intent"?[u,w,{}]:[u,w,{onFocus:Za(d,S),onBlur:Za(p,b),onMouseEnter:Za(m,S),onMouseLeave:Za(g,b),onTouchStart:Za(y,S)}]:[!1,w,{}]}function Za(n,t){return s=>{n&&n(s),s.defaultPrevented||t(s)}}function r1({page:n,...t}){let{router:s}=H0(),r=j.useMemo(()=>E0(s.routes,n,s.basename),[s.routes,n,s.basename]);return r?j.createElement(l1,{page:n,matches:r,...t}):null}function a1(n){let{manifest:t,routeModules:s}=Z0(),[r,l]=j.useState([]);return j.useEffect(()=>{let u=!1;return PE(n,t,s).then(c=>{u||l(c)}),()=>{u=!0}},[n,t,s]),r}function l1({page:n,matches:t,...s}){let r=Wi(),{future:l,manifest:u,routeModules:c}=Z0(),{basename:d}=H0(),{loaderData:p,matches:m}=i1(),g=j.useMemo(()=>ov(n,t,m,u,r,"data"),[n,t,m,u,r]),y=j.useMemo(()=>ov(n,t,m,u,r,"assets"),[n,t,m,u,r]),w=j.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let E=new Set,O=!1;if(t.forEach(L=>{var K;let N=u.routes[L.route.id];!N||!N.hasLoader||(!g.some(F=>F.route.id===L.route.id)&&L.route.id in p&&((K=c[L.route.id])!=null&&K.shouldRevalidate)||N.hasClientLoader?O=!0:E.add(L.route.id))}),E.size===0)return[];let M=QE(n,d,l.unstable_trailingSlashAwareDataRequests,"data");return O&&E.size>0&&M.searchParams.set("_routes",t.filter(L=>E.has(L.route.id)).map(L=>L.route.id).join(",")),[M.pathname+M.search]},[d,l.unstable_trailingSlashAwareDataRequests,p,r,u,g,t,n,c]),S=j.useMemo(()=>WE(y,u),[y,u]),b=a1(y);return j.createElement(j.Fragment,null,w.map(E=>j.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...s})),S.map(E=>j.createElement("link",{key:E,rel:"modulepreload",href:E,...s})),b.map(({key:E,link:O})=>j.createElement("link",{key:E,nonce:s.nonce,...O})))}function o1(...n){return t=>{n.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var u1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{u1&&(window.__reactRouterVersion="7.12.0")}catch{}function c1({basename:n,children:t,unstable_useTransitions:s,window:r}){let l=j.useRef();l.current==null&&(l.current=I_({window:r,v5Compat:!0}));let u=l.current,[c,d]=j.useState({action:u.action,location:u.location}),p=j.useCallback(m=>{s===!1?d(m):j.startTransition(()=>d(m))},[s]);return j.useLayoutEffect(()=>u.listen(p),[u,p]),j.createElement(HE,{basename:n,children:t,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:s})}var $0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gd=j.forwardRef(function({onClick:t,discover:s="render",prefetch:r="none",relative:l,reloadDocument:u,replace:c,state:d,target:p,to:m,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:w,...S},b){let{basename:E,unstable_useTransitions:O}=j.useContext(sn),M=typeof m=="string"&&$0.test(m),L=R0(m,E);m=L.to;let N=EE(m,{relative:l}),[K,F,P]=s1(r,S),J=p1(m,{replace:c,state:d,target:p,preventScrollReset:g,relative:l,viewTransition:y,unstable_defaultShouldRevalidate:w,unstable_useTransitions:O});function te(le){t&&t(le),le.defaultPrevented||J(le)}let W=j.createElement("a",{...S,...P,href:L.absoluteURL||N,onClick:L.isExternal||u?t:te,ref:o1(b,F),target:p,"data-discover":!M&&s==="render"?"true":void 0});return K&&!M?j.createElement(j.Fragment,null,W,j.createElement(r1,{page:N})):W});gd.displayName="Link";var f1=j.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:r="",end:l=!1,style:u,to:c,viewTransition:d,children:p,...m},g){let y=Rl(c,{relative:m.relative}),w=Wi(),S=j.useContext(Bu),{navigator:b,basename:E}=j.useContext(sn),O=S!=null&&S1(y)&&d===!0,M=b.encodeLocation?b.encodeLocation(y).pathname:y.pathname,L=w.pathname,N=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;s||(L=L.toLowerCase(),N=N?N.toLowerCase():null,M=M.toLowerCase()),N&&E&&(N=di(N,E)||N);const K=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let F=L===M||!l&&L.startsWith(M)&&L.charAt(K)==="/",P=N!=null&&(N===M||!l&&N.startsWith(M)&&N.charAt(M.length)==="/"),J={isActive:F,isPending:P,isTransitioning:O},te=F?t:void 0,W;typeof r=="function"?W=r(J):W=[r,F?"active":null,P?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let le=typeof u=="function"?u(J):u;return j.createElement(gd,{...m,"aria-current":te,className:W,ref:g,style:le,to:c,viewTransition:d},typeof p=="function"?p(J):p)});f1.displayName="NavLink";var h1=j.forwardRef(({discover:n="render",fetcherKey:t,navigate:s,reloadDocument:r,replace:l,state:u,method:c=ou,action:d,onSubmit:p,relative:m,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:w,...S},b)=>{let{unstable_useTransitions:E}=j.useContext(sn),O=g1(),M=v1(d,{relative:m}),L=c.toLowerCase()==="get"?"get":"post",N=typeof d=="string"&&$0.test(d),K=F=>{if(p&&p(F),F.defaultPrevented)return;F.preventDefault();let P=F.nativeEvent.submitter,J=(P==null?void 0:P.getAttribute("formmethod"))||c,te=()=>O(P||F.currentTarget,{fetcherKey:t,method:J,navigate:s,replace:l,state:u,relative:m,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:w});E&&s!==!1?j.startTransition(()=>te()):te()};return j.createElement("form",{ref:b,method:L,action:M,onSubmit:r?p:K,...S,"data-discover":!N&&n==="render"?"true":void 0})});h1.displayName="Form";function d1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q0(n){let t=j.useContext($r);return Ie(t,d1(n)),t}function p1(n,{target:t,replace:s,state:r,preventScrollReset:l,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:p}={}){let m=N0(),g=Wi(),y=Rl(n,{relative:u});return j.useCallback(w=>{if(VE(w,t)){w.preventDefault();let S=s!==void 0?s:Pa(g)===Pa(y),b=()=>m(n,{replace:S,state:r,preventScrollReset:l,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:d});p?j.startTransition(()=>b()):b()}},[g,m,y,s,r,t,n,l,u,c,d,p])}var m1=0,y1=()=>`__${String(++m1)}__`;function g1(){let{router:n}=q0("useSubmit"),{basename:t}=j.useContext(sn),s=jE(),r=n.fetch,l=n.navigate;return j.useCallback(async(u,c={})=>{let{action:d,method:p,encType:m,formData:g,body:y}=JE(u,t);if(c.navigate===!1){let w=c.fetcherKey||y1();await r(w,s,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:y,formMethod:c.method||p,formEncType:c.encType||m,flushSync:c.flushSync})}else await l(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:y,formMethod:c.method||p,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:s,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,l,t,s])}function v1(n,{relative:t}={}){let{basename:s}=j.useContext(sn),r=j.useContext(Tn);Ie(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),u={...Rl(n||".",{relative:t})},c=Wi();if(n==null){u.search=c.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(g=>g==="")){d.delete("index"),p.filter(y=>y).forEach(y=>d.append("index",y));let g=d.toString();u.search=g?`?${g}`:""}}return(!n||n===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(u.pathname=u.pathname==="/"?s:hi([s,u.pathname])),Pa(u)}function S1(n,{relative:t}={}){let s=j.useContext(A0);Ie(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=q0("useViewTransitionState"),l=Rl(n,{relative:t});if(!s.isTransitioning)return!1;let u=di(s.currentLocation.pathname,r)||s.currentLocation.pathname,c=di(s.nextLocation.pathname,r)||s.nextLocation.pathname;return _u(l.pathname,c)!=null||_u(l.pathname,u)!=null}class Ir{}class Hr extends Ir{constructor(t,s){super(),this.collection=t,this.alias=s,this.type="collectionRef"}}class yn extends Ir{constructor(t,s){super(),this.query=t,this.alias=s,this.type="queryRef"}}class jt extends Ir{constructor(t){super(),this.path=t,this.type="ref"}}class Kt extends Ir{constructor(t){super(),this.value=t,this.type="val"}}class Sn extends Ir{constructor(t,s){super(),this.name=t,this.args=s,this.type="func"}}class I0 extends Ir{constructor(t,s){super(),this.name=t,this.args=s,this.type="agg"}}function Wa(n){return n instanceof I0||n instanceof Sn||n instanceof jt||n instanceof Kt}function vd(n){return typeof n=="object"&&"expression"in n?n.expression:n}function uv(n){return typeof n=="object"&&"expression"in n?n.expression:n}function cv(n){return typeof n=="object"&&"expression"in n&&n.residual===!0}function b1(n){return{expression:n,residual:!0}}function w1(n,t){if(n.from.alias===t)return n.from;for(const s of n.join||[])if(s.from.alias===t)return s.from}function el(n,t,s){if(t.path.length!==0){if(t.path.length===1){const r=t.path[0];if(n.select){const l=n.select[r];if(l&&l.type==="ref")return el(n,l,s)}return{collection:s,path:[r]}}if(t.path.length>1){const[r,...l]=t.path,u=w1(n,r);return u?u.type==="queryRef"?el(u.query,new jt(l),s):{collection:u.collection,path:l}:void 0}}}class bn extends Error{constructor(t){super(t),this.name="TanStackDBError"}}class fv extends bn{constructor(t,s,r){const l=`${t==="insert"?"Insert":"Update"} validation failed: ${s.map(u=>`
- ${u.message} - path: ${u.path}`).join("")}`;super(r||l),this.name="SchemaValidationError",this.type=t,this.issues=s}}class Cl extends bn{constructor(t){super(t),this.name="CollectionConfigurationError"}}class _1 extends Cl{constructor(){super("Collection requires a config")}}class E1 extends Cl{constructor(){super("Collection requires a sync config")}}class x1 extends Cl{constructor(){super("Schema must implement the standard-schema interface")}}class hv extends Cl{constructor(){super("Schema validation must be synchronous")}}class Al extends bn{constructor(t){super(t),this.name="CollectionStateError"}}class T1 extends Al{constructor(t,s){super(`Cannot perform ${t} on collection "${s}" - collection is in error state. Try calling cleanup() and restarting the collection.`)}}class O1 extends Al{constructor(t,s,r){super(`Invalid collection status transition from "${t}" to "${s}" for collection "${r}"`)}}class z1 extends Al{constructor(){super("Collection is in error state")}}class R1 extends Al{constructor(){super("Active subscribers count is negative - this should never happen")}}class Ln extends bn{constructor(t){super(t),this.name="CollectionOperationError"}}class C1 extends Ln{constructor(t){super(`An object was created without a defined key: ${JSON.stringify(t)}`)}}class A1 extends Ln{constructor(t,s){const r=t===null?"null":typeof t;super(`getKey returned an invalid key type. Expected string or number, but got ${r}: ${JSON.stringify(t)}. Item: ${JSON.stringify(s)}`)}}class M1 extends Ln{constructor(t){super(`Cannot insert document with ID "${t}" because it already exists in the collection`)}}class D1 extends Ln{constructor(t,s,r){const l=`Cannot insert document with key "${t}" from sync because it already exists in the collection "${s}"`;r!=null&&r.hasCustomGetKey&&r.hasJoins?super(`${l}. This collection uses a custom getKey with joined queries. Joined queries can produce multiple rows with the same key when relationships are not 1:1. Consider: (1) using a composite key in your getKey function (e.g., \`\${item.key1}-\${item.key2}\`), (2) ensuring your join produces unique rows per key, or (3) removing the custom getKey to use the default composite key behavior.`):super(l)}}class k1 extends Ln{constructor(){super("The first argument to update is missing")}}class N1 extends Ln{constructor(){super("No keys were passed to update")}}class j1 extends Ln{constructor(t){super(`The key "${t}" was passed to update but an object for this key was not found in the collection`)}}class U1 extends Ln{constructor(t,s){super(`Updating the key of an item is not allowed. Original key: "${t}", Attempted new key: "${s}". Please delete the old item and create a new one if a key change is necessary.`)}}class B1 extends Ln{constructor(){super("No keys were passed to delete")}}class L1 extends Ln{constructor(t){super(`Collection.delete was called with key '${t}' but there is no item in the collection with this key`)}}class Sd extends bn{constructor(t){super(t),this.name="MissingHandlerError"}}class H1 extends Sd{constructor(){super("Collection.insert called directly (not within an explicit transaction) but no 'onInsert' handler is configured.")}}class Z1 extends Sd{constructor(){super("Collection.update called directly (not within an explicit transaction) but no 'onUpdate' handler is configured.")}}class $1 extends Sd{constructor(){super("Collection.delete called directly (not within an explicit transaction) but no 'onDelete' handler is configured.")}}class pi extends bn{constructor(t){super(t),this.name="TransactionError"}}class q1 extends pi{constructor(){super("mutationFn is required when creating a transaction")}}class I1 extends pi{constructor(){super("onMutate must be synchronous and cannot return a promise. Remove async/await or returned promises from onMutate."),this.name="OnMutateMustBeSynchronousError"}}class K1 extends pi{constructor(){super("You can no longer call .mutate() as the transaction is no longer pending")}}class V1 extends pi{constructor(){super("You can no longer call .rollback() as the transaction is already completed")}}class G1 extends pi{constructor(){super("You can no longer call .commit() as the transaction is no longer pending")}}class dv extends pi{constructor(){super("No pending sync transaction to write to")}}class pv extends pi{constructor(){super("The pending sync transaction is already committed, you can't still write to it.")}}class Y1 extends pi{constructor(){super("No pending sync transaction to commit")}}class J1 extends pi{constructor(){super("The pending sync transaction is already committed, you can't commit it again.")}}class Ns extends bn{constructor(t){super(t),this.name="QueryBuilderError"}}class Q1 extends Ns{constructor(t){super(`Only one source is allowed in the ${t}`)}}class X1 extends Ns{constructor(t){super(`A sub query passed to a ${t} must have a from clause itself`)}}class F1 extends Ns{constructor(t){super(`Invalid source for live query: The value provided for alias "${t}" is not a Collection or subquery. Live queries only accept Collection instances or subqueries. Please ensure you're passing a valid Collection or QueryBuilder, not a plain array or other data type.`)}}class Wo extends Ns{constructor(t,s){super(`Invalid source for ${t}: Expected an object with a single key-value pair like { alias: collection }. For example: .from({ todos: todosCollection }). Got: ${s}`)}}class P1 extends Ns{constructor(){super("Join condition must be an equality expression")}}class W1 extends Ns{constructor(){super("Query must have a from clause")}}class mv extends Ns{constructor(t){super(`Invalid where() expression: Expected a query expression, but received a ${t}. This usually happens when using JavaScript's comparison operators (===, !==, <, >, etc.) directly. Instead, use the query builder functions:

   .where(({ user }) => user.id === 'abc')
   .where(({ user }) => eq(user.id, 'abc'))

Available comparison functions: eq, gt, gte, lt, lte, and, or, not, like, ilike, isNull, isUndefined`)}}class rn extends bn{constructor(t){super(t),this.name="QueryCompilationError"}}class ex extends rn{constructor(){super("DISTINCT requires a SELECT clause.")}}class tx extends rn{constructor(){super("HAVING clause requires GROUP BY clause")}}class nx extends rn{constructor(){super("LIMIT and OFFSET require an ORDER BY clause to ensure deterministic results")}}class K0 extends rn{constructor(t,s,r){const l=s?`alias "${t}" (collection "${s}")`:`collection "${t}"`,u=r!=null&&r.length?`. Available keys: ${r.join(", ")}`:"";super(`Input for ${l} not found in inputs map${u}`)}}class ix extends rn{constructor(t,s){super(`Subquery uses alias "${t}" which is already used in the parent query. Each alias must be unique across parent and subquery contexts. Parent query aliases: ${s.join(", ")}. Please rename "${t}" in either the parent query or subquery to avoid conflicts.`)}}class sx extends rn{constructor(t){super(`Unsupported FROM type: ${t}`)}}class rx extends rn{constructor(t){super(`Unknown expression type: ${t}`)}}class ax extends rn{constructor(){super("Reference path cannot be empty")}}class lx extends rn{constructor(t){super(`Unknown function: ${t}`)}}class yv extends rn{constructor(t){super(`Collection "${t}" not found during compilation of join`)}}class js extends bn{constructor(t){super(t),this.name="JoinError"}}class ox extends js{constructor(t){super(`Unsupported join type: ${t}`)}}class ux extends js{constructor(t){super(`Invalid join condition: both expressions refer to the same source "${t}"`)}}class cx extends js{constructor(){super("Invalid join condition: expressions must reference source aliases")}}class fx extends js{constructor(t){super(`Invalid join condition: left expression refers to an unavailable source "${t}"`)}}class hx extends js{constructor(t){super(`Invalid join condition: right expression does not refer to the joined source "${t}"`)}}class dx extends js{constructor(){super("Invalid join condition")}}class px extends js{constructor(t){super(`Unsupported join source type: ${t}`)}}class Hu extends bn{constructor(t){super(t),this.name="GroupByError"}}class mx extends Hu{constructor(t){super(`Non-aggregate expression '${t}' in SELECT must also appear in GROUP BY clause`)}}class yx extends Hu{constructor(t){super(`Unsupported aggregate function: ${t}`)}}class gx extends Hu{constructor(t){super(`Aggregate function in HAVING clause must also be in SELECT clause: ${t}`)}}class vx extends Hu{constructor(t){super(`Unknown expression type in HAVING clause: ${t}`)}}class gv extends bn{constructor(t,s){const r=s instanceof Error?s.message:String(s);super(`Collection "${t}" sync cleanup function threw an error: ${r}`),this.name="SyncCleanupError"}}class Sx extends bn{constructor(t){super(t),this.name="QueryOptimizerError"}}class bx extends Sx{constructor(){super("Cannot combine empty expression list")}}class wx extends rn{constructor(t,s,r,l){super(`Internal error: subscription for alias '${t}' (remapped from '${s}', collection '${r}') is missing in join pipeline. Available aliases: ${l.join(", ")}. This indicates a bug in alias tracking.`)}}class _x extends rn{constructor(t){super(`Internal error: compiler returned aliases without inputs: ${t.join(", ")}. This indicates a bug in query compilation. Please report this issue.`)}}class Ex extends rn{constructor(){super("setWindow() can only be called on collections with an ORDER BY clause. Add .orderBy() to your query to enable window movement.")}}const _h=new WeakMap;let xx=1;function vv(n){if(_h.has(n))return _h.get(n);const t=xx++;return _h.set(n,t),t}const bd=(n,t,s)=>{const{nulls:r}=s;if(n==null&&t==null)return 0;if(n==null)return r==="first"?-1:1;if(t==null)return r==="first"?1:-1;if(typeof n=="string"&&typeof t=="string"&&s.stringSort==="locale")return n.localeCompare(t,s.locale,s.localeOptions);if(Array.isArray(n)&&Array.isArray(t)){for(let c=0;c<Math.min(n.length,t.length);c++){const d=bd(n[c],t[c],s);if(d!==0)return d}return n.length-t.length}if(n instanceof Date&&t instanceof Date)return n.getTime()-t.getTime();const l=typeof n=="object",u=typeof t=="object";if(l||u){if(l&&u){const c=vv(n),d=vv(t);return c-d}if(l)return 1;if(u)return-1}return n<t?-1:n>t?1:0},Tx=(n,t,s)=>bd(t,n,{...s,nulls:s.nulls==="first"?"last":"first"});function Eu(n){return(t,s)=>n.direction==="asc"?bd(t,s,n):Tx(t,s,n)}const Lh=Eu({direction:"asc",nulls:"first",stringSort:"locale"});function Ox(n,t){if(n.byteLength!==t.byteLength)return!1;for(let s=0;s<n.byteLength;s++)if(n[s]!==t[s])return!1;return!0}const zx=128;function ai(n){return n instanceof Date?n.getTime():(typeof Buffer<"u"&&n instanceof Buffer||n instanceof Uint8Array)&&n.byteLength<=zx?`__u8__${Array.from(n).join(",")}`:n}function Rx(n,t){if(n===t)return!0;const s=typeof Buffer<"u"&&n instanceof Buffer||n instanceof Uint8Array,r=typeof Buffer<"u"&&t instanceof Buffer||t instanceof Uint8Array;return s&&r?Ox(n,t):!1}function dt(n){return n==null}function Tr(n){return n===!0}function Vt(n,t=!1){return _d(n,t)}function wd(n){return _d(n,!0)}function _d(n,t){switch(n.type){case"val":{const s=n.value;return()=>s}case"ref":return t?Ax(n):Cx(n);case"func":return Mx(n,t);default:throw new rx(n.type)}}function Cx(n){const[t,...s]=n.path;if(!t)throw new ax;if(t==="$selected"){if(s.length===0)return l=>l.$selected;if(s.length===1){const l=s[0];return u=>{const c=u.$selected;return c==null?void 0:c[l]}}else return l=>{const u=l.$selected;if(u===void 0)return;let c=u;for(const d of s){if(c==null)return c;c=c[d]}return c}}const r=t;if(s.length===0)return l=>l[r];if(s.length===1){const l=s[0];return u=>{const c=u[r];return c==null?void 0:c[l]}}else return l=>{const u=l[r];if(u===void 0)return;let c=u;for(const d of s){if(c==null)return c;c=c[d]}return c}}function Ax(n){const t=n.path;return s=>{let r=s;for(const l of t){if(r==null)return r;r=r[l]}return r}}function Mx(n,t){const s=n.args.map(r=>_d(r,t));switch(n.name){case"eq":{const r=s[0],l=s[1];return u=>{const c=ai(r(u)),d=ai(l(u));return dt(c)||dt(d)?null:Rx(c,d)}}case"gt":{const r=s[0],l=s[1];return u=>{const c=r(u),d=l(u);return dt(c)||dt(d)?null:c>d}}case"gte":{const r=s[0],l=s[1];return u=>{const c=r(u),d=l(u);return dt(c)||dt(d)?null:c>=d}}case"lt":{const r=s[0],l=s[1];return u=>{const c=r(u),d=l(u);return dt(c)||dt(d)?null:c<d}}case"lte":{const r=s[0],l=s[1];return u=>{const c=r(u),d=l(u);return dt(c)||dt(d)?null:c<=d}}case"and":return r=>{let l=!1;for(const u of s){const c=u(r);if(c===!1)return!1;dt(c)&&(l=!0)}return l?null:!0};case"or":return r=>{let l=!1;for(const u of s){const c=u(r);if(c===!0)return!0;dt(c)&&(l=!0)}return l?null:!1};case"not":{const r=s[0];return l=>{const u=r(l);return dt(u)?null:!u}}case"in":{const r=s[0],l=s[1];return u=>{const c=r(u),d=l(u);return dt(c)?null:Array.isArray(d)?d.includes(c):!1}}case"like":{const r=s[0],l=s[1];return u=>{const c=r(u),d=l(u);return dt(c)||dt(d)?null:Sv(c,d,!1)}}case"ilike":{const r=s[0],l=s[1];return u=>{const c=r(u),d=l(u);return dt(c)||dt(d)?null:Sv(c,d,!0)}}case"upper":{const r=s[0];return l=>{const u=r(l);return typeof u=="string"?u.toUpperCase():u}}case"lower":{const r=s[0];return l=>{const u=r(l);return typeof u=="string"?u.toLowerCase():u}}case"length":{const r=s[0];return l=>{const u=r(l);return typeof u=="string"||Array.isArray(u)?u.length:0}}case"concat":return r=>s.map(l=>{const u=l(r);try{return String(u??"")}catch{try{return JSON.stringify(u)||""}catch{return"[object]"}}}).join("");case"coalesce":return r=>{for(const l of s){const u=l(r);if(u!=null)return u}return null};case"add":{const r=s[0],l=s[1];return u=>{const c=r(u),d=l(u);return(c??0)+(d??0)}}case"subtract":{const r=s[0],l=s[1];return u=>{const c=r(u),d=l(u);return(c??0)-(d??0)}}case"multiply":{const r=s[0],l=s[1];return u=>{const c=r(u),d=l(u);return(c??0)*(d??0)}}case"divide":{const r=s[0],l=s[1];return u=>{const c=r(u),p=l(u)??0;return p!==0?(c??0)/p:null}}case"isUndefined":{const r=s[0];return l=>r(l)===void 0}case"isNull":{const r=s[0];return l=>r(l)===null}default:throw new lx(n.name)}}function Sv(n,t,s){if(typeof n!="string"||typeof t!="string")return!1;const r=s?n.toLowerCase():n;let u=(s?t.toLowerCase():t).replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return u=u.replace(/%/g,".*"),u=u.replace(/_/g,"."),new RegExp(`^${u}$`).test(r)}function Bn(n,t){return cu(n,t,new Map)}function cu(n,t,s){if(n===t)return!0;if(n==null||t==null||typeof n!=typeof t)return!1;if(n instanceof Date)return t instanceof Date?n.getTime()===t.getTime():!1;if(t instanceof Date)return!1;if(n instanceof RegExp)return t instanceof RegExp?n.source===t.source&&n.flags===t.flags:!1;if(t instanceof RegExp)return!1;if(n instanceof Map){if(!(t instanceof Map)||n.size!==t.size)return!1;if(s.has(n))return s.get(n)===t;s.set(n,t);const l=Array.from(n.entries()).every(([u,c])=>t.has(u)&&cu(c,t.get(u),s));return s.delete(n),l}if(t instanceof Map)return!1;if(n instanceof Set){if(!(t instanceof Set)||n.size!==t.size)return!1;if(s.has(n))return s.get(n)===t;s.set(n,t);const r=Array.from(n),l=Array.from(t);if(r.every(c=>typeof c!="object"))return s.delete(n),r.every(c=>t.has(c));const u=r.length===l.length;return s.delete(n),u}if(t instanceof Set)return!1;if(ArrayBuffer.isView(n)&&ArrayBuffer.isView(t)&&!(n instanceof DataView)&&!(t instanceof DataView)){const r=n,l=t;if(r.length!==l.length)return!1;for(let u=0;u<r.length;u++)if(r[u]!==l[u])return!1;return!0}if(ArrayBuffer.isView(t)&&!(t instanceof DataView)&&!ArrayBuffer.isView(n))return!1;if(Ja(n)&&Ja(t)){const r=Hh(n),l=Hh(t);return r!==l?!1:typeof n.equals=="function"?n.equals(t):n.toString()===t.toString()}if(Ja(t))return!1;if(Array.isArray(n)){if(!Array.isArray(t)||n.length!==t.length)return!1;if(s.has(n))return s.get(n)===t;s.set(n,t);const r=n.every((l,u)=>cu(l,t[u],s));return s.delete(n),r}if(Array.isArray(t))return!1;if(typeof n=="object"){if(s.has(n))return s.get(n)===t;s.set(n,t);const r=Object.keys(n),l=Object.keys(t);if(r.length!==l.length)return s.delete(n),!1;const u=r.every(c=>c in t&&cu(n[c],t[c],s));return s.delete(n),u}return!1}const Dx=["Temporal.Duration","Temporal.Instant","Temporal.PlainDate","Temporal.PlainDateTime","Temporal.PlainMonthDay","Temporal.PlainTime","Temporal.PlainYearMonth","Temporal.ZonedDateTime"];function Hh(n){return n[Symbol.toStringTag]}function Ja(n){const t=Hh(n);return typeof t=="string"&&Dx.includes(t)}const Ed={direction:"asc",nulls:"first",stringSort:"locale"};class kx{constructor(t){this.originalIndex=t}lookup(t,s){const r=t==="gt"?"lt":t==="gte"?"lte":t==="lt"?"gt":t==="lte"?"gte":t;return this.originalIndex.lookup(r,s)}rangeQuery(t={}){return this.originalIndex.rangeQueryReversed(t)}rangeQueryReversed(t={}){return this.originalIndex.rangeQuery(t)}take(t,s,r){return this.originalIndex.takeReversed(t,s,r)}takeReversed(t,s,r){return this.originalIndex.take(t,s,r)}get orderedEntriesArray(){return this.originalIndex.orderedEntriesArrayReversed}get orderedEntriesArrayReversed(){return this.originalIndex.orderedEntriesArray}supports(t){return this.originalIndex.supports(t)}matchesField(t){return this.originalIndex.matchesField(t)}matchesCompareOptions(t){return this.originalIndex.matchesCompareOptions(t)}matchesDirection(t){return this.originalIndex.matchesDirection(t)}getStats(){return this.originalIndex.getStats()}add(t,s){this.originalIndex.add(t,s)}remove(t,s){this.originalIndex.remove(t,s)}update(t,s,r){this.originalIndex.update(t,s,r)}build(t){this.originalIndex.build(t)}clear(){this.originalIndex.clear()}get keyCount(){return this.originalIndex.keyCount}equalityLookup(t){return this.originalIndex.equalityLookup(t)}inArrayLookup(t){return this.originalIndex.inArrayLookup(t)}get indexedKeysSet(){return this.originalIndex.indexedKeysSet}get valueMapData(){return this.originalIndex.valueMapData}}function Ml(n,t,s){const r=s??{...Ed,...n.compareOptions};for(const l of n.indexes.values())if(l.matchesField(t)&&l.matchesCompareOptions(r))return l.matchesDirection(r.direction)?l:new kx(l)}function Nx(n){if(n.length===0)return new Set;if(n.length===1)return new Set(n[0]);let t=new Set(n[0]);for(let s=1;s<n.length;s++){const r=new Set;for(const l of t)n[s].has(l)&&r.add(l);t=r}return t}function jx(n){const t=new Set;for(const s of n)for(const r of s)t.add(r);return t}function Ux(n,t){return xd(n,t)}function xd(n,t){if(n.type==="func")switch(n.name){case"eq":case"gt":case"gte":case"lt":case"lte":return Lx(n,t);case"and":return Hx(n,t);case"or":return Zx(n,t);case"in":return $x(n,t)}return{canOptimize:!1,matchingKeys:new Set}}function Bx(n,t){if(n.type!=="func"||n.args.length<2)return{canOptimize:!1,matchingKeys:new Set};const s=new Map;for(const r of n.args)if(r.type==="func"&&["gt","gte","lt","lte"].includes(r.name)){const l=r;if(l.args.length===2){const u=l.args[0],c=l.args[1];let d=null,p=null,m=l.name;if(u.type==="ref"&&c.type==="val")d=u,p=c;else if(u.type==="val"&&c.type==="ref")switch(d=c,p=u,m){case"gt":m="lt";break;case"gte":m="lte";break;case"lt":m="gt";break;case"lte":m="gte";break}if(d&&p){const y=d.path.join("."),w=p.value;s.has(y)||s.set(y,[]),s.get(y).push({operation:m,value:w})}}}for(const[r,l]of s)if(l.length>=2){const u=r.split("."),c=Ml(t,u);if(c&&c.supports("gt")&&c.supports("lt")){let d,p,m=!0,g=!0;for(const{operation:w,value:S}of l)switch(w){case"gt":(d===void 0||S>d)&&(d=S,m=!1);break;case"gte":(d===void 0||S>d)&&(d=S,m=!0);break;case"lt":(p===void 0||S<p)&&(p=S,g=!1);break;case"lte":(p===void 0||S<p)&&(p=S,g=!0);break}return{canOptimize:!0,matchingKeys:c.rangeQuery({from:d,to:p,fromInclusive:m,toInclusive:g})}}}return{canOptimize:!1,matchingKeys:new Set}}function Lx(n,t){if(n.type!=="func"||n.args.length!==2)return{canOptimize:!1,matchingKeys:new Set};const s=n.args[0],r=n.args[1];let l=null,u=null,c=n.name;if(s.type==="ref"&&r.type==="val")l=s,u=r;else if(s.type==="val"&&r.type==="ref")switch(l=r,u=s,c){case"gt":c="lt";break;case"gte":c="lte";break;case"lt":c="gt";break;case"lte":c="gte";break}if(l&&u){const d=l.path,p=Ml(t,d);if(p){const m=u.value,g=c;return p.supports(g)?{canOptimize:!0,matchingKeys:p.lookup(g,m)}:{canOptimize:!1,matchingKeys:new Set}}}return{canOptimize:!1,matchingKeys:new Set}}function Hx(n,t){if(n.type!=="func"||n.args.length<2)return{canOptimize:!1,matchingKeys:new Set};const s=Bx(n,t);if(s.canOptimize)return s;const r=[];for(const l of n.args){const u=xd(l,t);u.canOptimize&&r.push(u)}if(r.length>0){const l=r.map(c=>c.matchingKeys);return{canOptimize:!0,matchingKeys:Nx(l)}}return{canOptimize:!1,matchingKeys:new Set}}function Zx(n,t){if(n.type!=="func"||n.args.length<2)return{canOptimize:!1,matchingKeys:new Set};const s=[];for(const r of n.args){const l=xd(r,t);l.canOptimize&&s.push(l)}if(s.length>0){const r=s.map(u=>u.matchingKeys);return{canOptimize:!0,matchingKeys:jx(r)}}return{canOptimize:!1,matchingKeys:new Set}}function $x(n,t){if(n.type!=="func"||n.args.length!==2)return{canOptimize:!1,matchingKeys:new Set};const s=n.args[0],r=n.args[1];if(s.type==="ref"&&r.type==="val"&&Array.isArray(r.value)){const l=s.path,u=r.value,c=Ml(t,l);if(c){if(c.supports("in"))return{canOptimize:!0,matchingKeys:c.lookup("in",u)};if(c.supports("eq")){const d=new Set;for(const p of u){const m=c.lookup("eq",p);for(const g of m)d.add(g)}return{canOptimize:!0,matchingKeys:d}}}}return{canOptimize:!1,matchingKeys:new Set}}class qx extends Map{constructor(t,s){super(s),this.defaultValue=t}get(t){return this.has(t)?super.get(t):this.defaultValue()}update(t,s){const r=this.get(t),l=s(r);return this.set(t,l),l}}const Eh=3e4;function xh(n,t){if(t.length<=Eh)n.push(...t);else for(let s=0;s<t.length;s+=Eh){const r=t.slice(s,s+Eh);n.push(...r)}}function Ix(n,t,s){let r=0,l=n.length;for(;r<l;){const u=Math.floor((r+l)/2),c=s(n[u],t);if(c<0)r=u+1;else if(c>0)l=u;else return u}return r}class Kx{constructor(){this.objectIds=new WeakMap,this.nextId=0}getId(t){if(typeof t!="object"||t===null){const s=String(t);let r=0;for(let l=0;l<s.length;l++){const u=s.charCodeAt(l);r=(r<<5)-r+u,r=r&r}return r}return this.objectIds.has(t)||this.objectIds.set(t,this.nextId++),this.objectIds.get(t)}getStringId(t){return t===null?"null":t===void 0?"undefined":typeof t!="object"?`str_${String(t)}`:`obj_${this.getId(t)}`}}const Th=new Kx;function Vx(n,t){const[s,r]=n,[l,u]=t,c=[...eu(s,Math.min(r,l)),...eu(Math.max(s,u),r)],d=[...eu(l,Math.min(u,s)),...eu(Math.max(l,r),u)];return{onlyInA:c,onlyInB:d}}function eu(n,t){const s=[];for(let r=n;r<t;r++)s.push(r);return s}function xu(n,t){return typeof n==typeof t?n<t?-1:n>t?1:0:typeof n=="string"?-1:1}function V0(n){return JSON.stringify(n,(t,s)=>typeof s=="bigint"?s.toString():s instanceof Date?s.toISOString():s)}const Gx=Et(),Yx=Et(),Jx=Et(),Qx=Et(),Xx=Et();function Et(){return Math.random()*(2**31-1)>>>0}const G0=new ArrayBuffer(8),Fx=new DataView(G0),Zi=new Uint8Array(G0);class Zu{constructor(){this.hash=Gx,this.length=0,this.carry=0,this.carryBytes=0}_mix(t){t=Math.imul(t,3432918353),t=t<<15|t>>>17,t=Math.imul(t,461845907),this.hash^=t,this.hash=this.hash<<13|this.hash>>>19,this.hash=Math.imul(this.hash,5)+3864292196}writeByte(t){this.carry|=(t&255)<<8*this.carryBytes,this.carryBytes++,this.length++,this.carryBytes===4&&(this._mix(this.carry>>>0),this.carry=0,this.carryBytes=0)}update(t){switch(typeof t){case"symbol":{this.update(Xx);const s=t.description;if(!s)return;for(let r=0;r<s.length;r++){const l=s.charCodeAt(r);this.writeByte(l&255),this.writeByte(l>>>8&255)}return}case"string":this.update(Yx);for(let s=0;s<t.length;s++){const r=t.charCodeAt(s);this.writeByte(r&255),this.writeByte(r>>>8&255)}return;case"number":Fx.setFloat64(0,t,!0),this.writeByte(Zi[0]),this.writeByte(Zi[1]),this.writeByte(Zi[2]),this.writeByte(Zi[3]),this.writeByte(Zi[4]),this.writeByte(Zi[5]),this.writeByte(Zi[6]),this.writeByte(Zi[7]);return;case"bigint":{let s=t;for(s<0n?(s=-s,this.update(Qx)):this.update(Jx);s>0n;)this.writeByte(Number(s&0xffn)),s>>=8n;t===0n&&this.writeByte(0);return}default:throw new TypeError(`Unsupported input type: ${typeof t}`)}}digest(){if(this.carryBytes>0){let t=this.carry>>>0;t=Math.imul(t,3432918353),t=t<<15|t>>>17,t=Math.imul(t,461845907),this.hash^=t}return this.hash^=this.length,this.hash^=this.hash>>>16,this.hash=Math.imul(this.hash,2246822507),this.hash^=this.hash>>>13,this.hash=Math.imul(this.hash,3266489909),this.hash^=this.hash>>>16,this.hash>>>0}}const Px=Et(),Wx=Et(),eT=Et(),tT=Et(),nT=Et(),iT=Et(),sT=Et(),rT=Et(),aT=Et(),lT=Et(),oT=Et(),uT=Et(),cT=128,tl=new WeakMap;function Dt(n){const t=new Zu;return Y0(t,n),t.digest()}function fT(n){const t=tl.get(n);if(t!==void 0)return t;let s;if(n instanceof Date)s=hT(n);else if(typeof Buffer<"u"&&n instanceof Buffer||n instanceof Uint8Array)if(n.byteLength<=cT)s=dT(n);else return Zh(n);else{if(n instanceof File)return Zh(n);{let r=n,l=rT;n instanceof Array&&(l=aT),n instanceof Map&&(l=lT,r=[...n.entries()]),n instanceof Set&&(l=oT,r=[...n.entries()]),s=pT(r,l)}}return tl.set(n,s),s}function hT(n){const t=new Zu;return t.update(sT),t.update(n.getTime()),t.digest()}function dT(n){const t=new Zu;t.update(uT),t.update(n.byteLength);for(let s=0;s<n.byteLength;s++)t.writeByte(n[s]);return t.digest()}function pT(n,t){const s=new Zu;s.update(t);const r=Object.keys(n);r.sort(yT);for(const l of r)s.update(nT),s.update(l),Y0(s,n[l]);return s.digest()}function Y0(n,t){if(t===null){n.update(eT);return}switch(typeof t){case"undefined":n.update(tT);return;case"boolean":n.update(t?Px:Wx);return;case"number":n.update(isNaN(t)?NaN:t===0?0:t);return;case"bigint":case"string":case"symbol":n.update(t);return;case"object":n.update(mT(t));return;case"function":n.update(Zh(t));return;default:console.warn(`Ignored input during hashing because it is of type ${typeof t} which is not supported`)}}function mT(n){let t=tl.get(n);return t===void 0&&(t=fT(n)),t}let bv=1;function Zh(n){let t=tl.get(n);return t===void 0&&(t=bv^iT,bv++,tl.set(n,t)),t}function yT(n,t){return n.localeCompare(t)}var St,Pi,J0,fu;const Mn=class Mn{constructor(t=[]){ne(this,Pi);ne(this,St);ee(this,St,t)}toString(t=!1){return`MultiSet(${JSON.stringify(x(this,St),null,t?2:void 0)})`}toJSON(){return JSON.stringify(Array.from(this.getInner()))}static fromJSON(t){return new Mn(JSON.parse(t))}map(t){return new Mn(x(this,St).map(([s,r])=>[t(s),r]))}filter(t){return new Mn(x(this,St).filter(([s,r])=>t(s)))}negate(){return new Mn(x(this,St).map(([t,s])=>[t,-s]))}concat(t){const s=[];return xh(s,x(this,St)),xh(s,t.getInner()),new Mn(s)}consolidate(){var t;if(x(this,St).length>0){const s=(t=x(this,St)[0])==null?void 0:t[0];if(Array.isArray(s)&&s.length===2)return V(this,Pi,J0).call(this)}return V(this,Pi,fu).call(this)}extend(t){const s=t instanceof Mn?t.getInner():t;xh(x(this,St),s)}add(t,s){s!==0&&x(this,St).push([t,s])}getInner(){return x(this,St)}};St=new WeakMap,Pi=new WeakSet,J0=function(){const t=new Map,s=new Map,r=u=>{if(u.length!==2)throw new Error("Expected tuple of length 2");const[c,d]=u;return`${Th.getStringId(c)}|${Th.getStringId(d)}`};for(const[u,c]of x(this,St)){if(!Array.isArray(u)||u.length!==2)return V(this,Pi,fu).call(this);const[d,p]=u;if(typeof d!="string"&&typeof d!="number")return V(this,Pi,fu).call(this);let m;Array.isArray(p)&&p.length===2?m=r(p):m=Th.getStringId(p);const g=d+"|"+m;t.set(g,(t.get(g)||0)+c),s.has(g)||s.set(g,u)}const l=[];for(const[u,c]of t)c!==0&&l.push([s.get(u),c]);return new Mn(l)},fu=function(){const t=new qx(()=>0),s=new Map;let r=!1,l=!1,u=!1;for(const[p,m]of x(this,St))if(typeof p=="string")r=!0;else if(typeof p=="number")l=!0;else{u=!0;break}const c=u||r&&l;for(const[p,m]of x(this,St)){const g=c?Dt(p):p;c&&!s.has(g)&&s.set(g,p),t.update(g,y=>y+m)}const d=[];for(const[p,m]of t.entries())if(m!==0){const g=c?s.get(p):p;d.push([g,m])}return new Mn(d)};let vn=Mn;var Ts;class gT{constructor(t){ne(this,Ts);ee(this,Ts,t)}drain(){const t=[...x(this,Ts)].reverse();return x(this,Ts).length=0,t}isEmpty(){return x(this,Ts).length===0}}Ts=new WeakMap;var ol;class Hn{constructor(){ne(this,ol,[])}sendData(t){t instanceof vn||(t=new vn(t));for(const s of x(this,ol))s.unshift(t)}newReader(){const t=[];return x(this,ol).push(t),new gT(t)}}ol=new WeakMap;class Q0{constructor(t,s,r){this.id=t,this.inputs=s,this.output=r}hasPendingWork(){return this.inputs.some(t=>!t.isEmpty())}}class Kr extends Q0{constructor(t,s,r){super(t,[s],r),this.id=t}inputMessages(){return this.inputs[0].drain()}}class vT extends Q0{constructor(t,s,r,l){super(t,[s,r],l),this.id=t}inputAMessages(){return this.inputs[0].drain()}inputBMessages(){return this.inputs[1].drain()}}class Td extends Kr{run(){for(const t of this.inputMessages())this.output.sendData(this.inner(t))}}var zr,Nu,Rr,Os,$a;class ST{constructor(){ne(this,Os);ne(this,zr,[]);ne(this,Nu,0);ne(this,Rr,!1)}getNextOperatorId(){return V(this,Os,$a).call(this),hh(this,Nu)._++}newInput(){V(this,Os,$a).call(this);const t=new Hn;return new bT(this,t)}addOperator(t){V(this,Os,$a).call(this),x(this,zr).push(t)}finalize(){V(this,Os,$a).call(this),ee(this,Rr,!0)}step(){if(!x(this,Rr))throw new Error("Graph not finalized");for(const t of x(this,zr))t.run()}pendingWork(){return x(this,zr).some(t=>t.hasPendingWork())}run(){for(;this.pendingWork();)this.step()}}zr=new WeakMap,Nu=new WeakMap,Rr=new WeakMap,Os=new WeakSet,$a=function(){if(x(this,Rr))throw new Error("Graph already finalized")};var ul,Cr;class Zn{constructor(t,s){ne(this,ul);ne(this,Cr);ee(this,ul,t),ee(this,Cr,s)}connectReader(){return x(this,Cr).newReader()}get writer(){return x(this,Cr)}get graph(){return x(this,ul)}pipe(...t){return t.reduce((s,r)=>r(s),this)}}ul=new WeakMap,Cr=new WeakMap;class bT extends Zn{sendData(t){this.writer.sendData(t)}}var cl;class wT extends Td{constructor(s,r,l,u){super(s,r,l);ne(this,cl);ee(this,cl,u)}inner(s){return s.map(x(this,cl))}}cl=new WeakMap;function kt(n){return t=>{const s=new Zn(t.graph,new Hn),r=new wT(t.graph.getNextOperatorId(),t.connectReader(),s.writer,n);return t.graph.addOperator(r),s}}const qa=Symbol("NO_PREFIX");class wv extends Map{addValue(t,s){if(s===0)return this.size===0;const r=Qa(t),l=this.get(r);if(hu(l)){const[u,c]=l;if(Qa(u)!==r)throw new Error("Mismatching prefixes, this should never happen");if(u===t||Dt(u)===Dt(t)){const p=c+s;p===0?this.delete(r):this.set(r,[t,p])}else{const p=new Ia;p.set(Dt(u),l),p.set(Dt(t),[t,s]),this.set(r,p)}}else l===void 0?this.set(r,[t,s]):l.addValue(t,s)&&this.delete(r);return this.size===0}}class Ia extends Map{addValue(t,s){if(s===0)return this.size===0;const r=Dt(t),l=this.get(r);if(l){const[,u]=l,c=u+s;c===0?this.delete(r):this.set(r,[t,c])}else this.set(r,[t,s]);return this.size===0}}var st,li,ju,X0;const Vd=class Vd{constructor(){ne(this,ju);ne(this,st);ne(this,li,new Map);ee(this,st,new Map)}static fromMultiSets(t){const s=new Vd;for(const r of t)for(const[l,u]of r.getInner()){const[c,d]=l;s.addValue(c,[d,u])}return s}toString(t=!1){return`Index(${JSON.stringify([...this.entries()],void 0,t?2:void 0)})`}get size(){return x(this,st).size}has(t){return x(this,st).has(t)}hasPresence(t){return(x(this,li).get(t)||0)!==0}getConsolidatedMultiplicity(t){return x(this,li).get(t)||0}getPresenceKeys(){return x(this,li).keys()}get(t){return[...this.getIterator(t)]}*getIterator(t){const s=x(this,st).get(t);if(hu(s))yield s;else{if(s===void 0)return;if(s instanceof Ia)for(const r of s.values())yield r;else for(const r of s.values())if(hu(r))yield r;else for(const l of r.values())yield l}}*entries(){for(const t of x(this,st).keys())for(const s of this.getIterator(t))yield[t,s]}*entriesIterators(){for(const t of x(this,st).keys())yield[t,this.getIterator(t)]}addValue(t,s){const[r,l]=s;if(l===0)return;const u=(x(this,li).get(t)||0)+l;u===0?x(this,li).delete(t):x(this,li).set(t,u);const c=x(this,st).get(t);if(c===void 0){x(this,st).set(t,s);return}if(hu(c)){V(this,ju,X0).call(this,t,c,r,l);return}if(c instanceof Ia){const d=Qa(r);if(d!==qa){const p=new wv;p.set(qa,c),p.set(d,s),x(this,st).set(t,p)}else c.addValue(r,l)&&x(this,st).delete(t)}else c.addValue(r,l)&&x(this,st).delete(t)}append(t){for(const[s,r]of t.entries())this.addValue(s,r)}join(t){const s=[];if(this.size<=t.size)for(const[r,l]of this.entriesIterators()){if(!t.has(r))continue;const u=t.get(r);for(const[c,d]of l)for(const[p,m]of u)d!==0&&m!==0&&s.push([[r,[c,p]],d*m])}else for(const[r,l]of t.entriesIterators()){if(!this.has(r))continue;const u=this.get(r);for(const[c,d]of l)for(const[p,m]of u)m!==0&&d!==0&&s.push([[r,[p,c]],m*d])}return new vn(s)}};st=new WeakMap,li=new WeakMap,ju=new WeakSet,X0=function(t,s,r,l){const[u,c]=s;if(u===r){const m=c+l;m===0?x(this,st).delete(t):x(this,st).set(t,[r,m]);return}const d=Qa(r),p=Qa(u);if(p===d&&(u===r||Dt(u)===Dt(r))){const m=c+l;m===0?x(this,st).delete(t):x(this,st).set(t,[r,m]);return}if(p===qa&&d===qa){const m=new Ia;m.set(Dt(u),s),m.set(Dt(r),[r,l]),x(this,st).set(t,m)}else{const m=new wv;if(p===d){const g=new Ia;g.set(Dt(u),s),g.set(Dt(r),[r,l]),m.set(p,g)}else m.set(p,s),m.set(d,[r,l]);x(this,st).set(t,m)}};let Qi=Vd;function Qa(n){return Array.isArray(n)&&(typeof n[0]=="string"||typeof n[0]=="number"||typeof n[0]=="bigint")?n[0]:qa}function hu(n){return Array.isArray(n)}var fl,zs,hl;class _T extends Kr{constructor(s,r,l,u){super(s,r,l);ne(this,fl,new Qi);ne(this,zs,new Qi);ne(this,hl);ee(this,hl,u)}run(){const s=new Set;for(const l of this.inputMessages())for(const[u,c]of l.getInner()){const[d,p]=u;x(this,fl).addValue(d,[p,c]),s.add(d)}const r=[];for(const l of s){const u=x(this,fl).get(l),c=x(this,zs).get(l),d=x(this,hl).call(this,u),p=new Map,m=new Map;for(const[g,y]of d){const w=p.get(g)??0;p.set(g,w+y)}for(const[g,y]of c){const w=m.get(g)??0;m.set(g,w+y)}for(const[g,y]of m)p.has(g)||(r.push([[l,g],-y]),x(this,zs).addValue(l,[g,-y]));for(const[g,y]of p)m.has(g)||y!==0&&(r.push([[l,g],y]),x(this,zs).addValue(l,[g,y]));for(const[g,y]of p){const w=m.get(g);if(w!==void 0){const S=y-w;S!==0&&(r.push([[l,g],S]),x(this,zs).addValue(l,[g,S]))}}}r.length>0&&this.output.sendData(new vn(r))}}fl=new WeakMap,zs=new WeakMap,hl=new WeakMap;function ET(n){return t=>{const s=new Zn(t.graph,new Hn),r=new _T(t.graph.getNextOperatorId(),t.connectReader(),s.writer,n);return t.graph.addOperator(r),s}}function _v(n){return"pipe"in n}function Ev(n,t={}){const s=Object.fromEntries(Object.entries(t).filter(([r,l])=>!_v(l)));return Object.fromEntries(Object.entries(t).filter(([r,l])=>_v(l))),r=>{const l="__original_key__";return r.pipe(kt(d=>{const p=n(d),m=V0(p),g={};g[l]=p;for(const[y,w]of Object.entries(s))g[y]=w.preMap(d);return[m,g]})).pipe(ET(d=>{var y,w;let p=0;for(const[S,b]of d)p+=b;if(p<=0)return[];const m={},g=(w=(y=d[0])==null?void 0:y[0])==null?void 0:w[l];m[l]=g;for(const[S,b]of Object.entries(s)){const E=d.map(([O,M])=>[O[S],M]);m[S]=b.reduce(E)}return[[m,1]]})).pipe(kt(([d,p])=>{const m=p[l],g={};Object.assign(g,m);for(const[y,w]of Object.entries(s))w.postMap?g[y]=w.postMap(p[y]):g[y]=p[y];return[d,g]}))}}function xT(n=t=>t){return{preMap:t=>n(t),reduce:t=>{let s=0;for(const[r,l]of t)s+=r*l;return s}}}function TT(n=t=>t){return{preMap:t=>n(t)==null?0:1,reduce:t=>{let s=0;for(const[r,l]of t)s+=r*l;return s}}}function OT(n=t=>t){return{preMap:t=>({sum:n(t),count:0}),reduce:t=>{let s=0,r=0;for(const[l,u]of t)s+=l.sum*u,r+=u;return{sum:s,count:r}},postMap:t=>t.sum/t.count}}function zT(n){const t=n??(s=>s);return{preMap:s=>t(s),reduce:s=>{let r;for(const[l,u]of s)(!r||l&&l<r)&&(r=l);return r}}}function RT(n){const t=n??(s=>s);return{preMap:s=>t(s),reduce:s=>{let r;for(const[l,u]of s)(!r||l&&l>r)&&(r=l);return r}}}const CT={sum:xT,count:TT,avg:OT,min:zT,max:RT};var dl;class AT extends Td{constructor(s,r,l,u){super(s,r,l);ne(this,dl);ee(this,dl,u)}inner(s){return x(this,dl).call(this,s),s}}dl=new WeakMap;function MT(n){return t=>{const s=new Zn(t.graph,new Hn),r=new AT(t.graph.getNextOperatorId(),t.connectReader(),s.writer,n);return t.graph.addOperator(r),s}}var pl;class DT extends Td{constructor(s,r,l,u){super(s,r,l);ne(this,pl);ee(this,pl,u)}inner(s){return s.filter(x(this,pl))}}pl=new WeakMap;function Xi(n){return t=>{const s=new Zn(t.graph,new Hn),r=new DT(t.graph.getNextOperatorId(),t.connectReader(),s.writer,n);return t.graph.addOperator(r),s}}var ml;class kT extends Kr{constructor(s,r,l,u){super(s,r,l);ne(this,ml);ee(this,ml,u)}run(){for(const s of this.inputMessages())x(this,ml).call(this,s),this.output.sendData(s)}}ml=new WeakMap;function NT(n){return t=>{const s=new Zn(t.graph,new Hn),r=new kT(t.graph.getNextOperatorId(),t.connectReader(),s.writer,n);return t.graph.addOperator(r),s}}class jT extends Kr{run(){const t=this.inputMessages();if(t.length===0)return;const s=new vn;for(const l of t)s.extend(l);const r=s.consolidate();r.getInner().length>0&&this.output.sendData(r)}}function UT(){return n=>{const t=new Zn(n.graph,new Hn),s=new jT(n.graph.getNextOperatorId(),n.connectReader(),t.writer);return n.graph.addOperator(s),t}}var qi,Ii,Dn;class BT extends vT{constructor(s,r,l,u,c="inner"){super(s,r,l,u);ne(this,qi,new Qi);ne(this,Ii,new Qi);ne(this,Dn);ee(this,Dn,c)}run(){const s=Qi.fromMultiSets(this.inputAMessages()),r=Qi.fromMultiSets(this.inputBMessages());if(s.size===0&&r.size===0)return;const l=new vn;x(this,Dn)!=="anti"&&this.emitInnerResults(s,r,l),(x(this,Dn)==="left"||x(this,Dn)==="full"||x(this,Dn)==="anti")&&this.emitLeftOuterResults(s,r,l),(x(this,Dn)==="right"||x(this,Dn)==="full")&&this.emitRightOuterResults(s,r,l),x(this,qi).append(s),x(this,Ii).append(r),l.getInner().length>0&&this.output.sendData(l)}emitInnerResults(s,r,l){s.size>0&&l.extend(s.join(x(this,Ii))),r.size>0&&l.extend(x(this,qi).join(r)),s.size>0&&r.size>0&&l.extend(s.join(r))}emitLeftOuterResults(s,r,l){if(s.size>0)for(const[u,c]of s.entriesIterators()){const d=x(this,Ii).getConsolidatedMultiplicity(u),p=r.getConsolidatedMultiplicity(u);if(d+p===0)for(const[g,y]of c)y!==0&&l.add([u,[g,null]],y)}if(r.size>0)for(const u of r.getPresenceKeys()){const c=x(this,Ii).getConsolidatedMultiplicity(u),d=r.getConsolidatedMultiplicity(u);if(d===0)continue;const p=c+d;if(c===0==(p===0))continue;const m=c===0;for(const[g,y]of x(this,qi).getIterator(u))y!==0&&l.add([u,[g,null]],m?-y:+y)}}emitRightOuterResults(s,r,l){if(r.size>0)for(const[u,c]of r.entriesIterators()){const d=x(this,qi).getConsolidatedMultiplicity(u),p=s.getConsolidatedMultiplicity(u);if(d+p===0)for(const[g,y]of c)y!==0&&l.add([u,[null,g]],y)}if(s.size>0)for(const u of s.getPresenceKeys()){const c=x(this,qi).getConsolidatedMultiplicity(u),d=s.getConsolidatedMultiplicity(u);if(d===0)continue;const p=c+d;if(c===0==(p===0))continue;const m=c===0;for(const[g,y]of x(this,Ii).getIterator(u))y!==0&&l.add([u,[null,g]],m?-y:+y)}}}qi=new WeakMap,Ii=new WeakMap,Dn=new WeakMap;function LT(n,t="inner"){return s=>{if(s.graph!==n.graph)throw new Error("Cannot join streams from different graphs");const r=new Zn(s.graph,new Hn),l=new BT(s.graph.getNextOperatorId(),s.connectReader(),n.connectReader(),r.writer,t);return s.graph.addOperator(l),r}}var Rs,Ki;class HT extends Kr{constructor(s,r,l,u=c=>c){super(s,r,l);ne(this,Rs);ne(this,Ki);ee(this,Rs,u),ee(this,Ki,new Map)}run(){var l;const s=new Map;for(const u of this.inputMessages())for(const[c,d]of u.getInner()){const p=Dt(x(this,Rs).call(this,c)),g=(((l=s.get(p))==null?void 0:l[0])??x(this,Ki).get(p)??0)+d;s.set(p,[g,c])}const r=[];for(const[u,[c,d]]of s.entries()){const p=x(this,Ki).get(u)??0;c===0?x(this,Ki).delete(u):x(this,Ki).set(u,c),p<=0&&c>0?r.push([[Dt(x(this,Rs).call(this,d)),d[1]],1]):p>0&&c<=0&&r.push([[Dt(x(this,Rs).call(this,d)),d[1]],-1])}r.length>0&&this.output.sendData(new vn(r))}}Rs=new WeakMap,Ki=new WeakMap;function ZT(n=t=>t){return t=>{const s=new Zn(t.graph,new Hn),r=new HT(t.graph.getNextOperatorId(),t.connectReader(),s.writer,n);return t.graph.addOperator(r),s}}const $T="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function _r(n,t,s){const r=s[0];if(t!=null&&n>=t)throw new Error(n+" >= "+t);if(n.slice(-1)===r||t&&t.slice(-1)===r)throw new Error("trailing zero");if(t){let c=0;for(;(n[c]||r)===t[c];)c++;if(c>0)return t.slice(0,c)+_r(n.slice(c),t.slice(c),s)}const l=n?s.indexOf(n[0]):0,u=t!=null?s.indexOf(t[0]):s.length;if(u-l>1){const c=Math.round(.5*(l+u));return s[c]}else return t&&t.length>1?t.slice(0,1):s[l]+_r(n.slice(1),null,s)}function F0(n){if(n.length!==P0(n[0]))throw new Error("invalid integer part of order key: "+n)}function P0(n){if(n>="a"&&n<="z")return n.charCodeAt(0)-97+2;if(n>="A"&&n<="Z")return 90-n.charCodeAt(0)+2;throw new Error("invalid order key head: "+n)}function Ka(n){const t=P0(n[0]);if(t>n.length)throw new Error("invalid order key: "+n);return n.slice(0,t)}function xv(n,t){if(n==="A"+t[0].repeat(26))throw new Error("invalid order key: "+n);const s=Ka(n);if(n.slice(s.length).slice(-1)===t[0])throw new Error("invalid order key: "+n)}function Tv(n,t){F0(n);const[s,...r]=n.split("");let l=!0;for(let u=r.length-1;l&&u>=0;u--){const c=t.indexOf(r[u])+1;c===t.length?r[u]=t[0]:(r[u]=t[c],l=!1)}if(l){if(s==="Z")return"a"+t[0];if(s==="z")return null;const u=String.fromCharCode(s.charCodeAt(0)+1);return u>"a"?r.push(t[0]):r.pop(),u+r.join("")}else return s+r.join("")}function qT(n,t){F0(n);const[s,...r]=n.split("");let l=!0;for(let u=r.length-1;l&&u>=0;u--){const c=t.indexOf(r[u])-1;c===-1?r[u]=t.slice(-1):(r[u]=t[c],l=!1)}if(l){if(s==="a")return"Z"+t.slice(-1);if(s==="A")return null;const u=String.fromCharCode(s.charCodeAt(0)-1);return u<"Z"?r.push(t.slice(-1)):r.pop(),u+r.join("")}else return s+r.join("")}function IT(n,t,s=$T){if(n!=null&&xv(n,s),t!=null&&xv(t,s),n!=null&&t!=null&&n>=t)throw new Error(n+" >= "+t);if(n==null){if(t==null)return"a"+s[0];const p=Ka(t),m=t.slice(p.length);if(p==="A"+s[0].repeat(26))return p+_r("",m,s);if(p<t)return p;const g=qT(p,s);if(g==null)throw new Error("cannot decrement any more");return g}if(t==null){const p=Ka(n),m=n.slice(p.length),g=Tv(p,s);return g??p+_r(m,null,s)}const r=Ka(n),l=n.slice(r.length),u=Ka(t),c=t.slice(u.length);if(r===u)return r+_r(l,c,s);const d=Tv(r,s);if(d==null)throw new Error("cannot increment any more");return d<t?d:r+_r(l,null,s)}function Ov(n,t){return[n,t]}function zv(n){return n[0]}function Rv(n){return n[1]}function KT(n){return([t,s],[r,l])=>{const u=n(s,l);return u!==0?u:xu(t,r)}}var rt,yl,bt,zt,gl,$h;class W0{constructor(t,s,r){ne(this,gl);ne(this,rt,[]);ne(this,yl);ne(this,bt);ne(this,zt);ee(this,bt,t),ee(this,zt,t+s),ee(this,yl,r)}get size(){const t=x(this,bt),s=x(this,zt)-x(this,bt),r=x(this,rt).length-t;return Math.max(0,Math.min(s,r))}move({offset:t,limit:s}){const r=x(this,bt),l=x(this,zt)-x(this,bt),u=[x(this,bt),x(this,zt)===1/0?x(this,bt)+this.size:x(this,zt)];ee(this,bt,t??r),ee(this,zt,x(this,bt)+(s??l));const c=[x(this,bt),x(this,zt)===1/0?Math.max(x(this,bt)+this.size,u[1]):x(this,zt)],{onlyInA:d,onlyInB:p}=Vx(u,c),m=[];p.forEach(y=>{const w=x(this,rt)[y];w&&m.push(w)});const g=[];return d.forEach(y=>{const w=x(this,rt)[y];w&&g.push(w)}),{moveIns:m,moveOuts:g,changes:d.length+p.length>0}}insert(t){const s={moveIn:null,moveOut:null},r=V(this,gl,$h).call(this,t),l=r===0?null:Rv(x(this,rt)[r-1]),u=r===x(this,rt).length?null:Rv(x(this,rt)[r]),c=IT(l,u),d=Ov(t,c);if(x(this,rt).splice(r,0,d),r<x(this,zt)){const p=Math.max(r,x(this,bt));p<x(this,rt).length&&(s.moveIn=x(this,rt)[p],x(this,zt)<x(this,rt).length&&(s.moveOut=x(this,rt)[x(this,zt)]))}return s}delete(t){const s={moveIn:null,moveOut:null},r=V(this,gl,$h).call(this,t),[l]=x(this,rt).splice(r,1);if(r<x(this,zt)){if(s.moveOut=l,r<x(this,bt)){const c=x(this,bt)-1;c<x(this,rt).length?s.moveOut=x(this,rt)[c]:s.moveOut=null}const u=x(this,zt)-1;u<x(this,rt).length&&(s.moveIn=x(this,rt)[u])}return s}}rt=new WeakMap,yl=new WeakMap,bt=new WeakMap,zt=new WeakMap,gl=new WeakSet,$h=function(t){return Ix(x(this,rt),Ov(t,""),(s,r)=>x(this,yl).call(this,zv(s),zv(r)))};var Vi,kn,Uu,eS;class VT{constructor(t){ne(this,Uu);ne(this,Vi,new Map);ne(this,kn);ee(this,kn,t)}get size(){return x(this,kn).size}get isEmpty(){return x(this,Vi).size===0&&x(this,kn).size===0}processElement(t,s,r){const{oldMultiplicity:l,newMultiplicity:u}=V(this,Uu,eS).call(this,t,r);return l<=0&&u>0?x(this,kn).insert([t,s]):l>0&&u<=0?x(this,kn).delete([t,s]):{moveIn:null,moveOut:null}}move(t){if(!(x(this,kn)instanceof W0))throw new Error("Cannot move B+-tree implementation of TopK with fractional index");return x(this,kn).move(t)}}Vi=new WeakMap,kn=new WeakMap,Uu=new WeakSet,eS=function(t,s){if(s===0){const u=x(this,Vi).get(t)??0;return{oldMultiplicity:u,newMultiplicity:u}}const r=x(this,Vi).get(t)??0,l=r+s;return l===0?x(this,Vi).delete(t):x(this,Vi).set(t,l),{oldMultiplicity:r,newMultiplicity:l}};function Cv(n,t){if(n){const[[s,r],l]=n;t.push([[s,[r,l]],1])}}function Av(n,t){if(n){const[[s,r],l]=n;t.push([[s,[r,l]],-1])}}var Cs;class GT extends Kr{constructor(s,r,l,u,c){var g,y;super(s,r,l);ne(this,Cs);const d=c.limit??1/0,p=c.offset??0,m=this.createTopK(p,d,KT(u));ee(this,Cs,new VT(m)),(g=c.setSizeCallback)==null||g.call(c,()=>x(this,Cs).size),(y=c.setWindowFn)==null||y.call(c,this.moveTopK.bind(this))}createTopK(s,r,l){return new W0(s,r,l)}moveTopK({offset:s,limit:r}){const l=[],u=x(this,Cs).move({offset:s,limit:r});u.moveIns.forEach(c=>Cv(c,l)),u.moveOuts.forEach(c=>Av(c,l)),u.changes&&this.output.sendData(new vn(l))}run(){const s=[];for(const r of this.inputMessages())for(const[l,u]of r.getInner()){const[c,d]=l;this.processElement(c,d,u,s)}s.length>0&&this.output.sendData(new vn(s))}processElement(s,r,l,u){const c=x(this,Cs).processElement(s,r,l);Cv(c.moveIn,u),Av(c.moveOut,u)}}Cs=new WeakMap;function YT(n,t){const s=t||{};return r=>{const l=new Zn(r.graph,new Hn),u=new GT(r.graph.getNextOperatorId(),r.connectReader(),l.writer,n,s);return r.graph.addOperator(u),l}}function JT(n,t,s){const r=(s==null?void 0:s.limit)??1/0,l=(s==null?void 0:s.offset)??0,u=s==null?void 0:s.setSizeCallback,c=s==null?void 0:s.setWindowFn,d=(s==null?void 0:s.comparator)??((p,m)=>p===m?0:p<m?-1:1);return p=>p.pipe(n((m,g)=>d(t(m),t(g)),{limit:r,offset:l,setSizeCallback:u,setWindowFn:c}),UT())}function QT(n,t){return JT(YT,n,t)}class XT{constructor(t,s,r){this._root=Oh,this._size=0,this._maxNodeSize=r>=4?Math.min(r,256):32,this._compare=t,s&&this.setPairs(s)}get size(){return this._size}get length(){return this._size}get isEmpty(){return this._size===0}clear(){this._root=Oh,this._size=0}get(t,s){return this._root.get(t,s,this)}set(t,s,r){this._root.isShared&&(this._root=this._root.clone());const l=this._root.set(t,s,r,this);return l===!0||l===!1?l:(this._root=new Od([this._root,l]),!0)}has(t){return this.forRange(t,t,!0,void 0)!==0}delete(t){return this.editRange(t,t,!0,PT)!==0}get maxNodeSize(){return this._maxNodeSize}minKey(){return this._root.minKey()}maxKey(){return this._root.maxKey()}keysArray(){const t=[];return this._root.forRange(this.minKey(),this.maxKey(),!0,!1,this,0,(s,r)=>{t.push(s)}),t}nextHigherPair(t,s){return s=s||[],t===void 0?this._root.minPair(s):this._root.getPairOrNextHigher(t,this._compare,!1,s)}nextHigherKey(t){const s=this.nextHigherPair(t,Mv);return s&&s[0]}nextLowerPair(t,s){return s=s||[],t===void 0?this._root.maxPair(s):this._root.getPairOrNextLower(t,this._compare,!1,s)}nextLowerKey(t){const s=this.nextLowerPair(t,Mv);return s&&s[0]}setPairs(t,s){let r=0;for(const l of t)this.set(l[0],l[1],s)&&r++;return r}forRange(t,s,r,l,u){const c=this._root.forRange(t,s,r,!1,this,u||0,l);return typeof c=="number"?c:c.break}editRange(t,s,r,l,u){let c=this._root;c.isShared&&(this._root=c=c.clone());try{const d=c.forRange(t,s,r,!0,this,u||0,l);return typeof d=="number"?d:d.break}finally{let d;for(;c.keys.length<=1&&!c.isLeaf;)d||(d=c.isShared),this._root=c=c.keys.length===0?Oh:c.children[0];d&&(c.isShared=!0)}}}class nl{get isLeaf(){return this.children===void 0}constructor(t=[],s){this.keys=t,this.values=s||Ot,this.isShared=void 0}maxKey(){return this.keys[this.keys.length-1]}indexOf(t,s,r){const l=this.keys;let u=0,c=l.length,d=c>>1;for(;u<c;){const p=r(l[d],t);if(p<0)u=d+1;else if(p>0)c=d;else{if(p===0)return d;if(t===t)return l.length;throw new Error("BTree: NaN was used as a key")}d=u+c>>1}return d^s}minKey(){return this.keys[0]}minPair(t){if(this.keys.length!==0)return t[0]=this.keys[0],t[1]=this.values[0],t}maxPair(t){if(this.keys.length===0)return;const s=this.keys.length-1;return t[0]=this.keys[s],t[1]=this.values[s],t}clone(){const t=this.values;return new nl(this.keys.slice(0),t===Ot?t:t.slice(0))}get(t,s,r){const l=this.indexOf(t,-1,r._compare);return l<0?s:this.values[l]}getPairOrNextLower(t,s,r,l){const u=this.indexOf(t,-1,s),c=u<0?~u-1:r?u:u-1;if(c>=0)return l[0]=this.keys[c],l[1]=this.values[c],l}getPairOrNextHigher(t,s,r,l){const u=this.indexOf(t,-1,s),c=u<0?~u:r?u:u+1,d=this.keys;if(c<d.length)return l[0]=d[c],l[1]=this.values[c],l}set(t,s,r,l){let u=this.indexOf(t,-1,l._compare);if(u<0){if(u=~u,l._size++,this.keys.length<l._maxNodeSize)return this.insertInLeaf(u,t,s,l);{const c=this.splitOffRightSide();let d=this;return u>this.keys.length&&(u-=this.keys.length,d=c),d.insertInLeaf(u,t,s,l),c}}else return r!==!1&&(s!==void 0&&this.reifyValues(),this.keys[u]=t,this.values[u]=s),!1}reifyValues(){return this.values===Ot?this.values=this.values.slice(0,this.keys.length):this.values}insertInLeaf(t,s,r,l){if(this.keys.splice(t,0,s),this.values===Ot){for(;Ot.length<l._maxNodeSize;)Ot.push(void 0);if(r===void 0)return!0;this.values=Ot.slice(0,this.keys.length-1)}return this.values.splice(t,0,r),!0}takeFromRight(t){let s=this.values;t.values===Ot?s!==Ot&&s.push(void 0):(s=this.reifyValues(),s.push(t.values.shift())),this.keys.push(t.keys.shift())}takeFromLeft(t){let s=this.values;t.values===Ot?s!==Ot&&s.unshift(void 0):(s=this.reifyValues(),s.unshift(t.values.pop())),this.keys.unshift(t.keys.pop())}splitOffRightSide(){const t=this.keys.length>>1,s=this.keys.splice(t),r=this.values===Ot?Ot:this.values.splice(t);return new nl(s,r)}forRange(t,s,r,l,u,c,d){const p=u._compare;let m,g;if(s===t){if(!r||(g=(m=this.indexOf(t,-1,p))+1,m<0))return c}else m=this.indexOf(t,0,p),g=this.indexOf(s,-1,p),g<0?g=~g:r===!0&&g++;const y=this.keys,w=this.values;if(d!==void 0)for(let S=m;S<g;S++){const b=y[S],E=d(b,w[S],c++);if(E!==void 0){if(l===!0){if(b!==y[S]||this.isShared===!0)throw new Error("BTree illegally changed or cloned in editRange");E.delete?(this.keys.splice(S,1),this.values!==Ot&&this.values.splice(S,1),u._size--,S--,g--):E.hasOwnProperty("value")&&(w[S]=E.value)}if(E.break!==void 0)return E}}else c+=g-m;return c}mergeSibling(t,s){if(this.keys.push.apply(this.keys,t.keys),this.values===Ot){if(t.values===Ot)return;this.values=this.values.slice(0,this.keys.length)}this.values.push.apply(this.values,t.reifyValues())}}class Od extends nl{constructor(t,s){if(!s){s=[];for(let r=0;r<t.length;r++)s[r]=t[r].maxKey()}super(s),this.children=t}minKey(){return this.children[0].minKey()}minPair(t){return this.children[0].minPair(t)}maxPair(t){return this.children[this.children.length-1].maxPair(t)}get(t,s,r){const l=this.indexOf(t,0,r._compare),u=this.children;return l<u.length?u[l].get(t,s,r):void 0}getPairOrNextLower(t,s,r,l){const u=this.indexOf(t,0,s),c=this.children;if(u>=c.length)return this.maxPair(l);const d=c[u].getPairOrNextLower(t,s,r,l);return d===void 0&&u>0?c[u-1].maxPair(l):d}getPairOrNextHigher(t,s,r,l){const u=this.indexOf(t,0,s),c=this.children,d=c.length;if(u>=d)return;const p=c[u].getPairOrNextHigher(t,s,r,l);return p===void 0&&u<d-1?c[u+1].minPair(l):p}set(t,s,r,l){const u=this.children,c=l._maxNodeSize,d=l._compare;let p=Math.min(this.indexOf(t,0,d),u.length-1),m=u[p];if(m.isShared&&(u[p]=m=m.clone()),m.keys.length>=c){let y;p>0&&(y=u[p-1]).keys.length<c&&d(m.keys[0],t)<0?(y.isShared&&(u[p-1]=y=y.clone()),y.takeFromRight(m),this.keys[p-1]=y.maxKey()):(y=u[p+1])!==void 0&&y.keys.length<c&&d(m.maxKey(),t)<0&&(y.isShared&&(u[p+1]=y=y.clone()),y.takeFromLeft(m),this.keys[p]=u[p].maxKey())}const g=m.set(t,s,r,l);if(g===!1)return!1;if(this.keys[p]=m.maxKey(),g===!0)return!0;if(this.keys.length<c)return this.insert(p+1,g),!0;{const y=this.splitOffRightSide();let w=this;return d(g.maxKey(),this.maxKey())>0&&(w=y,p-=this.keys.length),w.insert(p+1,g),y}}insert(t,s){this.children.splice(t,0,s),this.keys.splice(t,0,s.maxKey())}splitOffRightSide(){const t=this.children.length>>1;return new Od(this.children.splice(t),this.keys.splice(t))}takeFromRight(t){this.keys.push(t.keys.shift()),this.children.push(t.children.shift())}takeFromLeft(t){this.keys.unshift(t.keys.pop()),this.children.unshift(t.children.pop())}forRange(t,s,r,l,u,c,d){const p=u._compare,m=this.keys,g=this.children;let y=this.indexOf(t,0,p),w=y;const S=Math.min(s===t?y:this.indexOf(s,0,p),m.length-1);if(l){if(w<=S)try{for(;w<=S;w++){g[w].isShared&&(g[w]=g[w].clone());const b=g[w].forRange(t,s,r,l,u,c,d);if(m[w]=g[w].maxKey(),typeof b!="number")return b;c=b}}finally{const b=u._maxNodeSize>>1;for(y>0&&y--,w=S;w>=y;w--)g[w].keys.length<=b&&(g[w].keys.length!==0?this.tryMerge(w,u._maxNodeSize):(m.splice(w,1),g.splice(w,1)));g.length!==0&&g[0].keys.length===0&&WT(!1,"emptiness bug")}}else for(;w<=S;w++){const b=g[w].forRange(t,s,r,l,u,c,d);if(typeof b!="number")return b;c=b}return c}tryMerge(t,s){const r=this.children;return t>=0&&t+1<r.length&&r[t].keys.length+r[t+1].keys.length<=s?(r[t].isShared&&(r[t]=r[t].clone()),r[t].mergeSibling(r[t+1],s),r.splice(t+1,1),this.keys.splice(t+1,1),this.keys[t]=r[t].maxKey(),!0):!1}mergeSibling(t,s){const r=this.keys.length;this.keys.push.apply(this.keys,t.keys);const l=t.children;if(this.children.push.apply(this.children,l),t.isShared&&!this.isShared)for(const u of l)u.isShared=!0;this.tryMerge(r-1,s)}}const Ot=[],FT={delete:!0},PT=()=>FT,Oh=(function(){const n=new nl;return n.isShared=!0,n})(),Mv=[];function WT(n,...t){throw t.unshift("B+ tree"),new Error(t.join(" "))}function tS(){const n=new Map;function t(s){const r=s.join(".");if(n.has(r))return n.get(r);const l=new Proxy({},{get(u,c,d){if(c==="__refProxy")return!0;if(c==="__path")return s;if(c==="__type")return;if(typeof c=="symbol")return Reflect.get(u,c,d);const p=[...s,String(c)];return t(p)},has(u,c){return c==="__refProxy"||c==="__path"||c==="__type"?!0:Reflect.has(u,c)},ownKeys(u){return Reflect.ownKeys(u)},getOwnPropertyDescriptor(u,c){return c==="__refProxy"||c==="__path"||c==="__type"?{enumerable:!1,configurable:!0}:Reflect.getOwnPropertyDescriptor(u,c)}});return n.set(r,l),l}return t([])}function _s(n){const t=new Map;let s=0;function r(u){const c=u.join(".");if(t.has(c))return t.get(c);const d=new Proxy({},{get(p,m,g){if(m==="__refProxy")return!0;if(m==="__path")return u;if(m==="__type")return;if(typeof m=="symbol")return Reflect.get(p,m,g);const y=[...u,String(m)];return r(y)},has(p,m){return m==="__refProxy"||m==="__path"||m==="__type"?!0:Reflect.has(p,m)},ownKeys(p){const m=++s,g=`__SPREAD_SENTINEL__${u.join(".")}__${m}`;return Object.prototype.hasOwnProperty.call(p,g)||Object.defineProperty(p,g,{enumerable:!0,configurable:!0,value:!0}),Reflect.ownKeys(p)},getOwnPropertyDescriptor(p,m){return m==="__refProxy"||m==="__path"||m==="__type"?{enumerable:!1,configurable:!0}:Reflect.getOwnPropertyDescriptor(p,m)}});return t.set(c,d),d}return new Proxy({},{get(u,c,d){if(c==="__refProxy")return!0;if(c==="__path")return[];if(c==="__type")return;if(typeof c=="symbol")return Reflect.get(u,c,d);const p=String(c);if(n.includes(p))return r([p])},has(u,c){return c==="__refProxy"||c==="__path"||c==="__type"||typeof c=="string"&&n.includes(c)?!0:Reflect.has(u,c)},ownKeys(u){return[...n,"__refProxy","__path","__type"]},getOwnPropertyDescriptor(u,c){if(c==="__refProxy"||c==="__path"||c==="__type")return{enumerable:!1,configurable:!0};if(typeof c=="string"&&n.includes(c))return{enumerable:!0,configurable:!0}}})}function Dv(n){const t=_s(n),s=new Map;function r(u){const c=u.join(".");if(s.has(c))return s.get(c);const d=new Proxy({},{get(p,m,g){if(m==="__refProxy")return!0;if(m==="__path")return["$selected",...u];if(m==="__type")return;if(typeof m=="symbol")return Reflect.get(p,m,g);const y=[...u,String(m)];return r(y)},has(p,m){return m==="__refProxy"||m==="__path"||m==="__type"?!0:Reflect.has(p,m)},ownKeys(p){return Reflect.ownKeys(p)},getOwnPropertyDescriptor(p,m){return m==="__refProxy"||m==="__path"||m==="__type"?{enumerable:!1,configurable:!0}:Reflect.getOwnPropertyDescriptor(p,m)}});return s.set(c,d),d}const l=r([]);return new Proxy(t,{get(u,c,d){return c==="$selected"?l:Reflect.get(u,c,d)},has(u,c){return c==="$selected"?!0:Reflect.has(u,c)},ownKeys(u){return[...Reflect.ownKeys(u),"$selected"]},getOwnPropertyDescriptor(u,c){return c==="$selected"?{enumerable:!0,configurable:!0,value:l}:Reflect.getOwnPropertyDescriptor(u,c)}})}function ut(n){return eO(n)?new jt(n.__path):n&&typeof n=="object"&&"type"in n&&(n.type==="func"||n.type==="ref"||n.type==="val"||n.type==="agg")?n:new Kt(n)}function eO(n){return n&&typeof n=="object"&&n.__refProxy===!0}function Fi(n,t){return new Sn("eq",[ut(n),ut(t)])}function kv(n,t){return new Sn("gt",[ut(n),ut(t)])}function tO(n,t){return new Sn("gte",[ut(n),ut(t)])}function qh(n,t){return new Sn("lt",[ut(n),ut(t)])}function Ih(n,t,...s){const r=[n,t,...s];return new Sn("and",r.map(l=>ut(l)))}function nO(n,t,...s){const r=[n,t,...s];return new Sn("or",r.map(l=>ut(l)))}function iO(n,t){return new Sn("in",[ut(n),ut(t)])}class sO{constructor(t,s,r,l){this.lookupCount=0,this.totalLookupTime=0,this.lastUpdated=new Date,this.id=t,this.expression=s,this.compareOptions=Ed,this.name=r,this.initialize(l)}supports(t){return this.supportedOperations.has(t)}matchesField(t){return this.expression.type==="ref"&&this.expression.path.length===t.length&&this.expression.path.every((s,r)=>s===t[r])}matchesCompareOptions(t){const s={...this.compareOptions,direction:void 0},r={...t,direction:void 0};return Bn(s,r)}matchesDirection(t){return this.compareOptions.direction===t}getStats(){return{entryCount:this.keyCount,lookupCount:this.lookupCount,averageLookupTime:this.lookupCount>0?this.totalLookupTime/this.lookupCount:0,lastUpdated:this.lastUpdated}}evaluateIndexExpression(t){return wd(this.expression)(t)}trackLookup(t){const s=performance.now()-t;this.lookupCount++,this.totalLookupTime+=s}updateTimestamp(){this.lastUpdated=new Date}}class Kh extends sO{constructor(t,s,r,l){super(t,s,r,l),this.supportedOperations=new Set(["eq","gt","gte","lt","lte","in"]),this.valueMap=new Map,this.indexedKeys=new Set,this.compareFn=Lh,this.compareFn=(l==null?void 0:l.compareFn)??Lh,l!=null&&l.compareOptions&&(this.compareOptions=l.compareOptions),this.orderedEntries=new XT(this.compareFn)}initialize(t){}add(t,s){let r;try{r=this.evaluateIndexExpression(s)}catch(u){throw new Error(`Failed to evaluate index expression for key ${t}: ${u}`)}const l=ai(r);if(this.valueMap.has(l))this.valueMap.get(l).add(t);else{const u=new Set([t]);this.valueMap.set(l,u),this.orderedEntries.set(l,void 0)}this.indexedKeys.add(t),this.updateTimestamp()}remove(t,s){let r;try{r=this.evaluateIndexExpression(s)}catch(u){console.warn(`Failed to evaluate index expression for key ${t} during removal:`,u);return}const l=ai(r);if(this.valueMap.has(l)){const u=this.valueMap.get(l);u.delete(t),u.size===0&&(this.valueMap.delete(l),this.orderedEntries.delete(l))}this.indexedKeys.delete(t),this.updateTimestamp()}update(t,s,r){this.remove(t,s),this.add(t,r)}build(t){this.clear();for(const[s,r]of t)this.add(s,r)}clear(){this.orderedEntries.clear(),this.valueMap.clear(),this.indexedKeys.clear(),this.updateTimestamp()}lookup(t,s){const r=performance.now();let l;switch(t){case"eq":l=this.equalityLookup(s);break;case"gt":l=this.rangeQuery({from:s,fromInclusive:!1});break;case"gte":l=this.rangeQuery({from:s,fromInclusive:!0});break;case"lt":l=this.rangeQuery({to:s,toInclusive:!1});break;case"lte":l=this.rangeQuery({to:s,toInclusive:!0});break;case"in":l=this.inArrayLookup(s);break;default:throw new Error(`Operation ${t} not supported by BTreeIndex`)}return this.trackLookup(r),l}get keyCount(){return this.indexedKeys.size}equalityLookup(t){const s=ai(t);return new Set(this.valueMap.get(s)??[])}rangeQuery(t={}){const{from:s,to:r,fromInclusive:l=!0,toInclusive:u=!0}=t,c=new Set,d=ai(s),p=ai(r),m=d??this.orderedEntries.minKey(),g=p??this.orderedEntries.maxKey();return this.orderedEntries.forRange(m,g,u,(y,w)=>{if(!l&&this.compareFn(y,s)===0)return;const S=this.valueMap.get(y);S&&S.forEach(b=>c.add(b))}),c}rangeQueryReversed(t={}){const{from:s,to:r,fromInclusive:l=!0,toInclusive:u=!0}=t;return this.rangeQuery({from:r??this.orderedEntries.maxKey(),to:s??this.orderedEntries.minKey(),fromInclusive:u,toInclusive:l})}takeInternal(t,s,r,l,u=!1){const c=new Set,d=[];let p,m=ai(r);for(;(p=s(m))!==void 0&&d.length<t;){m=p[0];const g=this.valueMap.get(m);if(g&&g.size>0){const y=Array.from(g).sort(xu);u&&y.reverse();for(const w of y){if(d.length>=t)break;!c.has(w)&&((l==null?void 0:l(w))??!0)&&(d.push(w),c.add(w))}}}return d}take(t,s,r){const l=u=>this.orderedEntries.nextHigherPair(u);return this.takeInternal(t,l,s,r)}takeReversed(t,s,r){const l=u=>this.orderedEntries.nextLowerPair(u);return this.takeInternal(t,l,s,r,!0)}inArrayLookup(t){const s=new Set;for(const r of t){const l=ai(r),u=this.valueMap.get(l);u&&u.forEach(c=>s.add(c))}return s}get indexedKeysSet(){return this.indexedKeys}get orderedEntriesArray(){return this.orderedEntries.keysArray().map(t=>[t,this.valueMap.get(t)??new Set])}get orderedEntriesArrayReversed(){return this.takeReversed(this.orderedEntries.size).map(t=>[t,this.valueMap.get(t)??new Set])}get valueMapData(){return this.valueMap}}function nS(n){return n.config.autoIndex==="eager"}function $u(n,t,s,r,l){if(!nS(s))return;const u=r??{...Ed,...s.compareOptions};if(!Array.from(s.indexes.values()).find(d=>d.matchesField(t)&&d.matchesCompareOptions(u)))try{s.createIndex(d=>{let p=d;for(const m of t)p=p[m];return p},{name:`auto:${t.join(".")}`,indexType:Kh,options:l?{compareFn:l,compareOptions:u}:{}})}catch(d){console.warn(`${s.id?`[${s.id}] `:""}Failed to create auto-index for field path "${t.join(".")}":`,d)}}function rO(n,t){if(!nS(t))return;const s=aO(n);for(const{fieldName:r,fieldPath:l}of s)$u(r,l,t)}function aO(n){const t=[];function s(r){if(r.type!=="func")return;const l=r;if(l.name==="and"){for(const m of l.args)s(m);return}if(!["eq","gt","gte","lt","lte","in"].includes(l.name)||l.args.length<1||l.args[0].type!=="ref")return;const d=l.args[0].path;if(d.length===0)return;const p=d.join("_");t.push({fieldName:p,fieldPath:d})}return s(n),t}const{sum:lO,count:oO,avg:uO,min:cO,max:fO}=CT;function hO(n,t){const s=new Map,r=[...n];if(!t)return{selectToGroupByIndex:s,groupByExpressions:r};for(const[l,u]of Object.entries(t)){if(u.type==="agg")continue;const c=r.findIndex(d=>Tu(u,d));if(c===-1)throw new mx(l);s.set(l,c)}return{selectToGroupByIndex:s,groupByExpressions:r}}function Nv(n,t,s,r,l){if(t.length===0){const m={};if(r){for(const[y,w]of Object.entries(r))if(w.type==="agg"){const S=w;m[y]=jv(S)}}const g=()=>({__singleGroup:!0});if(n=n.pipe(Ev(g,m)),n=n.pipe(kt(([,y])=>{const S={...y.$selected||{}};if(r)for(const[b,E]of Object.entries(r))E.type==="agg"&&(S[b]=y[b]);return["single_group",{...y,$selected:S}]})),s&&s.length>0)for(const y of s){const w=uv(y),S=Ou(w,r||{},"$selected"),b=Vt(S);n=n.pipe(Xi(([,E])=>{const O={$selected:E.$selected};return Tr(b(O))}))}if(l&&l.length>0)for(const y of l)n=n.pipe(Xi(([,w])=>{const S={$selected:w.$selected};return Tr(y(S))}));return n}const u=hO(t,r),c=t.map(m=>Vt(m)),d=([,m])=>{const g={...m};delete g.$selected;const y={};for(let w=0;w<t.length;w++){const S=c[w],b=S(g);y[`__key_${w}`]=b}return y},p={};if(r){for(const[m,g]of Object.entries(r))if(g.type==="agg"){const y=g;p[m]=jv(y)}}if(n=n.pipe(Ev(d,p)),n=n.pipe(kt(([,m])=>{const g=m.$selected||{},y={};if(r)for(const[S,b]of Object.entries(r))if(b.type!=="agg"){const E=u.selectToGroupByIndex.get(S);E!==void 0?y[S]=m[`__key_${E}`]:y[S]=g[S]}else y[S]=m[S];else for(let S=0;S<t.length;S++)y[`__key_${S}`]=m[`__key_${S}`];let w;if(t.length===1)w=m.__key_0;else{const S=[];for(let b=0;b<t.length;b++)S.push(m[`__key_${b}`]);w=V0(S)}return[w,{...m,$selected:y}]})),s&&s.length>0)for(const m of s){const g=uv(m),y=Ou(g,r||{}),w=Vt(y);n=n.pipe(Xi(([,S])=>{const b={$selected:S.$selected};return w(b)}))}if(l&&l.length>0)for(const m of l)n=n.pipe(Xi(([,g])=>{const y={$selected:g.$selected};return Tr(m(y))}));return n}function Tu(n,t){var s,r,l,u;if(!n||!t||n.type!==t.type)return!1;switch(n.type){case"ref":return!n.path||!t.path||n.path.length!==t.path.length?!1:n.path.every((c,d)=>c===t.path[d]);case"val":return n.value===t.value;case"func":return n.name===t.name&&((s=n.args)==null?void 0:s.length)===((r=t.args)==null?void 0:r.length)&&(n.args||[]).every((c,d)=>Tu(c,t.args[d]));case"agg":return n.name===t.name&&((l=n.args)==null?void 0:l.length)===((u=t.args)==null?void 0:u.length)&&(n.args||[]).every((c,d)=>Tu(c,t.args[d]));default:return!1}}function jv(n){const t=Vt(n.args[0]),s=([,u])=>{const c=t(u);return typeof c=="number"?c:c!=null?Number(c):0},r=([,u])=>{const c=t(u);return typeof c=="number"||c instanceof Date?c:c!=null?Number(c):0},l=([,u])=>t(u);switch(n.name.toLowerCase()){case"sum":return lO(s);case"count":return oO(l);case"avg":return uO(s);case"min":return cO(r);case"max":return fO(r);default:throw new yx(n.name)}}function Ou(n,t,s="$selected"){switch(n.type){case"agg":{const r=n;for(const[l,u]of Object.entries(t))if(u.type==="agg"&&dO(r,u))return new jt([s,l]);throw new gx(r.name)}case"func":{const r=n,l=r.args.map(u=>Ou(u,t));return new Sn(r.name,l)}case"ref":{const l=n.path;if(l.length===0)return n;if(l.length>0&&l[0]==="$selected"){const u=l.slice(1);return u.length===0||u.join(".")in t,n}return n}case"val":return n;default:throw new vx(n.type)}}function dO(n,t){return n.name===t.name&&n.args.length===t.args.length&&n.args.every((s,r)=>Tu(s,t.args[r]))}function pO(n,t,s,r,l,u,c,d,p){const m=s.map(b=>{const E=Ou(b.expression,r,"$selected");return{compiledExpression:Vt(E),compareOptions:Vh(b,l)}}),g=b=>{const E=b;return s.length>1?m.map(O=>O.compiledExpression(E)):s.length===1?m[0].compiledExpression(E):null},y=(b,E)=>{if(s.length>1){const O=b,M=E;for(let L=0;L<s.length;L++){const N=m[L],F=Eu(N.compareOptions)(O[L],M[L]);if(F!==0)return F}return O.length-M.length}if(s.length===1){const O=m[0];return Eu(O.compareOptions)(b,E)}return Lh(b,E)};let w,S;if(d){let b,E,O,M=n.from.alias;const L=s[0],N=L.expression;if(N.type==="ref"){const K=el(n,N,l);if(K){E=K.collection;const F=K.path[0],P=Vh(L,E);F&&$u(F,K.path,E,P,y),O=Vt(new jt(K.path),!0),b=Ml(E,K.path,P),b!=null&&b.supports("gt")||(b=void 0),M=N.path.length>1?String(N.path[0]):n.from.alias}}if(O){const F=s.every(W=>W.expression.type==="ref")?s.map(W=>{const le=W.expression,ie=el(n,le,l);return Vt(ie?new jt(ie.path):W.expression,!0)}):void 0;S={alias:M,offset:p??0,limit:d,comparator:(W,le)=>{if(s.length===1){const ie=W&&O(W),he=le&&O(le);return y(ie,he)}if(F){const ie=he=>he&&F.map(ve=>ve(he));return y(ie(W),ie(le))}return 0},valueExtractorForRawRow:W=>{if(s.length===1)return O(W);if(F)return F.map(le=>le(W))},firstColumnValueExtractor:O,index:b,orderBy:s};const te=(E==null?void 0:E.id)??l.id;u[te]=S,b&&(w=W=>{u[te].dataNeeded=()=>{const le=W();return Math.max(0,S.limit-le)}})}}return t.pipe(QT(g,{limit:d,offset:p,comparator:y,setSizeCallback:w,setWindowFn:b=>{c(E=>{b(E),S&&(S.offset=E.offset??S.offset,S.limit=E.limit??S.limit)})}}))}function Vh(n,t){return n.compareOptions.stringSort!==void 0?n.compareOptions:{...t.compareOptions,direction:n.compareOptions.direction,nulls:n.compareOptions.nulls}}function mO(n,t={}){const s=r=>{const l=[];for(const[u,c]of n.entries())((r==null?void 0:r(c))??!0)&&l.push({type:"insert",key:u,value:c});return l};if(t.limit!==void 0&&!t.orderBy)throw new Error("limit cannot be used without orderBy");if(t.orderBy){const r=t.where?Xa(t.where):void 0,l=gO(n,t.orderBy,t.limit,r,t.optimizedOnly);if(l===void 0)return;const u=[];for(const c of l){const d=n.get(c);d!==void 0&&u.push({type:"insert",key:c,value:d})}return u}if(!t.where)return s();try{const r=t.where,l=Ux(r,n);if(l.canOptimize){const u=[];for(const c of l.matchingKeys){const d=n.get(c);d!==void 0&&u.push({type:"insert",key:c,value:d})}return u}else{if(t.optimizedOnly)return;const u=Xa(r);return s(u)}}catch(r){console.warn(`${n.id?`[${n.id}] `:""}Error processing where clause, falling back to full scan:`,r);const l=Xa(t.where);return t.optimizedOnly?void 0:s(l)}}function Xa(n){const t=wd(n);return s=>{try{const r=t(s);return Tr(r)}catch{return!1}}}function yO(n,t){const s=Xa(t.whereExpression);return r=>{const l=[];for(const u of r)if(u.type==="insert")s(u.value)&&l.push(u);else if(u.type==="update"){const c=s(u.value),d=u.previousValue?s(u.previousValue):!1;c&&d?l.push(u):c&&!d?l.push({...u,type:"insert"}):!c&&d&&l.push({...u,type:"delete",value:u.previousValue})}else s(u.value)&&l.push(u);(l.length>0||r.length===0)&&n(l)}}function gO(n,t,s,r,l){if(t.length===1){const p=t[0],m=p.expression;if(m.type==="ref"){const y=m.path,w=Vh(p,n);$u(y[0],y,n,w);const S=Ml(n,y,w);if(S&&S.supports("gt")){const b=E=>{const O=n.get(E);return O===void 0?!1:(r==null?void 0:r(O))??!0};return S.take(s??S.keyCount,void 0,b)}}}if(l)return;const u=[];for(const[p,m]of n.entries())((r==null?void 0:r(m))??!0)&&u.push({key:p,value:m});const c=(p,m)=>{for(const g of t){const y=Eu(g.compareOptions),w=Uv(p.value,g.expression),S=Uv(m.value,g.expression),b=y(w,S);if(b!==0)return b}return 0};u.sort(c);const d=u.map(p=>p.key);return s!==void 0?d.slice(0,s):d}function Uv(n,t){if(t.type==="ref"){const s=t;let r=n;for(const l of s.path)r=r==null?void 0:r[l];return r}else return t.type==="val"?t.value:wd(t)(n)}class Bv{constructor(t){this.map=new Map,this.sortedKeys=[],this.comparator=t}indexOf(t,s){let r=0,l=this.sortedKeys.length;if(!this.comparator){for(;r<l;){const u=Math.floor((r+l)/2),c=this.sortedKeys[u],d=xu(t,c);if(d<0)l=u;else if(d>0)r=u+1;else return u}return r}for(;r<l;){const u=Math.floor((r+l)/2),c=this.sortedKeys[u],d=this.map.get(c),p=this.comparator(s,d);if(p<0)l=u;else if(p>0)r=u+1;else{const m=xu(t,c);if(m<0)l=u;else if(m>0)r=u+1;else return u}}return r}set(t,s){if(this.map.has(t)){const l=this.map.get(t),u=this.indexOf(t,l);this.sortedKeys.splice(u,1)}const r=this.indexOf(t,s);return this.sortedKeys.splice(r,0,t),this.map.set(t,s),this}get(t){return this.map.get(t)}delete(t){if(this.map.has(t)){const s=this.map.get(t),r=this.indexOf(t,s);return this.sortedKeys.splice(r,1),this.map.delete(t)}return!1}has(t){return this.map.has(t)}clear(){this.map.clear(),this.sortedKeys=[]}get size(){return this.map.size}*[Symbol.iterator](){for(const t of this.sortedKeys)yield[t,this.map.get(t)]}entries(){return this[Symbol.iterator]()}keys(){return this.sortedKeys[Symbol.iterator]()}values(){return(function*(){for(const t of this.sortedKeys)yield this.map.get(t)}).call(this)}forEach(t){for(const s of this.sortedKeys)t(this.map.get(s),s,this.map)}}class vO{constructor(t){this.pendingSyncedTransactions=[],this.syncedMetadata=new Map,this.optimisticUpserts=new Map,this.optimisticDeletes=new Set,this.size=0,this.syncedKeys=new Set,this.preSyncVisibleState=new Map,this.recentlySyncedKeys=new Set,this.hasReceivedFirstCommit=!1,this.isCommittingSyncTransactions=!1,this.commitPendingTransactions=()=>{var c;let s=!1;for(const d of this.transactions.values())if(d.state==="persisting"){s=!0;break}const{committedSyncedTransactions:r,uncommittedSyncedTransactions:l,hasTruncateSync:u}=this.pendingSyncedTransactions.reduce((d,p)=>(p.committed?(d.committedSyncedTransactions.push(p),p.truncate===!0&&(d.hasTruncateSync=!0)):d.uncommittedSyncedTransactions.push(p),d),{committedSyncedTransactions:[],uncommittedSyncedTransactions:[],hasTruncateSync:!1});if(!s||u){this.isCommittingSyncTransactions=!0;const d=u?(c=r.find(S=>S.truncate))==null?void 0:c.optimisticSnapshot:null,p=new Set;for(const S of r)for(const b of S.operations)p.add(b.key);let m=this.preSyncVisibleState;if(m.size===0){m=new Map;for(const S of p){const b=this.get(S);b!==void 0&&m.set(S,b)}}const g=[],y=this.config.sync.rowUpdateMode||"partial";for(const S of r){if(S.truncate){const b=new Set([...this.syncedData.keys(),...(d==null?void 0:d.upserts.keys())||[]]);for(const E of b){if(d!=null&&d.deletes.has(E))continue;const O=(d==null?void 0:d.upserts.get(E))||this.syncedData.get(E);O!==void 0&&g.push({type:"delete",key:E,value:O})}this.syncedData.clear(),this.syncedMetadata.clear(),this.syncedKeys.clear();for(const E of p)m.delete(E);this._events.emit("truncate",{type:"truncate",collection:this.collection})}for(const b of S.operations){const E=b.key;switch(this.syncedKeys.add(E),b.type){case"insert":this.syncedMetadata.set(E,b.metadata);break;case"update":this.syncedMetadata.set(E,Object.assign({},this.syncedMetadata.get(E),b.metadata));break;case"delete":this.syncedMetadata.delete(E);break}switch(b.type){case"insert":this.syncedData.set(E,b.value);break;case"update":{if(y==="partial"){const O=Object.assign({},this.syncedData.get(E),b.value);this.syncedData.set(E,O)}else this.syncedData.set(E,b.value);break}case"delete":this.syncedData.delete(E);break}}}if(u){const S=new Set;for(const O of r)for(const M of O.operations)(M.type==="insert"||M.type==="update")&&S.add(M.key);const b=new Map(d.upserts),E=new Set(d.deletes);for(const[O,M]of b)if(!E.has(O))if(S.has(O)){let L=!1;for(let N=g.length-1;N>=0;N--){const K=g[N];if(K.key===O&&K.type==="insert"){K.value=M,L=!0;break}}L||g.push({type:"insert",key:O,value:M})}else g.push({type:"insert",key:O,value:M});if(g.length>0&&E.size>0){const O=[];for(const M of g)M.type==="insert"&&E.has(M.key)||O.push(M);g.length=0,g.push(...O)}this.lifecycle.status!=="ready"&&this.lifecycle.markReady()}if(this.optimisticUpserts.clear(),this.optimisticDeletes.clear(),this.isCommittingSyncTransactions=!1,u&&d){for(const[S,b]of d.upserts)this.optimisticUpserts.set(S,b);for(const S of d.deletes)this.optimisticDeletes.add(S)}for(const S of this.transactions.values())if(!["completed","failed"].includes(S.state)){for(const b of S.mutations)if(this.isThisCollection(b.collection)&&b.optimistic)switch(b.type){case"insert":case"update":this.optimisticUpserts.set(b.key,b.modified),this.optimisticDeletes.delete(b.key);break;case"delete":this.optimisticUpserts.delete(b.key),this.optimisticDeletes.add(b.key);break}}const w=new Map;for(const S of this.transactions.values())if(S.state==="completed")for(const b of S.mutations)b.optimistic&&this.isThisCollection(b.collection)&&p.has(b.key)&&w.set(b.key,{type:b.type,value:b.modified});for(const S of p){const b=m.get(S),E=this.get(S),O=w.get(S);let M=!1;O&&(O.type==="delete"&&b!==void 0&&E===void 0&&Bn(O.value,b)||E!==void 0&&Bn(O.value,E))&&(M=!0),M||(b===void 0&&E!==void 0?g.push({type:"insert",key:S,value:E}):b!==void 0&&E===void 0?g.push({type:"delete",key:S,value:b}):b!==void 0&&E!==void 0&&!Bn(b,E)&&g.push({type:"update",key:S,value:E,previousValue:b}))}this.size=this.calculateSize(),g.length>0&&this.indexes.updateIndexes(g),this.changes.emitEvents(g,!0),this.pendingSyncedTransactions=l,this.preSyncVisibleState.clear(),Promise.resolve().then(()=>{this.recentlySyncedKeys.clear()}),this.hasReceivedFirstCommit||(this.hasReceivedFirstCommit=!0)}},this.config=t,this.transactions=new Bv((s,r)=>s.compareCreatedAt(r)),this.syncedData=new Bv(t.compare)}setDeps(t){this.collection=t.collection,this.lifecycle=t.lifecycle,this.changes=t.changes,this.indexes=t.indexes,this._events=t.events}get(t){const{optimisticDeletes:s,optimisticUpserts:r,syncedData:l}=this;if(!s.has(t))return r.has(t)?r.get(t):l.get(t)}has(t){const{optimisticDeletes:s,optimisticUpserts:r,syncedData:l}=this;return s.has(t)?!1:r.has(t)?!0:l.has(t)}*keys(){const{syncedData:t,optimisticDeletes:s,optimisticUpserts:r}=this;for(const l of t.keys())s.has(l)||(yield l);for(const l of r.keys())!t.has(l)&&!s.has(l)&&(yield l)}*values(){for(const t of this.keys()){const s=this.get(t);s!==void 0&&(yield s)}}*entries(){for(const t of this.keys()){const s=this.get(t);s!==void 0&&(yield[t,s])}}*[Symbol.iterator](){for(const[t,s]of this.entries())yield[t,s]}forEach(t){let s=0;for(const[r,l]of this.entries())t(l,r,s++)}map(t){const s=[];let r=0;for(const[l,u]of this.entries())s.push(t(u,l,r++));return s}isThisCollection(t){return t===this.collection}recomputeOptimisticState(t=!1){if(this.isCommittingSyncTransactions&&!t)return;const s=new Map(this.optimisticUpserts),r=new Set(this.optimisticDeletes);this.optimisticUpserts.clear(),this.optimisticDeletes.clear();const l=[];for(const d of this.transactions.values())["completed","failed"].includes(d.state)||l.push(d);for(const d of l)for(const p of d.mutations)if(this.isThisCollection(p.collection)&&p.optimistic)switch(p.type){case"insert":case"update":this.optimisticUpserts.set(p.key,p.modified),this.optimisticDeletes.delete(p.key);break;case"delete":this.optimisticUpserts.delete(p.key),this.optimisticDeletes.add(p.key);break}this.size=this.calculateSize();const u=[];this.collectOptimisticChanges(s,r,u);const c=u.filter(d=>!!(!this.recentlySyncedKeys.has(d.key)||t));if(this.pendingSyncedTransactions.length>0&&!t){const d=new Set;for(const m of this.pendingSyncedTransactions)for(const g of m.operations)d.add(g.key);const p=c.filter(m=>!(m.type==="delete"&&d.has(m.key)&&!l.some(y=>y.mutations.some(w=>this.isThisCollection(w.collection)&&w.key===m.key))));p.length>0&&this.indexes.updateIndexes(p),this.changes.emitEvents(p,t)}else c.length>0&&this.indexes.updateIndexes(c),this.changes.emitEvents(c,t)}calculateSize(){const t=this.syncedData.size,s=Array.from(this.optimisticDeletes).filter(l=>this.syncedData.has(l)&&!this.optimisticUpserts.has(l)).length,r=Array.from(this.optimisticUpserts.keys()).filter(l=>!this.syncedData.has(l)).length;return t-s+r}collectOptimisticChanges(t,s,r){const l=new Set([...t.keys(),...this.optimisticUpserts.keys(),...s,...this.optimisticDeletes]);for(const u of l){const c=this.get(u),d=this.getPreviousValue(u,t,s);d!==void 0&&c===void 0?r.push({type:"delete",key:u,value:d}):d===void 0&&c!==void 0?r.push({type:"insert",key:u,value:c}):d!==void 0&&c!==void 0&&d!==c&&r.push({type:"update",key:u,value:c,previousValue:d})}}getPreviousValue(t,s,r){if(!r.has(t))return s.has(t)?s.get(t):this.syncedData.get(t)}scheduleTransactionCleanup(t){if(t.state==="completed"){this.transactions.delete(t.id);return}t.isPersisted.promise.then(()=>{this.transactions.delete(t.id)}).catch(()=>{})}capturePreSyncVisibleState(){if(this.pendingSyncedTransactions.length===0)return;const t=new Set;for(const s of this.pendingSyncedTransactions)for(const r of s.operations)t.add(r.key);for(const s of t)this.recentlySyncedKeys.add(s);for(const s of t)if(!this.preSyncVisibleState.has(s)){const r=this.get(s);r!==void 0&&this.preSyncVisibleState.set(s,r)}}onTransactionStateChange(){this.changes.shouldBatchEvents=this.pendingSyncedTransactions.length>0,this.capturePreSyncVisibleState(),this.recomputeOptimisticState(!1)}cleanup(){this.syncedData.clear(),this.syncedMetadata.clear(),this.optimisticUpserts.clear(),this.optimisticDeletes.clear(),this.size=0,this.pendingSyncedTransactions=[],this.syncedKeys.clear(),this.hasReceivedFirstCommit=!1}}class iS{constructor(){this.listeners=new Map}on(t,s){return this.listeners.has(t)||this.listeners.set(t,new Set),this.listeners.get(t).add(s),()=>{var r;(r=this.listeners.get(t))==null||r.delete(s)}}once(t,s){const r=this.on(t,l=>{s(l),r()});return r}off(t,s){var r;(r=this.listeners.get(t))==null||r.delete(s)}waitFor(t,s){return new Promise((r,l)=>{let u;const c=this.on(t,d=>{u&&(clearTimeout(u),u=void 0),r(d),c()});s&&(u=setTimeout(()=>{u=void 0,c(),l(new Error(`Timeout waiting for event ${String(t)}`))},s))})}emitInner(t,s){var r;(r=this.listeners.get(t))==null||r.forEach(l=>{try{l(s)}catch(u){queueMicrotask(()=>{throw u})}})}clearListeners(){this.listeners.clear()}}function SO(n,t){if(t.length===0||n.length===0)return;if(n.length===1){const{expression:r,compareOptions:l}=n[0];return(l.direction==="asc"?kv:qh)(r,new Kt(t[0]))}const s=[];for(let r=0;r<n.length&&r<t.length;r++){const l=n[r],u=t[r],c=[];for(let m=0;m<r;m++){const g=n[m],y=t[m];c.push(Fi(g.expression,new Kt(y)))}const p=(l.compareOptions.direction==="asc"?kv:qh)(l.expression,new Kt(u));if(c.length===0)s.push(p);else{const m=[...c,p];s.push(m.reduce((g,y)=>Ih(g,y)))}}return s.length===1?s[0]:s.reduce((r,l)=>nO(r,l))}class bO extends iS{constructor(t,s,r){super(),this.collection=t,this.callback=s,this.options=r,this.loadedInitialState=!1,this.skipFiltering=!1,this.snapshotSent=!1,this.loadedSubsets=[],this.sentKeys=new Set,this.limitedSnapshotRowCount=0,this._status="ready",this.pendingLoadSubsetPromises=new Set,this.isBufferingForTruncate=!1,this.truncateBuffer=[],this.pendingTruncateRefetches=new Set,r.onUnsubscribe&&this.on("unsubscribed",u=>r.onUnsubscribe(u)),r.whereExpression&&rO(r.whereExpression,this.collection);const l=u=>{s(u),this.trackSentKeys(u)};this.callback=l,this.filteredCallback=r.whereExpression?yO(this.callback,r):this.callback,this.truncateCleanup=this.collection.on("truncate",()=>{this.handleTruncate()})}get status(){return this._status}handleTruncate(){const t=[...this.loadedSubsets],s=this.collection._sync.syncLoadSubsetFn!==null;if(t.length===0||!s){this.snapshotSent=!1,this.loadedInitialState=!1,this.limitedSnapshotRowCount=0,this.lastSentKey=void 0,this.loadedSubsets=[];return}this.isBufferingForTruncate=!0,this.truncateBuffer=[],this.pendingTruncateRefetches.clear(),this.snapshotSent=!1,this.loadedInitialState=!1,this.limitedSnapshotRowCount=0,this.lastSentKey=void 0,this.loadedSubsets=[],queueMicrotask(()=>{if(this.isBufferingForTruncate){for(const r of t){const l=this.collection._sync.loadSubset(r);this.loadedSubsets.push(r),this.trackLoadSubsetPromise(l),l instanceof Promise&&(this.pendingTruncateRefetches.add(l),l.catch(()=>{}).finally(()=>{this.pendingTruncateRefetches.delete(l),this.checkTruncateRefetchComplete()}))}this.pendingTruncateRefetches.size===0&&this.flushTruncateBuffer()}})}checkTruncateRefetchComplete(){this.pendingTruncateRefetches.size===0&&this.isBufferingForTruncate&&this.flushTruncateBuffer()}flushTruncateBuffer(){this.isBufferingForTruncate=!1;const t=this.truncateBuffer.flat();t.length>0&&this.filteredCallback(t),this.truncateBuffer=[]}setOrderByIndex(t){this.orderByIndex=t}setStatus(t){if(this._status===t)return;const s=this._status;this._status=t,this.emitInner("status:change",{type:"status:change",subscription:this,previousStatus:s,status:t});const r=`status:${t}`;this.emitInner(r,{type:r,subscription:this,previousStatus:s,status:t})}trackLoadSubsetPromise(t){t instanceof Promise&&(this.pendingLoadSubsetPromises.add(t),this.setStatus("loadingSubset"),t.finally(()=>{this.pendingLoadSubsetPromises.delete(t),this.pendingLoadSubsetPromises.size===0&&this.setStatus("ready")}))}hasLoadedInitialState(){return this.loadedInitialState}hasSentAtLeastOneSnapshot(){return this.snapshotSent}emitEvents(t){const s=this.filterAndFlipChanges(t);this.isBufferingForTruncate?s.length>0&&this.truncateBuffer.push(s):this.filteredCallback(s)}requestSnapshot(t){if(this.loadedInitialState)return!1;const s={where:this.options.whereExpression,optimizedOnly:(t==null?void 0:t.optimizedOnly)??!1};if(t){if("where"in t){const p=t.where;if(s.where){const m=s.where,g=Ih(m,p);s.where=g}else s.where=p}}else this.loadedInitialState=!0;const r={where:s.where,subscription:this,orderBy:t==null?void 0:t.orderBy,limit:t==null?void 0:t.limit},l=this.collection._sync.loadSubset(r);this.loadedSubsets.push(r),((t==null?void 0:t.trackLoadSubsetPromise)??!0)&&this.trackLoadSubsetPromise(l);const c=this.collection.currentStateAsChanges(s);if(c===void 0)return!1;const d=c.filter(p=>!this.sentKeys.has(p.key));for(const p of d)this.sentKeys.add(p.key);return this.snapshotSent=!0,this.callback(d),!0}requestLimitedSnapshot({orderBy:t,limit:s,minValues:r,offset:l}){if(!s)throw new Error("limit is required");if(!this.orderByIndex)throw new Error("Ordered snapshot was requested but no index was found. You have to call setOrderByIndex before requesting an ordered snapshot.");const c=r==null?void 0:r[0],d=this.orderByIndex,p=this.options.whereExpression,m=p?Xa(p):void 0,g=P=>{if(this.sentKeys.has(P))return!1;const J=this.collection.get(P);return J===void 0?!1:(m==null?void 0:m(J))??!0};let y=c;const w=[];let S=[];if(c!==void 0){const{expression:P}=t[0],J=this.collection.currentStateAsChanges({where:Fi(P,new Kt(c))});if(J){const te=J.map(le=>le.key).filter(le=>!this.sentKeys.has(le)&&g(le));S.push(...te);const W=d.take(s-S.length,c,g);S.push(...W)}else S=d.take(s,c,g)}else S=d.take(s,c,g);const b=()=>Math.max(s-w.length,0),E=()=>S.length===0,O=t[0].expression,M=O.type==="ref"?Vt(new jt(O.path),!0):null;for(;b()>0&&!E();){const P=new Set;for(const J of S){const te=this.collection.get(J);w.push({type:"insert",key:J,value:te}),y=M?M(te):te,P.add(J)}S=d.take(b(),y,g)}const L=this.limitedSnapshotRowCount;for(const P of w)this.sentKeys.add(P.key);this.callback(w),this.limitedSnapshotRowCount+=w.length,w.length>0&&(this.lastSentKey=w[w.length-1].key);let N;if(r!==void 0&&r.length>0){const P=SO(t,r);if(P){const{expression:J}=t[0],te=r[0];let W;if(te instanceof Date){const le=new Date(te.getTime()+1);W=Ih(tO(J,new Kt(te)),qh(J,new Kt(le)))}else W=Fi(J,new Kt(te));N={whereFrom:P,whereCurrent:W,lastKey:this.lastSentKey}}}const K={where:p,limit:s,orderBy:t,cursor:N,offset:l??L,subscription:this},F=this.collection._sync.loadSubset(K);this.loadedSubsets.push(K),this.trackLoadSubsetPromise(F)}filterAndFlipChanges(t){if(this.loadedInitialState||this.skipFiltering)return t;const s=this.isBufferingForTruncate,r=[];for(const l of t){let u=l;if(this.sentKeys.has(l.key)){if(l.type==="insert")continue;l.type==="delete"&&this.sentKeys.delete(l.key)}else{if(l.type==="update")u={...l,type:"insert",previousValue:void 0};else if(l.type==="delete"&&!s)continue;this.sentKeys.add(l.key)}r.push(u)}return r}trackSentKeys(t){if(!(this.loadedInitialState||this.skipFiltering))for(const s of t)s.type==="delete"?this.sentKeys.delete(s.key):this.sentKeys.add(s.key)}markAllStateAsSeen(){this.skipFiltering=!0}unsubscribe(){var t;(t=this.truncateCleanup)==null||t.call(this),this.truncateCleanup=void 0,this.isBufferingForTruncate=!1,this.truncateBuffer=[],this.pendingTruncateRefetches.clear();for(const s of this.loadedSubsets)this.collection._sync.unloadSubset(s);this.loadedSubsets=[],this.emitInner("unsubscribed",{type:"unsubscribed",subscription:this}),this.clearListeners()}}class wO{constructor(){this.activeSubscribersCount=0,this.changeSubscriptions=new Set,this.batchedEvents=[],this.shouldBatchEvents=!1}setDeps(t){this.lifecycle=t.lifecycle,this.sync=t.sync,this.events=t.events,this.collection=t.collection}emitEmptyReadyEvent(){for(const t of this.changeSubscriptions)t.emitEvents([])}emitEvents(t,s=!1){if(this.shouldBatchEvents&&!s){this.batchedEvents.push(...t);return}let r=t;if(s&&(this.batchedEvents.length>0&&(r=[...this.batchedEvents,...t]),this.batchedEvents=[],this.shouldBatchEvents=!1),r.length!==0)for(const l of this.changeSubscriptions)l.emitEvents(r)}subscribeChanges(t,s={}){if(this.addSubscriber(),s.where&&s.whereExpression)throw new Error("Cannot specify both 'where' and 'whereExpression' options. Use one or the other.");const{where:r,...l}=s;let u=l.whereExpression;if(r){const d=tS(),p=r(d);u=ut(p)}const c=new bO(this.collection,t,{...l,whereExpression:u,onUnsubscribe:()=>{this.removeSubscriber(),this.changeSubscriptions.delete(c)}});return s.onStatusChange&&c.on("status:change",s.onStatusChange),s.includeInitialState?c.requestSnapshot({trackLoadSubsetPromise:!1}):s.includeInitialState===!1&&c.markAllStateAsSeen(),this.changeSubscriptions.add(c),c}addSubscriber(){const t=this.activeSubscribersCount;this.activeSubscribersCount++,this.lifecycle.cancelGCTimer(),(this.lifecycle.status==="cleaned-up"||this.lifecycle.status==="idle")&&this.sync.startSync(),this.events.emitSubscribersChange(this.activeSubscribersCount,t)}removeSubscriber(){const t=this.activeSubscribersCount;if(this.activeSubscribersCount--,this.activeSubscribersCount===0)this.lifecycle.startGCTimer();else if(this.activeSubscribersCount<0)throw new R1;this.events.emitSubscribersChange(this.activeSubscribersCount,t)}cleanup(){this.batchedEvents=[],this.shouldBatchEvents=!1}}const _O=n=>setTimeout(()=>{n({didTimeout:!0,timeRemaining:()=>50})},0),EO=n=>{clearTimeout(n)},xO=typeof window<"u"&&"requestIdleCallback"in window?(n,t)=>window.requestIdleCallback(n,t):(n,t)=>_O(n),zh=typeof window<"u"&&"cancelIdleCallback"in window?n=>window.cancelIdleCallback(n):EO;class TO{constructor(t,s){this.status="idle",this.hasBeenReady=!1,this.hasReceivedFirstCommit=!1,this.onFirstReadyCallbacks=[],this.gcTimeoutId=null,this.idleCallbackId=null,this.config=t,this.id=s}setDeps(t){this.indexes=t.indexes,this.events=t.events,this.changes=t.changes,this.sync=t.sync,this.state=t.state}validateStatusTransition(t,s){if(t===s)return;if(!{idle:["loading","error","cleaned-up"],loading:["ready","error","cleaned-up"],ready:["cleaned-up","error"],error:["cleaned-up","idle"],"cleaned-up":["loading","error"]}[t].includes(s))throw new O1(t,s,this.id)}setStatus(t,s=!1){if(t==="ready"&&!s)throw new Al(`You can't directly call "setStatus('ready'). You must use markReady instead.`);this.validateStatusTransition(this.status,t);const r=this.status;this.status=t,t==="ready"&&!this.indexes.isIndexesResolved&&this.indexes.resolveAllIndexes().catch(l=>{console.warn(`${this.config.id?`[${this.config.id}] `:""}Failed to resolve indexes:`,l)}),this.events.emitStatusChange(t,r)}validateCollectionUsable(t){switch(this.status){case"error":throw new T1(t,this.id);case"cleaned-up":this.sync.startSync();break}}markReady(){if(this.validateStatusTransition(this.status,"ready"),this.status==="loading"){if(this.setStatus("ready",!0),!this.hasBeenReady){this.hasBeenReady=!0,this.hasReceivedFirstCommit||(this.hasReceivedFirstCommit=!0);const t=[...this.onFirstReadyCallbacks];this.onFirstReadyCallbacks=[],t.forEach(s=>s())}this.changes.changeSubscriptions.size>0&&this.changes.emitEmptyReadyEvent()}}startGCTimer(){this.gcTimeoutId&&clearTimeout(this.gcTimeoutId);const t=this.config.gcTime??3e5;t!==0&&(this.gcTimeoutId=setTimeout(()=>{this.changes.activeSubscribersCount===0&&this.scheduleIdleCleanup()},t))}cancelGCTimer(){this.gcTimeoutId&&(clearTimeout(this.gcTimeoutId),this.gcTimeoutId=null),this.idleCallbackId!==null&&(zh(this.idleCallbackId),this.idleCallbackId=null)}scheduleIdleCleanup(){this.idleCallbackId!==null&&zh(this.idleCallbackId),this.idleCallbackId=xO(t=>{this.changes.activeSubscribersCount===0?this.performCleanup(t)&&(this.idleCallbackId=null):this.idleCallbackId=null},{timeout:1e3})}performCleanup(t){return!t||t.timeRemaining()>0||t.didTimeout?(this.sync.cleanup(),this.state.cleanup(),this.changes.cleanup(),this.indexes.cleanup(),this.gcTimeoutId&&(clearTimeout(this.gcTimeoutId),this.gcTimeoutId=null),this.hasBeenReady=!1,this.onFirstReadyCallbacks=[],this.setStatus("cleaned-up"),this.events.cleanup(),!0):(this.scheduleIdleCleanup(),!1)}onFirstReady(t){if(this.hasBeenReady){t();return}this.onFirstReadyCallbacks.push(t)}cleanup(){this.idleCallbackId!==null&&(zh(this.idleCallbackId),this.idleCallbackId=null),this.performCleanup()}}const zd=Symbol("liveQueryInternal");class OO{constructor(t,s){this.preloadPromise=null,this.syncCleanupFn=null,this.syncLoadSubsetFn=null,this.syncUnloadSubsetFn=null,this.pendingLoadSubsetPromises=new Set,this.config=t,this.id=s,this.syncMode=t.syncMode??"eager"}setDeps(t){this.collection=t.collection,this.state=t.state,this.lifecycle=t.lifecycle,this._events=t.events}startSync(){if(!(this.lifecycle.status!=="idle"&&this.lifecycle.status!=="cleaned-up")){this.lifecycle.setStatus("loading");try{const t=zO(this.config.sync.sync({collection:this.collection,begin:()=>{this.state.pendingSyncedTransactions.push({committed:!1,operations:[],deletedKeys:new Set})},write:s=>{const r=this.state.pendingSyncedTransactions[this.state.pendingSyncedTransactions.length-1];if(!r)throw new dv;if(r.committed)throw new pv;let l;"key"in s?l=s.key:l=this.config.getKey(s.value);let u=s.type;if(s.type==="insert"){const d=this.state.syncedData.has(l),p=r.deletedKeys.has(l),m=r.truncate===!0;if(d&&!p&&!m){const g=this.state.syncedData.get(l);if(g!==void 0&&Bn(g,s.value))u="update";else{const S=this.config.utils[zd];throw new D1(l,this.id,{hasCustomGetKey:(S==null?void 0:S.hasCustomGetKey)??!1,hasJoins:(S==null?void 0:S.hasJoins)??!1})}}}const c={...s,type:u,key:l};r.operations.push(c),u==="delete"&&r.deletedKeys.add(l)},commit:()=>{const s=this.state.pendingSyncedTransactions[this.state.pendingSyncedTransactions.length-1];if(!s)throw new Y1;if(s.committed)throw new J1;s.committed=!0,this.state.commitPendingTransactions()},markReady:()=>{this.lifecycle.markReady()},truncate:()=>{const s=this.state.pendingSyncedTransactions[this.state.pendingSyncedTransactions.length-1];if(!s)throw new dv;if(s.committed)throw new pv;s.operations=[],s.deletedKeys.clear(),s.truncate=!0,s.optimisticSnapshot={upserts:new Map(this.state.optimisticUpserts),deletes:new Set(this.state.optimisticDeletes)}}}));if(this.syncCleanupFn=(t==null?void 0:t.cleanup)??null,this.syncLoadSubsetFn=(t==null?void 0:t.loadSubset)??null,this.syncUnloadSubsetFn=(t==null?void 0:t.unloadSubset)??null,this.syncMode==="on-demand"&&!this.syncLoadSubsetFn)throw new Cl(`Collection "${this.id}" is configured with syncMode "on-demand" but the sync function did not return a loadSubset handler. Either provide a loadSubset handler or use syncMode "eager".`)}catch(t){throw this.lifecycle.setStatus("error"),t}}}preload(){return this.preloadPromise?this.preloadPromise:(this.syncMode==="on-demand"&&console.warn(`${this.id?`[${this.id}] `:""}Calling .preload() on a collection with syncMode "on-demand" is a no-op. In on-demand mode, data is only loaded when queries request it. Instead, create a live query and call .preload() on that to load the specific data you need. See https://tanstack.com/blog/tanstack-db-0.5-query-driven-sync for more details.`),this.preloadPromise=new Promise((t,s)=>{if(this.lifecycle.status==="ready"){t();return}if(this.lifecycle.status==="error"){s(new z1);return}if(this.lifecycle.onFirstReady(()=>{t()}),this.lifecycle.status==="idle"||this.lifecycle.status==="cleaned-up")try{this.startSync()}catch(r){s(r);return}}),this.preloadPromise)}get isLoadingSubset(){return this.pendingLoadSubsetPromises.size>0}trackLoadPromise(t){const s=!this.isLoadingSubset;this.pendingLoadSubsetPromises.add(t),s&&this._events.emit("loadingSubset:change",{type:"loadingSubset:change",collection:this.collection,isLoadingSubset:!0,previousIsLoadingSubset:!1,loadingSubsetTransition:"start"}),t.finally(()=>{const r=this.pendingLoadSubsetPromises.size===1&&this.pendingLoadSubsetPromises.has(t);this.pendingLoadSubsetPromises.delete(t),r&&this._events.emit("loadingSubset:change",{type:"loadingSubset:change",collection:this.collection,isLoadingSubset:!1,previousIsLoadingSubset:!0,loadingSubsetTransition:"end"})})}loadSubset(t){if(this.syncMode==="eager")return!0;if(this.syncLoadSubsetFn){const s=this.syncLoadSubsetFn(t);if(s instanceof Promise)return this.trackLoadPromise(s),s}return!0}unloadSubset(t){this.syncUnloadSubsetFn&&this.syncUnloadSubsetFn(t)}cleanup(){try{this.syncCleanupFn&&(this.syncCleanupFn(),this.syncCleanupFn=null)}catch(t){queueMicrotask(()=>{if(t instanceof Error){const s=new gv(this.id,t);throw s.cause=t,s.stack=t.stack,s}else throw new gv(this.id,t)})}this.preloadPromise=null}}function zO(n){if(typeof n=="function")return{cleanup:n};if(typeof n=="object")return n}function sS(n){return typeof n=="function"&&n.prototype!==void 0&&n.prototype.constructor===n}async function RO(n){return sS(n)?n:await n()}class CO{constructor(t,s,r,l,u,c){this.id=t,this.expression=s,this.name=r,this.resolver=l,this.options=u,this.collectionEntries=c,this.indexPromise=null,this.resolvedIndex=null,sS(this.resolver)&&(this.resolvedIndex=new this.resolver(this.id,this.expression,this.name,this.options),this.collectionEntries&&this.resolvedIndex.build(this.collectionEntries))}async resolve(){return this.resolvedIndex?this.resolvedIndex:(this.indexPromise||(this.indexPromise=this.createIndex()),this.resolvedIndex=await this.indexPromise,this.resolvedIndex)}isResolved(){return this.resolvedIndex!==null}getResolved(){if(!this.resolvedIndex)throw new Error(`Index ${this.id} has not been resolved yet. Ensure collection is synced.`);return this.resolvedIndex}getId(){return this.id}getName(){return this.name}getExpression(){return this.expression}async createIndex(){const t=await RO(this.resolver);return new t(this.id,this.expression,this.name,this.options)}}class AO{constructor(t,s){this.indexId=t,this.lazyIndex=s}get index(){return this.lazyIndex.getResolved()}get isReady(){return this.lazyIndex.isResolved()}async whenReady(){return await this.lazyIndex.resolve()}get id(){return this.indexId}get name(){return this.isReady?this.index.name:this.lazyIndex.getName()}get expression(){return this.lazyIndex.getExpression()}supports(t){return this.index.supports(t)}getStats(){return this.index.getStats()}matchesField(t){const s=this.expression;return s.type==="ref"&&s.path.length===t.length&&s.path.every((r,l)=>r===t[l])}get keyCount(){return this.index.keyCount}get indexedKeysSet(){return this.index.indexedKeysSet}get orderedEntriesArray(){return this.index.orderedEntriesArray}get valueMapData(){return this.index.valueMapData}equalityLookup(t){var r;const s=this.index;return((r=s.equalityLookup)==null?void 0:r.call(s,t))??new Set}rangeQuery(t){var r;const s=this.index;return((r=s.rangeQuery)==null?void 0:r.call(s,t))??new Set}inArrayLookup(t){var r;const s=this.index;return((r=s.inArrayLookup)==null?void 0:r.call(s,t))??new Set}_getLazyWrapper(){return this.lazyIndex}}class MO{constructor(){this.lazyIndexes=new Map,this.resolvedIndexes=new Map,this.isIndexesResolved=!1,this.indexCounter=0}setDeps(t){this.state=t.state,this.lifecycle=t.lifecycle}createIndex(t,s={}){this.lifecycle.validateCollectionUsable("createIndex");const r=++this.indexCounter,l=tS(),u=t(l),c=ut(u),d=s.indexType??Kh,p=new CO(r,c,s.name,d,s.options,this.state.entries());if(this.lazyIndexes.set(r,p),d===Kh)try{const m=p.getResolved();this.resolvedIndexes.set(r,m)}catch(m){console.warn("Failed to resolve BTreeIndex:",m)}else if(typeof d=="function"&&d.prototype)try{const m=p.getResolved();this.resolvedIndexes.set(r,m)}catch{this.resolveSingleIndex(r,p).catch(m=>{console.warn("Failed to resolve single index:",m)})}else this.isIndexesResolved&&this.resolveSingleIndex(r,p).catch(m=>{console.warn("Failed to resolve single index:",m)});return new AO(r,p)}async resolveAllIndexes(){if(this.isIndexesResolved)return;const t=Array.from(this.lazyIndexes.entries()).map(async([s,r])=>{const l=await r.resolve();return l.build(this.state.entries()),this.resolvedIndexes.set(s,l),{indexId:s,resolvedIndex:l}});await Promise.all(t),this.isIndexesResolved=!0}async resolveSingleIndex(t,s){const r=await s.resolve();return r.build(this.state.entries()),this.resolvedIndexes.set(t,r),r}get indexes(){return this.resolvedIndexes}updateIndexes(t){for(const s of this.resolvedIndexes.values())for(const r of t)switch(r.type){case"insert":s.add(r.key,r.value);break;case"update":r.previousValue?s.update(r.key,r.previousValue,r.value):s.add(r.key,r.value);break;case"delete":s.remove(r.key,r.value);break}}cleanup(){this.lazyIndexes.clear(),this.resolvedIndexes.clear()}}var DO={};const kO=new Set(["find","findLast","findIndex","findLastIndex","filter","map","flatMap","forEach","some","every","reduce","reduceRight"]),NO=new Set(["pop","push","shift","unshift","splice","sort","reverse","fill","copyWithin"]),jO=new Set(["set","delete","clear","add"]),UO=new Set(["entries","keys","values","forEach"]);function Rd(n){return n!==null&&typeof n=="object"&&!(n instanceof Date)&&!(n instanceof RegExp)&&!Ja(n)}function BO(n,t,s,r){if(kO.has(n))return function(...l){const u=l[0];if(typeof u!="function")return t.apply(s.copy_,l);const c=(m,g)=>{if(Rd(m)){const y={tracker:s,prop:String(g)},{proxy:w}=r(m,y);return w}return m},d=function(m,g,y){const w=c(m,g);return u.call(this,w,g,y)};if(n==="reduce"||n==="reduceRight"){const m=function(g,y,w,S){const b=c(y,w);return u.call(this,g,b,w,S)};return t.apply(s.copy_,[m,...l.slice(1)])}const p=t.apply(s.copy_,[d,...l.slice(1)]);if((n==="find"||n==="findLast")&&p&&typeof p=="object"){const m=s.copy_.indexOf(p);if(m!==-1)return c(p,m)}return n==="filter"&&Array.isArray(p)?p.map(m=>{const g=s.copy_.indexOf(m);return g!==-1?c(m,g):m}):p}}function LO(n,t){return function(){const s=n.copy_;let r=0;return{next(){if(r>=s.length)return{done:!0,value:void 0};const l=s[r];let u=l;if(Rd(l)){const c={tracker:n,prop:String(r)},{proxy:d}=t(l,c);u=d}return r++,{done:!1,value:u}},[Symbol.iterator](){return this}}}}function Lv(n,t,s){return function(...r){const l=n.apply(t.copy_,r);return s(t),l}}function HO(n,t,s,r,l,u,c){if(UO.has(n)||t===Symbol.iterator)return function(...p){const m=s.apply(l.copy_,p);if(n==="forEach"){const y=p[0];if(typeof y=="function"){const w=function(S,b,E){const O=y.call(this,S,b,E);return c(l),O};return s.apply(r,[w,...p.slice(1)])}}if(n==="entries"||n==="values"||n===Symbol.iterator.toString()||t===Symbol.iterator){const y=m,w=new Map;if(n==="values"&&r instanceof Map)for(const[b,E]of l.copy_.entries())w.set(E,b);const S=new Map;if(r instanceof Set)for(const b of l.copy_.values())S.set(b,b);return{next(){const b=y.next();if(!b.done&&b.value&&typeof b.value=="object"){if(n==="entries"&&Array.isArray(b.value)&&b.value.length===2){if(b.value[1]&&typeof b.value[1]=="object"){const E=b.value[0],O={tracker:l,prop:E,updateMap:L=>{l.copy_ instanceof Map&&l.copy_.set(E,L)}},{proxy:M}=u(b.value[1],O);b.value[1]=M}}else if(n==="values"||n===Symbol.iterator.toString()||t===Symbol.iterator)if(n==="values"&&r instanceof Map){const E=w.get(b.value);if(E!==void 0){const O={tracker:l,prop:E,updateMap:L=>{l.copy_ instanceof Map&&l.copy_.set(E,L)}},{proxy:M}=u(b.value,O);b.value=M}}else if(r instanceof Set){const E=b.value,O={tracker:l,prop:E,updateSet:L=>{l.copy_ instanceof Set&&(l.copy_.delete(E),l.copy_.add(L),S.set(E,L))}},{proxy:M}=u(b.value,O);b.value=M}else{const E=Symbol("iterator-value"),{proxy:O}=u(b.value,{tracker:l,prop:E});b.value=O}}return b},[Symbol.iterator](){return this}}}return m}}function Ee(...n){const t=typeof window<"u"&&typeof localStorage<"u";t&&localStorage.getItem("DEBUG")==="true"?console.log("[proxy]",...n):!t&&typeof process<"u"&&DO.DEBUG==="true"&&console.log("[proxy]",...n)}function ui(n,t=new WeakMap){if(n==null||typeof n!="object")return n;if(t.has(n))return t.get(n);if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp)return new RegExp(n.source,n.flags);if(Array.isArray(n)){const l=[];return t.set(n,l),n.forEach((u,c)=>{l[c]=ui(u,t)}),l}if(ArrayBuffer.isView(n)&&!(n instanceof DataView)){const l=Object.getPrototypeOf(n).constructor,u=new l(n.length);t.set(n,u);for(let c=0;c<n.length;c++)u[c]=n[c];return u}if(n instanceof Map){const l=new Map;return t.set(n,l),n.forEach((u,c)=>{l.set(c,ui(u,t))}),l}if(n instanceof Set){const l=new Set;return t.set(n,l),n.forEach(u=>{l.add(ui(u,t))}),l}if(Ja(n))return n;const s={};t.set(n,s);for(const l in n)Object.prototype.hasOwnProperty.call(n,l)&&(s[l]=ui(n[l],t));const r=Object.getOwnPropertySymbols(n);for(const l of r)s[l]=ui(n[l],t);return s}let Hv=0;function ZO(){return Hv+=1,Hv}function Cd(n,t){const s=new Map;function r(y,w){if(Ee("Object ID:",y.constructor.name),s.has(y))return s.get(y);{const S=Cd(y,w);return s.set(y,S),S}}const l=new Map,u={copy_:ui(n),originalObject:ui(n),proxyCount:ZO(),modified:!1,assigned_:{},parent:t,target:n};Ee("createChangeProxy called for target",n,u.proxyCount);function c(y){y.modified||(y.modified=!0),y.parent&&(Ee("propagating change to parent"),"updateMap"in y.parent?y.parent.updateMap(y.copy_):"updateSet"in y.parent?y.parent.updateSet(y.copy_):(y.parent.tracker.copy_[y.parent.prop]=y.copy_,y.parent.tracker.assigned_[y.parent.prop]=!0),c(y.parent.tracker))}function d(y){if(Ee("checkIfReverted called with assigned keys:",Object.keys(y.assigned_)),Object.keys(y.assigned_).length===0&&Object.getOwnPropertySymbols(y.assigned_).length===0)return Ee("No assigned properties, returning true"),!0;for(const S in y.assigned_)if(y.assigned_[S]===!0){const b=y.copy_[S],E=y.originalObject[S];if(Ee(`Checking property ${String(S)}, current:`,b,"original:",E),!Bn(b,E))return Ee(`Property ${String(S)} is different, returning false`),!1}else if(y.assigned_[S]===!1)return Ee(`Property ${String(S)} was deleted, returning false`),!1;const w=Object.getOwnPropertySymbols(y.assigned_);for(const S of w)if(y.assigned_[S]===!0){const b=y.copy_[S],E=y.originalObject[S];if(!Bn(b,E))return Ee("Symbol property is different, returning false"),!1}else if(y.assigned_[S]===!1)return Ee("Symbol property was deleted, returning false"),!1;return Ee("All properties match original values, returning true"),!0}function p(y,w){Ee("checkParentStatus called for child prop:",w);const S=d(y);Ee("Parent checkIfReverted returned:",S),S&&(Ee("Parent is fully reverted, clearing tracking"),y.modified=!1,y.assigned_={},y.parent&&(Ee("Continuing up the parent chain"),p(y.parent.tracker,y.parent.prop)))}function m(y){if(Ee("createObjectProxy",y),l.has(y))return Ee("proxyCache found match"),l.get(y);const w=new Proxy(y,{get(S,b){Ee("get",S,b);const E=u.copy_[b]??u.originalObject[b],O=u.originalObject[b];Ee("value (at top of proxy get)",E);const M=Object.getOwnPropertyDescriptor(S,b);if(M!=null&&M.get)return E;if(typeof E=="function"){if(Array.isArray(S)){const L=b.toString();if(NO.has(L))return Lv(E,u,c);const N=BO(L,E,u,r);if(N)return N;if(b===Symbol.iterator)return LO(u,r)}if(S instanceof Map||S instanceof Set){const L=b.toString();if(jO.has(L))return Lv(E,u,c);const N=HO(L,b,E,S,u,r,c);if(N)return N}return E.bind(S)}if(Rd(E)){const L={tracker:u,prop:String(b)},{proxy:N}=r(O,L);return l.set(E,N),N}return E},set(S,b,E){const O=u.copy_[b];if(Ee(`set called for property ${String(b)}, current:`,O,"new:",E),Bn(O,E))Ee("Value unchanged, not tracking");else{const M=u.originalObject[b],L=Bn(E,M);if(Ee("value:",E,"original:",M,"isRevertToOriginal:",L),L){Ee(`Reverting property ${String(b)} to original value`),delete u.assigned_[b.toString()],Ee(`Updating copy with original value for ${String(b)}`),u.copy_[b]=ui(M),Ee("Checking if all properties reverted");const N=d(u);Ee("All reverted:",N),N?(Ee("All properties reverted, clearing tracking"),u.modified=!1,u.assigned_={},t&&(Ee("Updating parent for property:",t.prop),p(t.tracker,t.prop))):(Ee("Some properties still changed, keeping modified flag"),u.modified=!0)}else Ee(`Setting new value for property ${String(b)}`),u.copy_[b]=E,u.assigned_[b.toString()]=!0,Ee("Marking object and ancestors as modified",u),c(u)}return!0},defineProperty(S,b,E){const O=Reflect.defineProperty(S,b,E);return O&&"value"in E&&(u.copy_[b]=ui(E.value),u.assigned_[b.toString()]=!0,c(u)),O},getOwnPropertyDescriptor(S,b){return Reflect.getOwnPropertyDescriptor(S,b)},preventExtensions(S){return Reflect.preventExtensions(S)},isExtensible(S){return Reflect.isExtensible(S)},deleteProperty(S,b){Ee("deleteProperty",S,b);const E=typeof b=="symbol"?b.toString():b;if(E in S){const O=E in u.originalObject,M=Reflect.deleteProperty(S,b);return M&&(O?(u.assigned_[E]=!1,c(u)):(delete u.assigned_[E],Object.keys(u.assigned_).length===0&&Object.getOwnPropertySymbols(u.assigned_).length===0?u.modified=!1:u.modified=!0)),M}return!0}});return l.set(y,w),w}return{proxy:m(u.copy_),getChanges:()=>{if(Ee("getChanges called, modified:",u.modified),Ee(u),!u.modified)return Ee("Object not modified, returning empty object"),{};if(typeof u.copy_!="object"||Array.isArray(u.copy_)||Object.keys(u.assigned_).length===0)return u.copy_;const y={};for(const w in u.copy_)u.assigned_[w]===!0&&w in u.copy_&&(y[w]=u.copy_[w]);return Ee("Returning copy:",y),y}}}function $O(n){const t=n.map(s=>Cd(s));return{proxies:t.map(s=>s.proxy),getChanges:()=>t.map(s=>s.getChanges())}}function qO(n,t){const{proxy:s,getChanges:r}=Cd(n);return t(s),r()}function IO(n,t){const{proxies:s,getChanges:r}=$O(n);return t(s),r()}function KO(){let n,t,s=!0;return{promise:new Promise((l,u)=>{n=c=>{s=!1,l(c)},t=c=>{s=!1,u(c)}}),resolve:n,reject:t,isPending:()=>s}}function VO(n){return typeof n=="object"&&n!==null&&typeof n.hasPendingGraphRun=="function"}class GO{constructor(){this.contexts=new Map,this.clearListeners=new Set}getOrCreateContext(t){let s=this.contexts.get(t);return s||(s={queue:[],jobs:new Map,dependencies:new Map,completed:new Set},this.contexts.set(t,s)),s}schedule({contextId:t,jobId:s,dependencies:r,run:l}){if(typeof t>"u"){l();return}const u=this.getOrCreateContext(t);if(u.jobs.has(s)||u.queue.push(s),u.jobs.set(s,l),r){const c=new Set(r);c.delete(s),u.dependencies.set(s,c)}else u.dependencies.has(s)||u.dependencies.set(s,new Set);u.completed.delete(s)}flush(t){const s=this.contexts.get(t);if(!s)return;const{queue:r,jobs:l,dependencies:u,completed:c}=s;for(;r.length>0;){let d=!1;const p=r.length;for(let m=0;m<p;m++){const g=r.shift(),y=l.get(g);if(!y){u.delete(g),c.delete(g);continue}const w=u.get(g);let S=!w;if(w){S=!0;for(const b of w){if(b===g)continue;const E=VO(b)&&b.hasPendingGraphRun(t);if(l.has(b)&&!c.has(b)||!l.has(b)&&E){S=!1;break}}}S?(l.delete(g),u.delete(g),y(),c.add(g),d=!0):r.push(g)}if(!d)throw new Error(`Scheduler detected unresolved dependencies for context ${String(t)}.`)}this.contexts.delete(t)}flushAll(){for(const t of Array.from(this.contexts.keys()))this.flush(t)}clear(t){this.contexts.delete(t),this.clearListeners.forEach(s=>s(t))}onClear(t){return this.clearListeners.add(t),()=>this.clearListeners.delete(t)}hasPendingJobs(t){const s=this.contexts.get(t);return!!s&&s.jobs.size>0}clearJob(t,s){const r=this.contexts.get(t);r&&(r.jobs.delete(s),r.dependencies.delete(s),r.completed.delete(s),r.queue=r.queue.filter(l=>l!==s),r.jobs.size===0&&this.contexts.delete(t))}}const zu=new GO,Ru=[];let il=[],YO=0;function JO(n,t){switch(`${n.type}-${t.type}`){case"insert-update":return{...n,type:"insert",original:{},modified:t.modified,changes:{...n.changes,...t.changes},key:n.key,globalKey:n.globalKey,metadata:t.metadata??n.metadata,syncMetadata:{...n.syncMetadata,...t.syncMetadata},mutationId:t.mutationId,updatedAt:t.updatedAt};case"insert-delete":return null;case"update-delete":return t;case"update-update":return{...t,original:n.original,changes:{...n.changes,...t.changes},metadata:t.metadata??n.metadata,syncMetadata:{...n.syncMetadata,...t.syncMetadata}};case"delete-delete":case"insert-insert":return t;default:{const s=`${n.type}-${t.type}`;throw new Error(`Unhandled mutation combination: ${s}`)}}}function Va(n){const t=new PO(n);return Ru.push(t),t}function du(){if(il.length>0)return il.slice(-1)[0]}function QO(n){zu.clear(n.id),il.push(n)}function XO(n){try{zu.flush(n.id)}finally{il=il.filter(t=>t.id!==n.id)}}function FO(n){const t=Ru.findIndex(s=>s.id===n.id);t!==-1&&Ru.splice(t,1)}class PO{constructor(t){if(typeof t.mutationFn>"u")throw new q1;this.id=t.id??crypto.randomUUID(),this.mutationFn=t.mutationFn,this.state="pending",this.mutations=[],this.isPersisted=KO(),this.autoCommit=t.autoCommit??!0,this.createdAt=new Date,this.sequenceNumber=YO++,this.metadata=t.metadata??{}}setState(t){this.state=t,(t==="completed"||t==="failed")&&FO(this)}mutate(t){if(this.state!=="pending")throw new K1;QO(this);try{t()}finally{XO(this)}return this.autoCommit&&this.commit().catch(()=>{}),this}applyMutations(t){for(const s of t){const r=this.mutations.findIndex(l=>l.globalKey===s.globalKey);if(r>=0){const l=this.mutations[r],u=JO(l,s);u===null?this.mutations.splice(r,1):this.mutations[r]=u}else this.mutations.push(s)}}rollback(t){var r;const s=(t==null?void 0:t.isSecondaryRollback)??!1;if(this.state==="completed")throw new V1;if(this.setState("failed"),!s){const l=new Set;this.mutations.forEach(u=>l.add(u.globalKey));for(const u of Ru)u.state==="pending"&&u.mutations.some(c=>l.has(c.globalKey))&&u.rollback({isSecondaryRollback:!0})}return this.isPersisted.reject((r=this.error)==null?void 0:r.error),this.touchCollection(),this}touchCollection(){const t=new Set;for(const s of this.mutations)t.has(s.collection.id)||(s.collection._state.onTransactionStateChange(),s.collection._state.pendingSyncedTransactions.length>0&&s.collection._state.commitPendingTransactions(),t.add(s.collection.id))}async commit(){if(this.state!=="pending")throw new G1;if(this.setState("persisting"),this.mutations.length===0)return this.setState("completed"),this.isPersisted.resolve(this),this;try{await this.mutationFn({transaction:this}),this.setState("completed"),this.touchCollection(),this.isPersisted.resolve(this)}catch(t){const s=t instanceof Error?t:new Error(String(t));throw this.error={message:s.message,error:s},this.rollback(),s}return this}compareCreatedAt(t){const s=this.createdAt.getTime()-t.createdAt.getTime();return s!==0?s:this.sequenceNumber-t.sequenceNumber}}class WO{constructor(t,s){this.insert=(r,l)=>{this.lifecycle.validateCollectionUsable("insert");const u=this.state,c=du();if(!c&&!this.config.onInsert)throw new H1;const d=Array.isArray(r)?r:[r],p=[],m=new Set;if(d.forEach(g=>{var E,O;const y=this.validateData(g,"insert"),w=this.config.getKey(y);if(this.state.has(w)||m.has(w))throw new M1(w);m.add(w);const S=this.generateGlobalKey(w,g),b={mutationId:crypto.randomUUID(),original:{},modified:y,changes:Object.fromEntries(Object.keys(g).map(M=>[M,y[M]])),globalKey:S,key:w,metadata:l==null?void 0:l.metadata,syncMetadata:((O=(E=this.config.sync).getSyncMetadata)==null?void 0:O.call(E))||{},optimistic:(l==null?void 0:l.optimistic)??!0,type:"insert",createdAt:new Date,updatedAt:new Date,collection:this.collection};p.push(b)}),c)return c.applyMutations(p),u.transactions.set(c.id,c),u.scheduleTransactionCleanup(c),u.recomputeOptimisticState(!0),c;{const g=Va({mutationFn:async y=>await this.config.onInsert({transaction:y.transaction,collection:this.collection})});return g.applyMutations(p),g.commit().catch(()=>{}),u.transactions.set(g.id,g),u.scheduleTransactionCleanup(g),u.recomputeOptimisticState(!0),g}},this.delete=(r,l)=>{const u=this.state;this.lifecycle.validateCollectionUsable("delete");const c=du();if(!c&&!this.config.onDelete)throw new $1;if(Array.isArray(r)&&r.length===0)throw new B1;const d=Array.isArray(r)?r:[r],p=[];for(const g of d){if(!this.state.has(g))throw new L1(g);const y=this.generateGlobalKey(g,this.state.get(g)),w={mutationId:crypto.randomUUID(),original:this.state.get(g),modified:this.state.get(g),changes:this.state.get(g),globalKey:y,key:g,metadata:l==null?void 0:l.metadata,syncMetadata:u.syncedMetadata.get(g)||{},optimistic:(l==null?void 0:l.optimistic)??!0,type:"delete",createdAt:new Date,updatedAt:new Date,collection:this.collection};p.push(w)}if(c)return c.applyMutations(p),u.transactions.set(c.id,c),u.scheduleTransactionCleanup(c),u.recomputeOptimisticState(!0),c;const m=Va({autoCommit:!0,mutationFn:async g=>this.config.onDelete({transaction:g.transaction,collection:this.collection})});return m.applyMutations(p),m.commit().catch(()=>{}),u.transactions.set(m.id,m),u.scheduleTransactionCleanup(m),u.recomputeOptimisticState(!0),m},this.id=s,this.config=t}setDeps(t){this.lifecycle=t.lifecycle,this.state=t.state,this.collection=t.collection}ensureStandardSchema(t){if(t&&"~standard"in t)return t;throw new x1}validateData(t,s,r){if(!this.config.schema)return t;const l=this.ensureStandardSchema(this.config.schema);if(s==="update"&&r){const c=this.state.get(r);if(c&&t&&typeof t=="object"&&typeof c=="object"){const d=Object.assign({},c,t),p=l["~standard"].validate(d);if(p instanceof Promise)throw new hv;if("issues"in p&&p.issues){const w=p.issues.map(S=>{var b;return{message:S.message,path:(b=S.path)==null?void 0:b.map(E=>String(E))}});throw new fv(s,w)}const m=p.value,g=Object.keys(t);return Object.fromEntries(g.map(w=>[w,m[w]]))}}const u=l["~standard"].validate(t);if(u instanceof Promise)throw new hv;if("issues"in u&&u.issues){const c=u.issues.map(d=>{var p;return{message:d.message,path:(p=d.path)==null?void 0:p.map(m=>String(m))}});throw new fv(s,c)}return u.value}generateGlobalKey(t,s){if(typeof t!="string"&&typeof t!="number")throw typeof t>"u"?new C1(s):new A1(t,s);return`KEY::${this.id}/${t}`}update(t,s,r){if(typeof t>"u")throw new k1;const l=this.state;this.lifecycle.validateCollectionUsable("update");const u=du();if(!u&&!this.config.onUpdate)throw new Z1;const c=Array.isArray(t),d=c?t:[t];if(c&&d.length===0)throw new N1;const p=typeof s=="function"?s:r,m=typeof s=="function"?{}:s,g=d.map(b=>{const E=this.state.get(b);if(!E)throw new j1(b);return E});let y;c?y=IO(g,p):y=[qO(g[0],p)];const w=d.map((b,E)=>{const O=y[E];if(!O||Object.keys(O).length===0)return null;const M=g[E],L=this.validateData(O,"update",b),N=Object.assign({},M,L),K=this.config.getKey(M),F=this.config.getKey(N);if(K!==F)throw new U1(K,F);const P=this.generateGlobalKey(F,N);return{mutationId:crypto.randomUUID(),original:M,modified:N,changes:Object.fromEntries(Object.keys(O).map(J=>[J,N[J]])),globalKey:P,key:b,metadata:m.metadata,syncMetadata:l.syncedMetadata.get(b)||{},optimistic:m.optimistic??!0,type:"update",createdAt:new Date,updatedAt:new Date,collection:this.collection}}).filter(Boolean);if(w.length===0){const b=Va({mutationFn:async()=>{}});return b.commit().catch(()=>{}),l.scheduleTransactionCleanup(b),b}if(u)return u.applyMutations(w),l.transactions.set(u.id,u),l.scheduleTransactionCleanup(u),l.recomputeOptimisticState(!0),u;const S=Va({mutationFn:async b=>this.config.onUpdate({transaction:b.transaction,collection:this.collection})});return S.applyMutations(w),S.commit().catch(()=>{}),l.transactions.set(S.id,S),l.scheduleTransactionCleanup(S),l.recomputeOptimisticState(!0),S}}class ez extends iS{constructor(){super()}setDeps(t){this.collection=t.collection}emit(t,s){this.emitInner(t,s)}emitStatusChange(t,s){this.emit("status:change",{type:"status:change",collection:this.collection,previousStatus:s,status:t});const r=`status:${t}`;this.emit(r,{type:r,collection:this.collection,previousStatus:s,status:t})}emitSubscribersChange(t,s){this.emit("subscribers:change",{type:"subscribers:change",collection:this.collection,previousSubscriberCount:s,subscriberCount:t})}cleanup(){this.clearListeners()}}function rS(n){const t=new Ad(n);return n.utils?t.utils=n.utils:t.utils={},t}class Ad{constructor(t){if(this.utils={},this.insert=(s,r)=>this._mutations.insert(s,r),this.delete=(s,r)=>this._mutations.delete(s,r),!t)throw new _1;if(!t.sync)throw new E1;t.id?this.id=t.id:this.id=crypto.randomUUID(),this.config={...t,autoIndex:t.autoIndex??"eager"},this._changes=new wO,this._events=new ez,this._indexes=new MO,this._lifecycle=new TO(t,this.id),this._mutations=new WO(t,this.id),this._state=new vO(t),this._sync=new OO(t,this.id),this.comparisonOpts=tz(t),this._changes.setDeps({collection:this,lifecycle:this._lifecycle,sync:this._sync,events:this._events}),this._events.setDeps({collection:this}),this._indexes.setDeps({state:this._state,lifecycle:this._lifecycle}),this._lifecycle.setDeps({changes:this._changes,events:this._events,indexes:this._indexes,state:this._state,sync:this._sync}),this._mutations.setDeps({collection:this,lifecycle:this._lifecycle,state:this._state}),this._state.setDeps({collection:this,lifecycle:this._lifecycle,changes:this._changes,indexes:this._indexes,events:this._events}),this._sync.setDeps({collection:this,state:this._state,lifecycle:this._lifecycle,events:this._events}),t.startSync===!0&&this._sync.startSync()}get status(){return this._lifecycle.status}get subscriberCount(){return this._changes.activeSubscribersCount}onFirstReady(t){return this._lifecycle.onFirstReady(t)}isReady(){return this._lifecycle.status==="ready"}get isLoadingSubset(){return this._sync.isLoadingSubset}startSyncImmediate(){this._sync.startSync()}preload(){return this._sync.preload()}get(t){return this._state.get(t)}has(t){return this._state.has(t)}get size(){return this._state.size}*keys(){yield*this._state.keys()}*values(){yield*this._state.values()}*entries(){yield*this._state.entries()}*[Symbol.iterator](){yield*this._state[Symbol.iterator]()}forEach(t){return this._state.forEach(t)}map(t){return this._state.map(t)}getKeyFromItem(t){return this.config.getKey(t)}createIndex(t,s={}){return this._indexes.createIndex(t,s)}get indexes(){return this._indexes.indexes}validateData(t,s,r){return this._mutations.validateData(t,s,r)}get compareOptions(){return{...this.comparisonOpts}}update(t,s,r){return this._mutations.update(t,s,r)}get state(){const t=new Map;for(const[s,r]of this.entries())t.set(s,r);return t}stateWhenReady(){return this.size>0||this.isReady()?Promise.resolve(this.state):this.preload().then(()=>this.state)}get toArray(){return Array.from(this.values())}toArrayWhenReady(){return this.size>0||this.isReady()?Promise.resolve(this.toArray):this.preload().then(()=>this.toArray)}currentStateAsChanges(t={}){return mO(this,t)}subscribeChanges(t,s={}){return this._changes.subscribeChanges(t,s)}on(t,s){return this._events.on(t,s)}once(t,s){return this._events.once(t,s)}off(t,s){this._events.off(t,s)}waitFor(t,s){return this._events.waitFor(t,s)}async cleanup(){return this._lifecycle.cleanup(),Promise.resolve()}}function tz(n){if(n.defaultStringCollation){const t=n.defaultStringCollation;return{stringSort:t.stringSort??"locale",locale:t.stringSort==="locale"?t.locale:void 0,localeOptions:t.stringSort==="locale"?t.localeOptions:void 0}}else return{stringSort:"locale"}}function nz(n){return!!n&&(typeof n=="object"||typeof n=="function")&&typeof n.then=="function"}function aS(n){const{mutationFn:t,onMutate:s,...r}=n;return l=>{const u=Va({...r,mutationFn:async c=>await t(l,c)});return u.mutate(()=>{const c=s(l);if(nz(c))throw new I1}),u}}class ot{constructor(t={}){this.query={},this.query={...t}}_createRefForSource(t,s){let r;try{r=Object.keys(t)}catch{const d=t===null?"null":"undefined";throw new Wo(s,d)}if(Array.isArray(t))throw new Wo(s,"array");if(r.length!==1)throw r.length===0?new Wo(s,"empty object"):r.every(d=>!isNaN(Number(d)))?new Wo(s,"string"):new Q1(s);const l=r[0],u=t[l];let c;if(u instanceof Ad)c=new Hr(u,l);else if(u instanceof ot){const d=u._getQuery();if(!d.from)throw new X1(s);c=new yn(d,l)}else throw new F1(l);return[l,c]}from(t){const[,s]=this._createRefForSource(t,"from clause");return new ot({...this.query,from:s})}join(t,s,r="left"){const[l,u]=this._createRefForSource(t,"join clause"),d=[...this._getCurrentAliases(),l],p=_s(d),m=s(p);let g,y;if(m.type==="func"&&m.name==="eq"&&m.args.length===2)g=m.args[0],y=m.args[1];else throw new P1;const w={from:u,type:r,left:g,right:y},S=this.query.join||[];return new ot({...this.query,join:[...S,w]})}leftJoin(t,s){return this.join(t,s,"left")}rightJoin(t,s){return this.join(t,s,"right")}innerJoin(t,s){return this.join(t,s,"inner")}fullJoin(t,s){return this.join(t,s,"full")}where(t){const s=this._getCurrentAliases(),r=_s(s),l=t(r);if(!Wa(l))throw new mv(Zv(l));const u=this.query.where||[];return new ot({...this.query,where:[...u,l]})}having(t){const s=this._getCurrentAliases(),r=this.query.select?Dv(s):_s(s),l=t(r);if(!Wa(l))throw new mv(Zv(l));const u=this.query.having||[];return new ot({...this.query,having:[...u,l]})}select(t){const s=this._getCurrentAliases(),r=_s(s),l=t(r),u=lS(l);return new ot({...this.query,select:u,fnSelect:void 0})}orderBy(t,s="asc"){const r=this._getCurrentAliases(),l=this.query.select?Dv(r):_s(r),u=t(l),c=typeof s=="string"?{direction:s,nulls:"first"}:{direction:s.direction??"asc",nulls:s.nulls??"first",stringSort:s.stringSort,locale:s.stringSort==="locale"?s.locale:void 0,localeOptions:s.stringSort==="locale"?s.localeOptions:void 0},d=g=>({expression:ut(g),compareOptions:c}),p=Array.isArray(u)?u.map(g=>d(g)):[d(u)],m=this.query.orderBy||[];return new ot({...this.query,orderBy:[...m,...p]})}groupBy(t){const s=this._getCurrentAliases(),r=_s(s),l=t(r),u=Array.isArray(l)?l.map(d=>ut(d)):[ut(l)],c=this.query.groupBy||[];return new ot({...this.query,groupBy:[...c,...u]})}limit(t){return new ot({...this.query,limit:t})}offset(t){return new ot({...this.query,offset:t})}distinct(){return new ot({...this.query,distinct:!0})}findOne(){return new ot({...this.query,singleResult:!0})}_getCurrentAliases(){const t=[];if(this.query.from&&t.push(this.query.from.alias),this.query.join)for(const s of this.query.join)t.push(s.from.alias);return t}get fn(){const t=this;return{select(s){return new ot({...t.query,select:void 0,fnSelect:s})},where(s){return new ot({...t.query,fnWhere:[...t.query.fnWhere||[],s]})},having(s){return new ot({...t.query,fnHaving:[...t.query.fnHaving||[],s]})}}}_getQuery(){if(!this.query.from)throw new W1;return this.query}}function Zv(n){return n===null?"null":n===void 0?"undefined":typeof n=="object"?"object":typeof n}function iz(n){return n===void 0?ut(null):n instanceof I0||n instanceof Sn||n instanceof jt||n instanceof Kt?n:ut(n)}function sz(n){return n!==null&&typeof n=="object"&&!Wa(n)&&!n.__refProxy}function lS(n){if(!sz(n))return iz(n);const t={};for(const[s,r]of Object.entries(n)){if(typeof s=="string"&&s.startsWith("__SPREAD_SENTINEL__")){t[s]=r;continue}t[s]=lS(r)}return t}function rz(n){const t=n(new ot);return oS(t)}function oS(n){return n._getQuery()}function az(n){const t=lz(n);let s=n,r,l=0;const u=10;for(;l<u&&!Bn(s,r);)r=s,s=Gh(s),l++;return{optimizedQuery:uS(s),sourceWhereClauses:t}}function lz(n){const t=new Map;if(!n.where||n.where.length===0)return t;const r=Jh(n.where).map(u=>cS(u)),l=fS(r);for(const[u,c]of l.singleSource)oz(n,u)&&t.set(u,c);return t}function oz(n,t){if(n.from.alias===t)return n.from.type==="collectionRef";if(n.join){for(const s of n.join)if(s.from.alias===t)return s.from.type==="collectionRef"}return!1}function Gh(n){var s;const t={...n,from:n.from.type==="queryRef"?new yn(Gh(n.from.query),n.from.alias):n.from,join:(s=n.join)==null?void 0:s.map(r=>({...r,from:r.from.type==="queryRef"?new yn(Gh(r.from.query),r.from.alias):r.from}))};return uz(t)}function uz(n){if(!n.where||n.where.length===0)return n;if(!n.join||n.join.length===0){if(n.where.length>1){const d=Jh(n.where),p=Cu(d);return{...n,where:[p]}}return n}const t=n.where.filter(d=>!cv(d)),r=Jh(t).map(d=>cS(d)),l=fS(r),u=fz(n,l),c=n.where.filter(d=>cv(d));return c.length>0&&(u.where=[...u.where||[],...c]),u}function uS(n){var t;return{...n,from:Yh(n.from),join:(t=n.join)==null?void 0:t.map(s=>({...s,from:Yh(s.from)}))}}function Yh(n){if(n.type==="collectionRef")return n;const t=uS(n.query);if(cz(t)){const s=Yh(t.from);return s.type==="collectionRef"?new Hr(s.collection,n.alias):new yn(s.query,n.alias)}return new yn(t,n.alias)}function cz(n){return(!n.where||n.where.length===0)&&!n.select&&(!n.groupBy||n.groupBy.length===0)&&(!n.having||n.having.length===0)&&(!n.orderBy||n.orderBy.length===0)&&(!n.join||n.join.length===0)&&n.limit===void 0&&n.offset===void 0&&!n.fnSelect&&(!n.fnWhere||n.fnWhere.length===0)&&(!n.fnHaving||n.fnHaving.length===0)}function Jh(n){const t=[];for(const s of n){const r=vd(s);t.push(...Md(r))}return t}function Md(n){if(n.type==="func"&&n.name==="and"){const t=[];for(const s of n.args)t.push(...Md(s));return t}else return[n]}function cS(n){const t=new Set;let s=!1;function r(l){switch(l.type){case"ref":if(l.path&&l.path.length>0){const u=l.path[0];u&&(t.add(u),l.path.length===1&&(s=!0))}break;case"func":l.args&&l.args.forEach(r);break;case"val":break;case"agg":l.args&&l.args.forEach(r);break}}return r(n),{expression:n,touchedSources:t,hasNamespaceOnlyRef:s}}function fS(n){const t=new Map,s=[];for(const u of n)if(u.touchedSources.size===1&&!u.hasNamespaceOnlyRef){const c=Array.from(u.touchedSources)[0];t.has(c)||t.set(c,[]),t.get(c).push(u.expression)}else(u.touchedSources.size>1||u.hasNamespaceOnlyRef)&&s.push(u.expression);const r=new Map;for(const[u,c]of t)r.set(u,Cu(c));const l=s.length>0?Cu(s):void 0;return{singleSource:r,multiSource:l}}function fz(n,t){const s=new Set,r=$v(n.from,t.singleSource,s),l=n.join?n.join.map(m=>({...m,from:$v(m.from,t.singleSource,s)})):void 0,u=[];t.multiSource&&u.push(t.multiSource);const c=n.join&&n.join.some(m=>m.type==="left"||m.type==="right"||m.type==="full");for(const[m,g]of t.singleSource)s.has(m)?c&&u.push(b1(g)):u.push(g);const d=u.length>1?[Cu(u.flatMap(m=>Md(vd(m))))]:u;return{select:n.select,groupBy:n.groupBy?[...n.groupBy]:void 0,having:n.having?[...n.having]:void 0,orderBy:n.orderBy?[...n.orderBy]:void 0,limit:n.limit,offset:n.offset,distinct:n.distinct,fnSelect:n.fnSelect,fnWhere:n.fnWhere?[...n.fnWhere]:void 0,fnHaving:n.fnHaving?[...n.fnHaving]:void 0,from:r,join:l,where:d.length>0?d:[]}}function Er(n){return{from:n.from.type==="collectionRef"?new Hr(n.from.collection,n.from.alias):new yn(Er(n.from.query),n.from.alias),select:n.select,join:n.join?n.join.map(t=>({type:t.type,left:t.left,right:t.right,from:t.from.type==="collectionRef"?new Hr(t.from.collection,t.from.alias):new yn(Er(t.from.query),t.from.alias)})):void 0,where:n.where?[...n.where]:void 0,groupBy:n.groupBy?[...n.groupBy]:void 0,having:n.having?[...n.having]:void 0,orderBy:n.orderBy?[...n.orderBy]:void 0,limit:n.limit,offset:n.offset,fnSelect:n.fnSelect,fnWhere:n.fnWhere?[...n.fnWhere]:void 0,fnHaving:n.fnHaving?[...n.fnHaving]:void 0}}function $v(n,t,s){const r=t.get(n.alias);if(!r)return n.type==="collectionRef"?new Hr(n.collection,n.alias):new yn(Er(n.query),n.alias);if(n.type==="collectionRef"){const c={from:new Hr(n.collection,n.alias),where:[r]};return s.add(n.alias),new yn(c,n.alias)}if(!gz(n.query,r,n.alias))return new yn(Er(n.query),n.alias);if(Sz(n.query,r,n.alias))return new yn(Er(n.query),n.alias);const l=n.query.where||[],u={...Er(n.query),where:[...l,r]};return s.add(n.alias),new yn(u,n.alias)}function hz(n,t,s){return n.select?hS(n.select)||vz(n.select,t,s):!1}function dz(n){return n.groupBy&&n.groupBy.length>0}function pz(n){return n.having&&n.having.length>0}function mz(n){return n.orderBy&&n.orderBy.length>0&&(n.limit!==void 0||n.offset!==void 0)}function yz(n){return n.fnSelect||n.fnWhere&&n.fnWhere.length>0||n.fnHaving&&n.fnHaving.length>0}function gz(n,t,s){return!(hz(n,t,s)||dz(n)||pz(n)||mz(n)||yz(n))}function hS(n){for(const t of Object.values(n))if(typeof t=="object"){const s=t;if(s.type==="agg"||!("type"in s)&&hS(s))return!0}return!1}function Dd(n){const t=[];if(n==null||typeof n!="object")return t;switch(n.type){case"ref":t.push(n);break;case"func":case"agg":for(const s of n.args??[])t.push(...Dd(s));break}return t}function vz(n,t,s){const r=new Set;for(const[u,c]of Object.entries(n))u.startsWith("__SPREAD_SENTINEL__")||c instanceof jt||r.add(u);const l=Dd(t);for(const u of l){const c=u.path;if(!Array.isArray(c)||c.length<2)continue;const d=c[0],p=c[1];if(d===s&&r.has(p))return!0}return!1}function Sz(n,t,s){const r=Dd(t);if(r.every(u=>u.path[0]!==s))return!1;if(n.fnSelect)return!0;const l=n.select;if(!l)return!1;for(const u of r){const c=u.path;if(c.length<2||c[0]!==s)continue;const d=l[c[1]];if(!d)continue;if(!(d instanceof jt)||d.path.length<2)return!0;const[p,m]=d.path;if(p!==s&&p!==n.from.alias||m!==c[1])return!0}return!1}function Cu(n){if(n.length===0)throw new bx;return n.length===1?n[0]:new Sn("and",n)}function bz(n,t,s,r,l,u,c,d,p,m,g,y,w,S,b,E,O,M){let L=n;for(const N of t)L=wz(L,N,s,r,l,u,c,d,p,m,g,y,w,S,b,E,O,M);return L}function wz(n,t,s,r,l,u,c,d,p,m,g,y,w,S,b,E,O,M){const L=t.from.type==="collectionRef",{alias:N,input:K,collectionId:F}=Ez(t.from,u,p,m,g,y,w,S,c,d,E,O,M);s[N]=K,L&&(O[N]=F);const P=p[r],J=p[F];if(!P)throw new yv(r);if(!J)throw new yv(F);const{activeSource:te,lazySource:W}=Tz(t.type,P,J),le=Object.keys(s),{mainExpr:ie,joinedExpr:he}=_z(t.left,t.right,le,N),ve=Vt(ie),xt=Vt(he);let at=n.pipe(kt(([Q,oe])=>[ve(oe),[Q,oe]])),B=K.pipe(kt(([Q,oe])=>{const Te={[N]:oe};return[xt(Te),[Q,Te]]}));if(!["inner","left","right","full"].includes(t.type))throw new ox(t.type);if(te){const Q=te==="main"?t.from:b.from,oe=Q.type==="queryRef"&&(Q.query.limit||Q.query.offset),Te=ie.type==="func"||he.type==="func";if(!oe&&!Te){const Oe=te==="main"?N:l;y.add(Oe);const R=te==="main"?at:B,X=el(b,te==="main"?he:ie,W),re=X.collection,de=X.path[0];de&&$u(de,X.path,re);const ge=R.pipe(MT(ze=>{const ct=M[Oe]||Oe,Le=m[ct];if(!Le)throw new wx(ct,Oe,W.id,Object.keys(m));if(Le.hasLoadedInitialState())return;const ns=ze.getInner().map(([[kl]])=>kl),Bs=new jt(X.path);Le.requestSnapshot({where:iO(Bs,ns),optimizedOnly:!0})||Le.requestSnapshot()}));te==="main"?at=ge:B=ge}}return at.pipe(LT(B,t.type),xz(t.type))}function _z(n,t,s,r){const l=s.filter(d=>d!==r),u=Qh(n),c=Qh(t);if(u&&l.includes(u)&&c===r)return{mainExpr:n,joinedExpr:t};if(u===r&&c&&l.includes(c))return{mainExpr:t,joinedExpr:n};throw!u||!c?new cx:u===c?new ux(u):l.includes(u)?c!==r?new hx(r):new dx:new fx(u)}function Qh(n){switch(n.type){case"ref":return n.path[0]||null;case"func":{const t=new Set;for(const s of n.args){const r=Qh(s);r&&t.add(r)}return t.size===1?Array.from(t)[0]:null}default:return null}}function Ez(n,t,s,r,l,u,c,d,p,m,g,y,w){switch(n.type){case"collectionRef":{const S=t[n.alias];if(!S)throw new K0(n.alias,n.collection.id,Object.keys(t));return y[n.alias]=n.collection.id,{alias:n.alias,input:S,collectionId:n.collection.id}}case"queryRef":{const S=m.get(n.query)||n.query,b=g(S,t,s,r,l,u,c,d,p,m);Object.assign(y,b.aliasToCollectionId),Object.assign(w,b.aliasRemapping);const E=Object.keys(b.aliasToCollectionId).find(L=>b.aliasToCollectionId[L]===b.collectionId);E&&E!==n.alias&&(w[n.alias]=E);const M=b.pipeline.pipe(kt(L=>{const[N,[K,F]]=L;return[N,K]}));return{alias:n.alias,input:M,collectionId:b.collectionId}}default:throw new px(n.type)}}function xz(n){return function(t){return t.pipe(Xi(s=>{const[r,[l,u]]=s,c=l==null?void 0:l[1],d=u==null?void 0:u[1];return n==="inner"?!!(c&&d):n==="left"?!!c:n==="right"?!!d:!0}),kt(s=>{const[r,[l,u]]=s,c=l==null?void 0:l[0],d=l==null?void 0:l[1],p=u==null?void 0:u[0],m=u==null?void 0:u[1],g={};return d&&Object.assign(g,d),m&&Object.assign(g,m),[`[${c},${p}]`,g]}))}}function Tz(n,t,s){switch(n){case"left":return{activeSource:"main",lazySource:s};case"right":return{activeSource:"joined",lazySource:t};case"inner":return t.size<s.size?{activeSource:"main",lazySource:s}:{activeSource:"joined",lazySource:t};default:return{activeSource:void 0,lazySource:void 0}}}function Xh(n){return n instanceof Kt?n.value:n}function Oz(n,t,s){const r=n.source(t);if(r&&typeof r=="object"){let l=s;const u=n.targetPath;if(u.length===0)for(const[c,d]of Object.entries(r))s[c]=Xh(d);else for(let c=0;c<u.length;c++){const d=u[c];if(c===u.length-1){const p=l[d]??(l[d]={});if(typeof p=="object")for(const[m,g]of Object.entries(r))p[m]=Xh(g)}else{const p=l[d];(p==null||typeof p!="object")&&(l[d]={}),l=l[d]}}}}function zz(n,t,s){const r=n.alias.split(".");if(r.length===1)s[n.alias]=n.compiled(t);else{let l=s;for(let u=0;u<r.length-1;u++){const c=r[u],d=l[c];(d==null||typeof d!="object")&&(l[c]={}),l=l[c]}l[r[r.length-1]]=Xh(n.compiled(t))}}function Rz([n,t],s){const r={};for(const l of s)l.kind==="merge"?Oz(l,t,r):zz(l,t,r);return[n,{...t,$selected:r}]}function Cz(n,t,s){const r=[];return dS([],t,r),n.pipe(kt(l=>Rz(l,r)))}function Az(n){return n.type==="agg"}function Mz(n){return n&&typeof n=="object"&&!Wa(n)}function dS(n,t,s){for(const[r,l]of Object.entries(t)){if(r.startsWith("__SPREAD_SENTINEL__")){const c=r.slice(19),d=c.lastIndexOf("__"),p=d>=0?c.slice(0,d):c,m=l&&typeof l=="object"&&"type"in l&&l.type==="ref";if(p.includes(".")||m){const g=[...n],y=m?l:new jt(p.split(".")),w=Vt(y);s.push({kind:"merge",targetPath:g,source:w})}else{const g=p,y=[...n];s.push({kind:"merge",targetPath:y,source:w=>w[g]})}continue}const u=l;if(Mz(u)){dS([...n,r],u,s);continue}if(Az(u))s.push({kind:"field",alias:[...n,r].join("."),compiled:()=>null});else{if(u===void 0||!Wa(u)){s.push({kind:"field",alias:[...n,r].join("."),compiled:()=>u});continue}if(u instanceof Kt){const c=u.value;s.push({kind:"field",alias:[...n,r].join("."),compiled:()=>c})}else s.push({kind:"field",alias:[...n,r].join("."),compiled:Vt(u)})}}}function kd(n,t,s,r,l,u,c,d,p=new WeakMap,m=new WeakMap){const g=p.get(n);if(g)return g;Fh(n);const{optimizedQuery:y,sourceWhereClauses:w}=az(n);m.set(y,n),Wh(y,n,m);const S={...t},b={},E={},O={},{alias:M,input:L,collectionId:N}=kz(y.from,S,s,r,l,u,c,d,p,m,b,E);O[M]=L;let K=L.pipe(kt(([te,W])=>[te,{[M]:W}]));if(y.join&&y.join.length>0&&(K=bz(K,y.join,O,N,M,S,p,m,s,r,l,u,c,d,n,kd,b,E)),y.where&&y.where.length>0)for(const te of y.where){const W=vd(te),le=Vt(W);K=K.pipe(Xi(([ie,he])=>Tr(le(he))))}if(y.fnWhere&&y.fnWhere.length>0)for(const te of y.fnWhere)K=K.pipe(Xi(([W,le])=>Tr(te(le))));if(y.distinct&&!y.fnSelect&&!y.select)throw new ex;if(y.fnSelect?K=K.pipe(kt(([te,W])=>{const le=y.fnSelect(W);return[te,{...W,$selected:le}]})):y.select?K=Cz(K,y.select):K=K.pipe(kt(([te,W])=>{const le=!y.join&&!y.groupBy?W[M]:W;return[te,{...W,$selected:le}]})),y.groupBy&&y.groupBy.length>0?K=Nv(K,y.groupBy,y.having,y.select,y.fnHaving):y.select&&Object.values(y.select).some(W=>W.type==="agg")&&(K=Nv(K,[],y.having,y.select,y.fnHaving)),y.having&&(!y.groupBy||y.groupBy.length===0)&&!(y.select?Object.values(y.select).some(W=>W.type==="agg"):!1))throw new tx;if(y.fnHaving&&y.fnHaving.length>0&&(!y.groupBy||y.groupBy.length===0))for(const te of y.fnHaving)K=K.pipe(Xi(([W,le])=>te(le)));if(y.distinct&&(K=K.pipe(ZT(([te,W])=>W.$selected))),y.orderBy&&y.orderBy.length>0){const le=pO(n,K,y.orderBy,y.select||{},s[N],c,d,y.limit,y.offset).pipe(kt(([he,[ve,xt]])=>{const at=ve.$selected,B=Ph(at);return[he,[B,xt]]})),ie={collectionId:N,pipeline:le,sourceWhereClauses:w,aliasToCollectionId:b,aliasRemapping:E};return p.set(n,ie),ie}else if(y.limit!==void 0||y.offset!==void 0)throw new nx;const P=K.pipe(kt(([te,W])=>{const le=W.$selected,ie=Ph(le);return[te,[ie,void 0]]})),J={collectionId:N,pipeline:P,sourceWhereClauses:w,aliasToCollectionId:b,aliasRemapping:E};return p.set(n,J),J}function Dz(n){const t=new Set;if(n.from.type==="collectionRef"&&t.add(n.from.alias),n.join)for(const s of n.join)s.from.type==="collectionRef"&&t.add(s.from.alias);return t}function Fh(n,t=new Set){const s=Dz(n);for(const l of s)if(t.has(l))throw new ix(l,Array.from(t));const r=new Set([...t,...s]);if(n.from.type==="queryRef"&&Fh(n.from.query,r),n.join)for(const l of n.join)l.from.type==="queryRef"&&Fh(l.from.query,r)}function kz(n,t,s,r,l,u,c,d,p,m,g,y){switch(n.type){case"collectionRef":{const w=t[n.alias];if(!w)throw new K0(n.alias,n.collection.id,Object.keys(t));return g[n.alias]=n.collection.id,{alias:n.alias,input:w,collectionId:n.collection.id}}case"queryRef":{const w=m.get(n.query)||n.query,S=kd(w,t,s,r,l,u,c,d,p,m);Object.assign(g,S.aliasToCollectionId),Object.assign(y,S.aliasRemapping);const b=Object.keys(S.aliasToCollectionId).find(M=>S.aliasToCollectionId[M]===S.collectionId);b&&b!==n.alias&&(y[n.alias]=b);const O=S.pipeline.pipe(kt(M=>{const[L,[N,K]]=M,F=Ph(N);return[L,F]}));return{alias:n.alias,input:O,collectionId:S.collectionId}}default:throw new sx(n.type)}}function Nz(n){return n instanceof Kt||n&&typeof n=="object"&&"type"in n&&n.type==="val"}function Ph(n){return Nz(n)?n.value:n}function Wh(n,t,s){if(n.from.type==="queryRef"&&t.from.type==="queryRef"&&(s.set(n.from.query,t.from.query),Wh(n.from.query,t.from.query,s)),n.join&&t.join)for(let r=0;r<n.join.length&&r<t.join.length;r++){const l=n.join[r],u=t.join[r];l.from.type==="queryRef"&&u.from.type==="queryRef"&&(s.set(l.from.query,u.from.query),Wh(l.from.query,u.from.query,s))}}function Nd(n,t){const s=n.type;if(s==="val")return new Kt(n.value);if(s==="ref"){const r=n.path;if(Array.isArray(r)){if(r[0]===t&&r.length>1)return new jt(r.slice(1));if(r.length===1&&r[0]!==void 0)return new jt([r[0]])}return new jt(Array.isArray(r)?r:[String(r)])}else{const r=[];for(const l of n.args){const u=Nd(l,t);r.push(u)}return new Sn(n.name,r)}}function qv(n,t){return n.map(r=>{const l=Nd(r.expression,t);return{...r,expression:l}})}const tu=Symbol.for("@tanstack/db.collection-config-builder");class jz{constructor(t,s,r,l){this.alias=t,this.collectionId=s,this.collection=r,this.collectionConfigBuilder=l,this.biggest=void 0,this.subscriptionLoadingPromises=new Map,this.sentToD2Keys=new Set}subscribe(){const t=this.getWhereClauseForAlias();if(t){const s=Nd(t,this.alias);return this.subscribeToChanges(s)}return this.subscribeToChanges()}subscribeToChanges(t){const s=this.getOrderByInfo(),r=d=>{if(!this.subscriptionLoadingPromises.has(d)){let p;const m=new Promise(g=>{p=g});this.subscriptionLoadingPromises.set(d,{resolve:p}),this.collectionConfigBuilder.liveQueryCollection._sync.trackLoadPromise(m)}},l=d=>{const p=d.subscription;if(d.status==="loadingSubset")r(p);else{const m=this.subscriptionLoadingPromises.get(p);m&&(this.subscriptionLoadingPromises.delete(p),m.resolve())}};let u;if(s)u=this.subscribeToOrderedChanges(t,s,l);else{const d=!this.collectionConfigBuilder.isLazyAlias(this.alias);u=this.subscribeToMatchingChanges(t,d,l)}u.status==="loadingSubset"&&r(u);const c=()=>{const d=this.subscriptionLoadingPromises.get(u);d&&(this.subscriptionLoadingPromises.delete(u),d.resolve()),u.unsubscribe()};return this.collectionConfigBuilder.currentSyncState.unsubscribeCallbacks.add(c),u}sendChangesToPipeline(t,s){const r=Array.isArray(t)?t:[...t],l=[];for(const p of r){if(p.type==="insert"){if(this.sentToD2Keys.has(p.key))continue;this.sentToD2Keys.add(p.key)}else p.type==="delete"&&this.sentToD2Keys.delete(p.key);l.push(p)}const u=this.collectionConfigBuilder.currentSyncState.inputs[this.alias],d=Uz(u,l,this.collection.config.getKey)>0?s:void 0;this.collectionConfigBuilder.scheduleGraphRun(d,{alias:this.alias})}subscribeToMatchingChanges(t,s,r){const l=c=>{this.sendChangesToPipeline(c)};return this.collection.subscribeChanges(l,{...s&&{includeInitialState:s},whereExpression:t,onStatusChange:r})}subscribeToOrderedChanges(t,s,r){const{orderBy:l,offset:u,limit:c,index:d}=s,p={},m=S=>{const b=Bz(S);this.sendChangesToPipelineWithTracking(b,p.current)},g=this.collection.subscribeChanges(m,{whereExpression:t,onStatusChange:r});p.current=g;const y=this.collection.on("truncate",()=>{this.biggest=void 0,this.sentToD2Keys.clear()});g.on("unsubscribed",()=>{y()});const w=qv(l,this.alias);return d?(g.setOrderByIndex(d),g.requestLimitedSnapshot({limit:u+c,orderBy:w})):g.requestSnapshot({orderBy:w,limit:u+c}),g}loadMoreIfNeeded(t){const s=this.getOrderByInfo();if(!s)return!0;const{dataNeeded:r}=s;if(!r)return!0;const l=r();return l>0&&this.loadNextItems(l,t),!0}sendChangesToPipelineWithTracking(t,s){const r=this.getOrderByInfo();if(!r){this.sendChangesToPipeline(t);return}const l=this.trackSentValues(t,r.comparator),u=s;u[tu]??(u[tu]=this.loadMoreIfNeeded.bind(this,s)),this.sendChangesToPipeline(l,u[tu])}loadNextItems(t,s){const r=this.getOrderByInfo();if(!r)return;const{orderBy:l,valueExtractorForRawRow:u,offset:c}=r,d=this.biggest,p=d?u(d):void 0,m=p!==void 0?Array.isArray(p)?p:[p]:void 0,g=qv(l,this.alias);s.requestLimitedSnapshot({orderBy:g,limit:t,minValues:m,offset:c})}getWhereClauseForAlias(){const t=this.collectionConfigBuilder.sourceWhereClausesCache;if(t)return t.get(this.alias)}getOrderByInfo(){const t=this.collectionConfigBuilder.optimizableOrderByCollections[this.collectionId];if(t&&t.alias===this.alias)return t}*trackSentValues(t,s){for(const r of t)r.type!=="delete"&&(this.biggest?s(this.biggest,r.value)<0&&(this.biggest=r.value):this.biggest=r.value),yield r}}function Uz(n,t,s){const r=[];for(const l of t){const u=s(l.value);l.type==="insert"?r.push([[u,l.value],1]):l.type==="update"?(r.push([[u,l.previousValue],-1]),r.push([[u,l.value],1])):r.push([[u,l.value],-1])}return r.length!==0&&n.sendData(new vn(r)),r.length}function*Bz(n){for(const t of n)t.type==="update"?(yield{type:"delete",key:t.key,value:t.previousValue},yield{type:"insert",key:t.key,value:t.value}):yield t}const pS=new WeakMap;function Lz(n){var t,s,r;return(r=(s=(t=n.utils)==null?void 0:t[zd])==null?void 0:s.getBuilder)==null?void 0:r.call(s)}function Hz(n,t){pS.set(n,t)}function Zz(n){return pS.get(n)}let $z=0;class qz{constructor(t){this.config=t,this.compiledAliasToCollectionId={},this.resultKeys=new WeakMap,this.orderByIndices=new WeakMap,this.isGraphRunning=!1,this.runCount=0,this.isInErrorState=!1,this.aliasDependencies={},this.builderDependencies=new Set,this.pendingGraphRuns=new Map,this.subscriptions={},this.lazySourcesCallbacks={},this.lazySources=new Set,this.optimizableOrderByCollections={},this.id=t.id||`live-query-${++$z}`,this.query=Iz(t),this.collections=Vz(this.query);const s=Gz(this.query);this.collectionByAlias={};for(const[r,l]of s.entries()){const u=this.collections[r];if(u)for(const c of l)this.collectionByAlias[c]=u}this.query.orderBy&&this.query.orderBy.length>0&&(this.compare=Kz(this.orderByIndices)),this.compareOptions=this.config.defaultStringCollation??mS(this.query).compareOptions,this.compileBasePipeline()}hasJoins(t){return!!(t.join&&t.join.length>0||t.from.type==="queryRef"&&this.hasJoins(t.from.query))}getConfig(){return{id:this.id,getKey:this.config.getKey||(t=>this.resultKeys.get(t)),sync:this.getSyncConfig(),compare:this.compare,defaultStringCollation:this.compareOptions,gcTime:this.config.gcTime||5e3,schema:this.config.schema,onInsert:this.config.onInsert,onUpdate:this.config.onUpdate,onDelete:this.config.onDelete,startSync:this.config.startSync,singleResult:this.query.singleResult,utils:{getRunCount:this.getRunCount.bind(this),setWindow:this.setWindow.bind(this),getWindow:this.getWindow.bind(this),[zd]:{getBuilder:()=>this,hasCustomGetKey:!!this.config.getKey,hasJoins:this.hasJoins(this.query)}}}}setWindow(t){var s,r;if(!this.windowFn)throw new Ex;return this.currentWindow=t,this.windowFn(t),(s=this.maybeRunGraphFn)==null||s.call(this),(r=this.liveQueryCollection)!=null&&r.isLoadingSubset?new Promise(l=>{const u=this.liveQueryCollection.on("loadingSubset:change",c=>{c.isLoadingSubset||(u(),l())})}):!0}getWindow(){if(!(!this.windowFn||!this.currentWindow))return{offset:this.currentWindow.offset??0,limit:this.currentWindow.limit??0}}getCollectionIdForAlias(t){const s=this.compiledAliasToCollectionId[t];if(s)return s;const r=this.collectionByAlias[t];if(r)return r.id;throw new Error(`Unknown source alias "${t}"`)}isLazyAlias(t){return this.lazySources.has(t)}maybeRunGraph(t){var s;if(!this.isGraphRunning){if(!this.currentSyncConfig||!this.currentSyncState)throw new Error("maybeRunGraph called without active sync session. This should not happen.");this.isGraphRunning=!0;try{const{begin:r,commit:l}=this.currentSyncConfig,u=this.currentSyncState;if(this.isInErrorState)return;if(u.subscribedToAllCollections){for(;u.graph.pendingWork();)u.graph.run(),(s=u.flushPendingChanges)==null||s.call(u),t==null||t();u.messagesCount===0&&(r(),l()),this.updateLiveQueryStatus(this.currentSyncConfig)}}finally{this.isGraphRunning=!1}}}scheduleGraphRun(t,s){var p;const r=(s==null?void 0:s.contextId)??((p=du())==null?void 0:p.id),l=(s==null?void 0:s.jobId)??this,u=(()=>{if(s!=null&&s.dependencies)return s.dependencies;const m=new Set(this.builderDependencies);if(s!=null&&s.alias){const g=this.aliasDependencies[s.alias];if(g)for(const y of g)m.add(y)}return m.delete(this),Array.from(m)})();if(r)for(const m of u)typeof m.scheduleGraphRun=="function"&&m.scheduleGraphRun(void 0,{contextId:r});if(!this.currentSyncConfig||!this.currentSyncState)throw new Error("scheduleGraphRun called without active sync session. This should not happen.");let c=r?this.pendingGraphRuns.get(r):void 0;c||(c={loadCallbacks:new Set},r&&this.pendingGraphRuns.set(r,c)),t&&c.loadCallbacks.add(t);const d=r?void 0:c;zu.schedule({contextId:r,jobId:l,dependencies:u,run:()=>this.executeGraphRun(r,d)})}clearPendingGraphRun(t){this.pendingGraphRuns.delete(t)}hasPendingGraphRun(t){return this.pendingGraphRuns.has(t)}executeGraphRun(t,s){const r=s??(t?this.pendingGraphRuns.get(t):void 0);if(t&&this.pendingGraphRuns.delete(t),!r||!this.currentSyncConfig||!this.currentSyncState)return;this.incrementRunCount();const l=()=>{let u=!0,c;if(r.loadCallbacks.forEach(d=>{try{u=d()&&u}catch(p){u=!1,c??(c=p)}}),c)throw c;return u};this.maybeRunGraph(l)}getSyncConfig(){return{rowUpdateMode:"full",sync:this.syncFn.bind(this)}}incrementRunCount(){this.runCount++}getRunCount(){return this.runCount}syncFn(t){this.liveQueryCollection=t.collection,this.currentSyncConfig=t;const s={messagesCount:0,subscribedToAllCollections:!1,unsubscribeCallbacks:new Set},r=this.extendPipelineWithChangeProcessing(t,s);this.currentSyncState=r,this.unsubscribeFromSchedulerClears=zu.onClear(c=>{this.clearPendingGraphRun(c)});const l=t.collection.on("loadingSubset:change",c=>{c.isLoadingSubset||this.updateLiveQueryStatus(t)});s.unsubscribeCallbacks.add(l);const u=this.subscribeToAllCollections(t,r);return this.maybeRunGraphFn=()=>this.scheduleGraphRun(u),this.scheduleGraphRun(u),()=>{var c;s.unsubscribeCallbacks.forEach(d=>d()),this.currentSyncConfig=void 0,this.currentSyncState=void 0,this.pendingGraphRuns.clear(),this.graphCache=void 0,this.inputsCache=void 0,this.pipelineCache=void 0,this.sourceWhereClausesCache=void 0,this.lazySources.clear(),this.optimizableOrderByCollections={},this.lazySourcesCallbacks={},Object.keys(this.subscriptions).forEach(d=>delete this.subscriptions[d]),this.compiledAliasToCollectionId={},(c=this.unsubscribeFromSchedulerClears)==null||c.call(this),this.unsubscribeFromSchedulerClears=void 0}}compileBasePipeline(){this.graphCache=new ST,this.inputsCache=Object.fromEntries(Object.keys(this.collectionByAlias).map(r=>[r,this.graphCache.newInput()]));const t=kd(this.query,this.inputsCache,this.collections,this.subscriptions,this.lazySourcesCallbacks,this.lazySources,this.optimizableOrderByCollections,r=>{this.windowFn=r});this.pipelineCache=t.pipeline,this.sourceWhereClausesCache=t.sourceWhereClauses,this.compiledAliasToCollectionId=t.aliasToCollectionId;const s=Object.keys(this.compiledAliasToCollectionId).filter(r=>!Object.hasOwn(this.inputsCache,r));if(s.length>0)throw new _x(s)}maybeCompileBasePipeline(){return(!this.graphCache||!this.inputsCache||!this.pipelineCache)&&this.compileBasePipeline(),{graph:this.graphCache,inputs:this.inputsCache,pipeline:this.pipelineCache}}extendPipelineWithChangeProcessing(t,s){const{begin:r,commit:l}=t,{graph:u,inputs:c,pipeline:d}=this.maybeCompileBasePipeline();let p=new Map;return d.pipe(NT(m=>{const g=m.getInner();s.messagesCount+=g.length,g.reduce(Yz,p)})),s.flushPendingChanges=()=>{p.size!==0&&(r(),p.forEach(this.applyChanges.bind(this,t)),l(),p=new Map)},u.finalize(),s.graph=u,s.inputs=c,s.pipeline=d,s}applyChanges(t,s,r){const{write:l,collection:u}=t,{deletes:c,inserts:d,value:p,orderByIndex:m}=s;if(this.resultKeys.set(p,r),m!==void 0&&this.orderByIndices.set(p,m),d&&c===0)l({value:p,type:"insert"});else if(d>c||d===c&&u.has(u.getKeyFromItem(p)))l({value:p,type:"update"});else if(c>0)l({value:p,type:"delete"});else throw new Error(`Could not apply changes: ${JSON.stringify(s)}. This should never happen.`)}handleSourceStatusChange(t,s,r){const{status:l}=r;if(l==="error"){this.transitionToError(`Source collection '${s}' entered error state`);return}if(l==="cleaned-up"){this.transitionToError(`Source collection '${s}' was manually cleaned up while live query '${this.id}' depends on it. Live queries prevent automatic GC, so this was likely a manual cleanup() call.`);return}this.updateLiveQueryStatus(t)}updateLiveQueryStatus(t){var r,l;const{markReady:s}=t;this.isInErrorState||(r=this.currentSyncState)!=null&&r.subscribedToAllCollections&&this.allCollectionsReady()&&!((l=this.liveQueryCollection)!=null&&l.isLoadingSubset)&&s()}transitionToError(t){var s;this.isInErrorState=!0,console.error(`[Live Query Error] ${t}`),(s=this.liveQueryCollection)==null||s._lifecycle.setStatus("error")}allCollectionsReady(){return Object.values(this.collections).every(t=>t.isReady())}subscribeToAllCollections(t,s){const r=Object.entries(this.compiledAliasToCollectionId);if(r.length===0)throw new Error(`Compiler returned no alias metadata for query '${this.id}'. This should not happen; please report.`);const l=r.map(([c,d])=>{const p=this.collectionByAlias[c]??this.collections[d],m=Zz(p);m&&m!==this?(this.aliasDependencies[c]=[m],this.builderDependencies.add(m)):this.aliasDependencies[c]=[];const g=new jz(c,d,p,this),y=p.on("status:change",b=>{this.handleSourceStatusChange(t,d,b)});s.unsubscribeCallbacks.add(y);const w=g.subscribe();return this.subscriptions[c]=w,g.loadMoreIfNeeded.bind(g,w)}),u=()=>(l.map(c=>c()),!0);return s.subscribedToAllCollections=!0,u}}function Iz(n){return typeof n.query=="function"?rz(n.query):oS(n.query)}function Kz(n){return(t,s)=>{const r=n.get(t),l=n.get(s);return r&&l?r<l?-1:r>l?1:0:0}}function Vz(n){const t={};function s(l){l.type==="collectionRef"?t[l.collection.id]=l.collection:l.type==="queryRef"&&r(l.query)}function r(l){if(l.from&&s(l.from),l.join&&Array.isArray(l.join))for(const u of l.join)u.from&&s(u.from)}return r(n),t}function mS(n){const t=n.from;if(t.type==="collectionRef")return t.collection;if(t.type==="queryRef")return mS(t.query);throw new Error(`Failed to extract collection. Invalid FROM clause: ${JSON.stringify(n)}`)}function Gz(n){const t=new Map;function s(l){if(l)if(l.type==="collectionRef"){const{id:u}=l.collection,c=t.get(u);c?c.add(l.alias):t.set(u,new Set([l.alias]))}else l.type==="queryRef"&&r(l.query)}function r(l){if(l&&(s(l.from),l.join))for(const u of l.join)s(u.from)}return r(n),t}function Yz(n,[[t,s],r]){const[l,u]=s,c=n.get(t)||{deletes:0,inserts:0,value:l,orderByIndex:u};return r<0?c.deletes+=Math.abs(r):r>0&&(c.inserts+=r,c.value=l,u!==void 0&&(c.orderByIndex=u)),n.set(t,c),n}function Iv(n){return new qz(n).getConfig()}function Rh(n){if(typeof n=="function"){const s=Iv({query:n});return Kv(s)}else{const t=n,s=Iv(t);return t.utils&&(s.utils={...s.utils,...t.utils}),Kv(s)}}function Kv(n){const t=rS(n),s=Lz(n);return s&&Hz(t,s),t}var nu={exports:{}},Ch,Vv;function Jz(){if(Vv)return Ch;Vv=1;function n(t){var s=new t,r=s;function l(){var c=s;return c.next?s=c.next:(s=new t,r=s),c.next=null,c}function u(c){r.next=c,r=c}return{get:l,release:u}}return Ch=n,Ch}var Gv;function Qz(){if(Gv)return nu.exports;Gv=1;var n=Jz();function t(u,c,d){if(typeof u=="function"&&(d=c,c=u,u=null),!(d>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");var p=n(r),m=null,g=null,y=0,w=null,S={push:K,drain:s,saturated:s,pause:E,paused:!1,get concurrency(){return d},set concurrency(ie){if(!(ie>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");if(d=ie,!S.paused)for(;m&&y<d;)y++,P()},running:b,resume:L,idle:N,length:O,getQueue:M,unshift:F,empty:s,kill:J,killAndDrain:te,error:le,abort:W};return S;function b(){return y}function E(){S.paused=!0}function O(){for(var ie=m,he=0;ie;)ie=ie.next,he++;return he}function M(){for(var ie=m,he=[];ie;)he.push(ie.value),ie=ie.next;return he}function L(){if(S.paused){if(S.paused=!1,m===null){y++,P();return}for(;m&&y<d;)y++,P()}}function N(){return y===0&&S.length()===0}function K(ie,he){var ve=p.get();ve.context=u,ve.release=P,ve.value=ie,ve.callback=he||s,ve.errorHandler=w,y>=d||S.paused?g?(g.next=ve,g=ve):(m=ve,g=ve,S.saturated()):(y++,c.call(u,ve.value,ve.worked))}function F(ie,he){var ve=p.get();ve.context=u,ve.release=P,ve.value=ie,ve.callback=he||s,ve.errorHandler=w,y>=d||S.paused?m?(ve.next=m,m=ve):(m=ve,g=ve,S.saturated()):(y++,c.call(u,ve.value,ve.worked))}function P(ie){ie&&p.release(ie);var he=m;he&&y<=d?S.paused?y--:(g===m&&(g=null),m=he.next,he.next=null,c.call(u,he.value,he.worked),g===null&&S.empty()):--y===0&&S.drain()}function J(){m=null,g=null,S.drain=s}function te(){m=null,g=null,S.drain(),S.drain=s}function W(){var ie=m;for(m=null,g=null;ie;){var he=ie.next,ve=ie.callback,xt=ie.errorHandler,at=ie.value,B=ie.context;ie.value=null,ie.callback=s,ie.errorHandler=null,xt&&xt(new Error("abort"),at),ve.call(B,new Error("abort")),ie.release(ie),ie=he}S.drain=s}function le(ie){w=ie}}function s(){}function r(){this.value=null,this.callback=s,this.next=null,this.release=s,this.context=null,this.errorHandler=null;var u=this;this.worked=function(d,p){var m=u.callback,g=u.errorHandler,y=u.value;u.value=null,u.callback=s,u.errorHandler&&g(d,y),m.call(u.context,d,p),u.release(u)}}function l(u,c,d){typeof u=="function"&&(d=c,c=u,u=null);function p(E,O){c.call(this,E).then(function(M){O(null,M)},O)}var m=t(u,p,d),g=m.push,y=m.unshift;return m.push=w,m.unshift=S,m.drained=b,m;function w(E){var O=new Promise(function(M,L){g(E,function(N,K){if(N){L(N);return}M(K)})});return O.catch(s),O}function S(E){var O=new Promise(function(M,L){y(E,function(N,K){if(N){L(N);return}M(K)})});return O.catch(s),O}function b(){var E=new Promise(function(O){process.nextTick(function(){if(m.idle())O();else{var M=m.drain;m.drain=function(){typeof M=="function"&&M(),O(),m.drain=M}}})});return E}}return nu.exports=t,nu.exports.promise=l,nu.exports}var Xz=Qz();const Fz=D_(Xz),Fa="Stream-Next-Offset",pu="Stream-Cursor",mu="Stream-Up-To-Date",Ah="Stream-Seq",Pz="Stream-TTL",Wz="Stream-Expires-At",Mh="offset",iu="live",eR=["text/","application/json"];var yu=class yS extends Error{constructor(s,r,l,u,c,d){super(d||`HTTP Error ${s} at ${c}: ${r??JSON.stringify(l)}`);He(this,"status");He(this,"text");He(this,"json");He(this,"headers");this.url=c,this.name="FetchError",this.status=s,this.text=r,this.json=l,this.headers=u}static async fromResponse(s,r){const l=s.status,u=Object.fromEntries([...s.headers.entries()]);let c,d;const p=s.headers.get("content-type");if(!s.bodyUsed)if(p&&p.includes("application/json"))try{d=await s.json()}catch{c=await s.text()}else c=await s.text();return new yS(l,c,d,u,r)}},jd=class extends Error{constructor(){super("Fetch with backoff aborted"),this.name="FetchBackoffAbortError"}},ci=class ed extends Error{constructor(s,r,l,u){super(s);He(this,"status");He(this,"code");He(this,"details");this.name="DurableStreamError",this.code=r,this.status=l,this.details=u}static async fromResponse(s,r){const l=s.status;let u;const c=s.headers.get("content-type");if(!s.bodyUsed)if(c&&c.includes("application/json"))try{u=await s.json()}catch{u=await s.text()}else u=await s.text();const d=Yv(l),p=`Durable stream error at ${r}: ${s.statusText||l}`;return new ed(p,d,l,u)}static fromFetchError(s){const r=Yv(s.status);return new ed(s.message,r,s.status,s.json??s.text)}};function Yv(n){switch(n){case 400:return"BAD_REQUEST";case 401:return"UNAUTHORIZED";case 403:return"FORBIDDEN";case 404:return"NOT_FOUND";case 409:return"CONFLICT_SEQ";case 429:return"RATE_LIMITED";case 503:return"BUSY";default:return"UNKNOWN"}}var tR=class extends Error{constructor(){super("Invalid stream options: missing required url parameter"),this.name="MissingStreamUrlError"}},nR=class extends Error{constructor(){super("Invalid signal option. It must be an instance of AbortSignal."),this.name="InvalidSignalError"}};const iR=[429,503],Ud={initialDelay:100,maxDelay:6e4,multiplier:1.3,maxRetries:1/0};function sR(n){if(!n)return 0;const t=Number(n);if(Number.isFinite(t)&&t>0)return t*1e3;const s=Date.parse(n);if(!isNaN(s)){const r=s-Date.now();return Math.max(0,Math.min(r,36e5))}return 0}function gS(n,t=Ud){const{initialDelay:s,maxDelay:r,multiplier:l,debug:u=!1,onFailedAttempt:c,maxRetries:d=1/0}=t;return async(...p)=>{var S;const m=p[0],g=p[1];let y=s,w=0;for(;;)try{const b=await n(...p);if(b.ok)return b;throw await yu.fromResponse(b,m.toString())}catch(b){if(c==null||c(),(S=g==null?void 0:g.signal)!=null&&S.aborted)throw new jd;if(b instanceof yu&&!iR.includes(b.status)&&b.status>=400&&b.status<500)throw b;{if(w++,w>d)throw u&&console.log(`Max retries reached (${w}/${d}), giving up`),b;const E=b instanceof yu?sR(b.headers["retry-after"]):0,O=Math.random()*y,M=Math.min(O,r),L=Math.max(E,M);if(u){const N=E>0?"server+client":"client";console.log(`Retry attempt #${w} after ${L}ms (${N}, serverMin=${E}ms, clientBackoff=${M}ms)`)}await new Promise(N=>setTimeout(N,L)),y=Math.min(y*l,r)}}}}const rR=[201,204,205];function aR(n){return async(...t)=>{var l,u;const s=t[0],r=await n(...t);try{if(r.status<200||rR.includes(r.status))return r;const c=await r.arrayBuffer();return new Response(c,{status:r.status,statusText:r.statusText,headers:r.headers})}catch(c){throw(u=(l=t[1])==null?void 0:l.signal)!=null&&u.aborted?new jd:new yu(r.status,void 0,void 0,Object.fromEntries([...r.headers.entries()]),s.toString(),c instanceof Error?c.message:typeof c=="string"?c:"failed to read body")}}}function lR(n){return typeof Symbol<"u"&&typeof Symbol.asyncIterator=="symbol"&&typeof n[Symbol.asyncIterator]=="function"}function oR(n){if(typeof Symbol>"u"||typeof Symbol.asyncIterator!="symbol"||typeof n[Symbol.asyncIterator]=="function")return;const t=function(){const s=this.getReader();let r=!1,l=0;return{async next(){if(r)return{done:!0,value:void 0};l++;try{const{value:c,done:d}=await s.read();return d?(r=!0,s.releaseLock(),{done:!0,value:void 0}):{done:!1,value:c}}catch(c){r=!0;try{s.releaseLock()}catch{}throw c}finally{l--}},async return(c){if(l>0)throw new TypeError("Cannot close a readable stream reader when it has pending read requests");r=!0;const d=s.cancel(c);return s.releaseLock(),await d,{done:!0,value:void 0}},async throw(c){if(l>0)throw new TypeError("Cannot close a readable stream reader when it has pending read requests");r=!0;const d=s.cancel(c);throw s.releaseLock(),await d,c},[Symbol.asyncIterator](){return this}}};try{Object.defineProperty(n,Symbol.asyncIterator,{configurable:!0,writable:!0,value:t})}catch{return}try{Object.defineProperty(n,"values",{configurable:!0,writable:!0,value:t})}catch{}}function Dh(n){return lR(n)||oR(n),n}async function*Jv(n,t){const s=n.getReader(),r=new TextDecoder;let l="",u={data:[]};try{for(;!(t!=null&&t.aborted);){const{done:d,value:p}=await s.read();if(d)break;l+=r.decode(p,{stream:!0}),l=l.replace(/\r\n/g,`
`).replace(/\r/g,`
`);const m=l.split(`
`);l=m.pop()??"";for(const g of m)if(g===""){if(u.type&&u.data.length>0){const y=u.data.join(`
`);if(u.type==="data")yield{type:"data",data:y};else if(u.type==="control")try{const w=JSON.parse(y);yield{type:"control",streamNextOffset:w.streamNextOffset,streamCursor:w.streamCursor,upToDate:w.upToDate}}catch{}}u={data:[]}}else if(g.startsWith("event:"))u.type=g.slice(6).trim();else if(g.startsWith("data:")){const y=g.slice(5);u.data.push(y.startsWith(" ")?y.slice(1):y)}}const c=r.decode();if(c&&(l+=c),l&&u.type&&u.data.length>0){const d=u.data.join(`
`);if(u.type==="data")yield{type:"data",data:d};else if(u.type==="control")try{const p=JSON.parse(d);yield{type:"control",streamNextOffset:p.streamNextOffset,streamCursor:p.streamCursor,upToDate:p.upToDate}}catch{}}}finally{s.releaseLock()}}const Qv="PAUSE_STREAM";var Ar,Mr,Dr,kr,vl,Sl,Mt,bl,Nr,wl,_l,El,As,jr,Rt,It,Gi,Nn,Yi,Ur,jn,Br,Ms,xl,Tl,G,vS,td,SS,gu,Ve,Es,An,Ga,bS,vu,nd,id,sd,wS,Su,_S,ES,xS,ri,rd,_0,uR=(_0=class{constructor(n){ne(this,G);He(this,"url");He(this,"contentType");He(this,"live");He(this,"startOffset");ne(this,Ar);ne(this,Mr);ne(this,Dr);ne(this,kr);ne(this,vl);He(this,"offset");He(this,"cursor");He(this,"upToDate");ne(this,Sl);ne(this,Mt);ne(this,bl);ne(this,Nr);ne(this,wl);ne(this,_l);ne(this,El);ne(this,As,!1);ne(this,jr,null);ne(this,Rt,"active");ne(this,It);ne(this,Gi);ne(this,Nn);ne(this,Yi);ne(this,Ur,!1);ne(this,jn);ne(this,Br);ne(this,Ms,0);ne(this,xl,!1);ne(this,Tl);var t,s,r,l,u;this.url=n.url,this.contentType=n.contentType,this.live=n.live,this.startOffset=n.startOffset,this.offset=n.initialOffset,this.cursor=n.initialCursor,this.upToDate=n.initialUpToDate,ee(this,Ar,n.firstResponse.headers),ee(this,Mr,n.firstResponse.status),ee(this,Dr,n.firstResponse.statusText),ee(this,kr,n.firstResponse.ok),ee(this,vl,!1),ee(this,Sl,n.isJsonMode),ee(this,Mt,n.abortController),ee(this,bl,n.fetchNext),ee(this,Nr,n.startSSE),ee(this,jn,{minConnectionDuration:((t=n.sseResilience)==null?void 0:t.minConnectionDuration)??1e3,maxShortConnections:((s=n.sseResilience)==null?void 0:s.maxShortConnections)??3,backoffBaseDelay:((r=n.sseResilience)==null?void 0:r.backoffBaseDelay)??100,backoffMaxDelay:((l=n.sseResilience)==null?void 0:l.backoffMaxDelay)??5e3,logWarnings:((u=n.sseResilience)==null?void 0:u.logWarnings)??!0}),ee(this,El,new Promise((c,d)=>{ee(this,wl,c),ee(this,_l,d)})),ee(this,Tl,V(this,G,xS).call(this,n.firstResponse)),x(this,Mt).signal.addEventListener("abort",()=>{var c,d;(c=x(this,It))==null||c.abort(x(this,Mt).signal.reason),(d=x(this,Yi))==null||d.call(this),ee(this,Nn,void 0),ee(this,Yi,void 0)},{once:!0}),V(this,G,vS).call(this)}get headers(){return x(this,Ar)}get status(){return x(this,Mr)}get statusText(){return x(this,Dr)}get ok(){return x(this,kr)}get isLoading(){return x(this,vl)}async body(){V(this,G,An).call(this,"body"),ee(this,As,!0);const n=V(this,G,ri).call(this),t=[];try{let r=await n.read();for(;!r.done;){const l=this.upToDate,u=await r.value.blob();if(u.size>0&&t.push(u),l)break;r=await n.read()}}finally{n.releaseLock()}if(V(this,G,Ve).call(this),t.length===0)return new Uint8Array(0);if(t.length===1)return new Uint8Array(await t[0].arrayBuffer());const s=new Blob(t);return new Uint8Array(await s.arrayBuffer())}async json(){V(this,G,An).call(this,"json"),V(this,G,gu).call(this),ee(this,As,!0);const n=V(this,G,ri).call(this),t=[];try{let s=await n.read();for(;!s.done;){const r=this.upToDate,u=(await s.value.text()).trim()||"[]",c=JSON.parse(u);if(Array.isArray(c)?t.push(...c):t.push(c),r)break;s=await n.read()}}finally{n.releaseLock()}return V(this,G,Ve).call(this),t}async text(){V(this,G,An).call(this,"text"),ee(this,As,!0);const n=V(this,G,ri).call(this),t=[];try{let s=await n.read();for(;!s.done;){const r=this.upToDate,l=await s.value.text();if(l&&t.push(l),r)break;s=await n.read()}}finally{n.releaseLock()}return V(this,G,Ve).call(this),t.join("")}bodyStream(){return V(this,G,An).call(this,"bodyStream"),Dh(V(this,G,rd).call(this))}jsonStream(){V(this,G,An).call(this,"jsonStream"),V(this,G,gu).call(this);const n=V(this,G,ri).call(this);let t=[];const s=new ReadableStream({pull:async r=>{if(t.length>0){r.enqueue(t.shift());return}const{done:l,value:u}=await n.read();if(l){V(this,G,Ve).call(this),r.close();return}const d=(await u.text()).trim()||"[]",p=JSON.parse(d);t=Array.isArray(p)?p:[p],t.length>0&&r.enqueue(t.shift())},cancel:()=>{n.releaseLock(),this.cancel()}});return Dh(s)}textStream(){V(this,G,An).call(this,"textStream");const n=new TextDecoder,t=V(this,G,rd).call(this).pipeThrough(new TransformStream({transform(s,r){r.enqueue(n.decode(s,{stream:!0}))},flush(s){const r=n.decode();r&&s.enqueue(r)}}));return Dh(t)}subscribeJson(n){V(this,G,An).call(this,"subscribeJson"),V(this,G,gu).call(this);const t=new AbortController,s=V(this,G,ri).call(this);return(async()=>{try{let l=await s.read();for(;!l.done&&!t.signal.aborted;){const u=l.value,{offset:c,cursor:d,upToDate:p}=V(this,G,vu).call(this,u),g=(await u.text()).trim()||"[]",y=JSON.parse(g),w=Array.isArray(y)?y:[y];await n({items:w,offset:c,cursor:d,upToDate:p}),l=await s.read()}V(this,G,Ve).call(this)}catch(l){const u=t.signal.aborted,c=l instanceof TypeError&&String(l).includes("Body");!u&&!c?V(this,G,Es).call(this,l instanceof Error?l:new Error(String(l))):V(this,G,Ve).call(this)}finally{s.releaseLock()}})(),()=>{t.abort(),this.cancel()}}subscribeBytes(n){V(this,G,An).call(this,"subscribeBytes");const t=new AbortController,s=V(this,G,ri).call(this);return(async()=>{try{let l=await s.read();for(;!l.done&&!t.signal.aborted;){const u=l.value,{offset:c,cursor:d,upToDate:p}=V(this,G,vu).call(this,u),m=await u.arrayBuffer();await n({data:new Uint8Array(m),offset:c,cursor:d,upToDate:p}),l=await s.read()}V(this,G,Ve).call(this)}catch(l){const u=t.signal.aborted,c=l instanceof TypeError&&String(l).includes("Body");!u&&!c?V(this,G,Es).call(this,l instanceof Error?l:new Error(String(l))):V(this,G,Ve).call(this)}finally{s.releaseLock()}})(),()=>{t.abort(),this.cancel()}}subscribeText(n){V(this,G,An).call(this,"subscribeText");const t=new AbortController,s=V(this,G,ri).call(this);return(async()=>{try{let l=await s.read();for(;!l.done&&!t.signal.aborted;){const u=l.value,{offset:c,cursor:d,upToDate:p}=V(this,G,vu).call(this,u),m=await u.text();await n({text:m,offset:c,cursor:d,upToDate:p}),l=await s.read()}V(this,G,Ve).call(this)}catch(l){const u=t.signal.aborted,c=l instanceof TypeError&&String(l).includes("Body");!u&&!c?V(this,G,Es).call(this,l instanceof Error?l:new Error(String(l))):V(this,G,Ve).call(this)}finally{s.releaseLock()}})(),()=>{t.abort(),this.cancel()}}cancel(n){var t;x(this,Mt).abort(n),(t=x(this,Gi))==null||t.call(this),V(this,G,Ve).call(this)}get closed(){return x(this,El)}},Ar=new WeakMap,Mr=new WeakMap,Dr=new WeakMap,kr=new WeakMap,vl=new WeakMap,Sl=new WeakMap,Mt=new WeakMap,bl=new WeakMap,Nr=new WeakMap,wl=new WeakMap,_l=new WeakMap,El=new WeakMap,As=new WeakMap,jr=new WeakMap,Rt=new WeakMap,It=new WeakMap,Gi=new WeakMap,Nn=new WeakMap,Yi=new WeakMap,Ur=new WeakMap,jn=new WeakMap,Br=new WeakMap,Ms=new WeakMap,xl=new WeakMap,Tl=new WeakMap,G=new WeakSet,vS=function(){if(typeof document=="object"&&typeof document.hidden=="boolean"&&typeof document.addEventListener=="function"){const n=()=>{document.hidden?V(this,G,td).call(this):V(this,G,SS).call(this)};document.addEventListener("visibilitychange",n),ee(this,Gi,()=>{typeof document=="object"&&document.removeEventListener("visibilitychange",n)}),document.hidden&&V(this,G,td).call(this)}},td=function(){var n;x(this,Rt)==="active"&&(ee(this,Rt,"pause-requested"),ee(this,Nn,new Promise(t=>{ee(this,Yi,t)})),(n=x(this,It))==null||n.abort(Qv))},SS=function(){var n;if(x(this,Rt)==="paused"||x(this,Rt)==="pause-requested"){if(x(this,Mt).signal.aborted)return;ee(this,Rt,"active"),ee(this,Ur,!0),(n=x(this,Yi))==null||n.call(this),ee(this,Nn,void 0),ee(this,Yi,void 0)}},gu=function(){if(!x(this,Sl))throw new ci(`JSON methods are only valid for JSON-mode streams. Content-Type is "${this.contentType}" and json hint was not set.`,"BAD_REQUEST")},Ve=function(){var n;(n=x(this,Gi))==null||n.call(this),x(this,wl).call(this)},Es=function(n){var t;(t=x(this,Gi))==null||t.call(this),x(this,_l).call(this,n)},An=function(n){if(x(this,jr)!==null)throw new ci(`Cannot call ${n}() - this StreamResponse is already being consumed via ${x(this,jr)}()`,"ALREADY_CONSUMED");ee(this,jr,n)},Ga=function(){return!(x(this,As)&&this.upToDate||this.live===!1)},bS=function(n){const t=n.headers.get(Fa);t&&(this.offset=t);const s=n.headers.get(pu);s&&(this.cursor=s),this.upToDate=n.headers.has(mu),ee(this,Ar,n.headers),ee(this,Mr,n.status),ee(this,Dr,n.statusText),ee(this,kr,n.ok)},vu=function(n){const t=n.headers.get(Fa),s=n.headers.get(pu),r=n.headers.has(mu);return{offset:t??this.offset,cursor:s??this.cursor,upToDate:r}},nd=function(n,t,s,r){const l={"content-type":this.contentType??"application/json",[Fa]:String(t)};return s&&(l[pu]=s),r&&(l[mu]="true"),new Response(n,{status:200,headers:l})},id=function(n){this.offset=n.streamNextOffset,n.streamCursor&&(this.cursor=n.streamCursor),n.upToDate!==void 0&&(this.upToDate=n.upToDate)},sd=function(){ee(this,Br,Date.now())},wS=async function(){if(x(this,Br)===void 0)return 0;const n=Date.now()-x(this,Br),t=x(this,Mt).signal.aborted;if(n<x(this,jn).minConnectionDuration&&!t){if(hh(this,Ms)._++,x(this,Ms)>=x(this,jn).maxShortConnections)return ee(this,xl,!0),x(this,jn).logWarnings&&console.warn("[Durable Streams] SSE connections are closing immediately (possibly due to proxy buffering or misconfiguration). Falling back to long polling. Your proxy must support streaming SSE responses (not buffer the complete response). Configuration: Nginx add 'X-Accel-Buffering: no', Caddy add 'flush_interval -1' to reverse_proxy."),null;{const s=Math.min(x(this,jn).backoffMaxDelay,x(this,jn).backoffBaseDelay*Math.pow(2,x(this,Ms))),r=Math.floor(Math.random()*s);return await new Promise(l=>setTimeout(l,r)),r}}else n>=x(this,jn).minConnectionDuration&&ee(this,Ms,0);return 0},Su=async function(){if(x(this,xl)||!V(this,G,Ga).call(this)||!x(this,Nr)||await V(this,G,wS).call(this)===null)return null;V(this,G,sd).call(this),ee(this,It,new AbortController);const t=await x(this,Nr).call(this,this.offset,this.cursor,x(this,It).signal);return t.body?Jv(t.body,x(this,It).signal):null},_S=async function(n){const{done:t,value:s}=await n.next();if(t){try{const r=await V(this,G,Su).call(this);if(r)return{type:"continue",newIterator:r}}catch(r){return{type:"error",error:r instanceof Error?r:new Error("SSE reconnection failed")}}return{type:"closed"}}return s.type==="data"?V(this,G,ES).call(this,s.data,n):(V(this,G,id).call(this,s),{type:"continue"})},ES=async function(n,t){let s=n;for(;;){const{done:r,value:l}=await t.next();if(r){const u=V(this,G,nd).call(this,s,this.offset,this.cursor,this.upToDate);try{const c=await V(this,G,Su).call(this);return{type:"response",response:u,newIterator:c??void 0}}catch(c){return{type:"error",error:c instanceof Error?c:new Error("SSE reconnection failed")}}}if(l.type==="control")return V(this,G,id).call(this,l),{type:"response",response:V(this,G,nd).call(this,s,l.streamNextOffset,l.streamCursor,l.upToDate??!1)};s+=l.data}},xS=function(n){let t=!1,s=null;return new ReadableStream({pull:async r=>{var l,u;try{if(!t)if(t=!0,(((l=n.headers.get("content-type"))==null?void 0:l.includes("text/event-stream"))??!1)&&n.body)V(this,G,sd).call(this),ee(this,It,new AbortController),s=Jv(n.body,x(this,It).signal);else{if(r.enqueue(n),this.upToDate&&!V(this,G,Ga).call(this)){V(this,G,Ve).call(this),r.close();return}return}if(s){if(x(this,Rt)==="pause-requested"||x(this,Rt)==="paused"){if(ee(this,Rt,"paused"),x(this,Nn)&&await x(this,Nn),x(this,Mt).signal.aborted){V(this,G,Ve).call(this),r.close();return}const c=await V(this,G,Su).call(this);if(c)s=c;else{V(this,G,Ve).call(this),r.close();return}}for(;;){const c=await V(this,G,_S).call(this,s);switch(c.type){case"response":c.newIterator&&(s=c.newIterator),r.enqueue(c.response);return;case"closed":V(this,G,Ve).call(this),r.close();return;case"error":V(this,G,Es).call(this,c.error),r.error(c.error);return;case"continue":c.newIterator&&(s=c.newIterator);continue}}}if(V(this,G,Ga).call(this)){if((x(this,Rt)==="pause-requested"||x(this,Rt)==="paused")&&(ee(this,Rt,"paused"),x(this,Nn)&&await x(this,Nn),x(this,Mt).signal.aborted)){V(this,G,Ve).call(this),r.close();return}if(x(this,Mt).signal.aborted){V(this,G,Ve).call(this),r.close();return}const c=x(this,Ur);ee(this,Ur,!1),ee(this,It,new AbortController);const d=await x(this,bl).call(this,this.offset,this.cursor,x(this,It).signal,c);V(this,G,bS).call(this,d),r.enqueue(d);return}V(this,G,Ve).call(this),r.close()}catch(c){if((u=x(this,It))!=null&&u.signal.aborted&&x(this,It).signal.reason===Qv){x(this,Rt)==="pause-requested"&&ee(this,Rt,"paused");return}x(this,Mt).signal.aborted?(V(this,G,Ve).call(this),r.close()):(V(this,G,Es).call(this,c instanceof Error?c:new Error(String(c))),r.error(c))}},cancel:()=>{var r;x(this,Mt).abort(),(r=x(this,Gi))==null||r.call(this),V(this,G,Ve).call(this)}})},ri=function(){return x(this,Tl).getReader()},rd=function(){const{readable:n,writable:t}=new TransformStream,s=V(this,G,ri).call(this);return(async()=>{try{let l=await s.read();for(;!l.done;){const u=this.upToDate,c=l.value.body;if(c&&await c.pipeTo(t,{preventClose:!0,preventAbort:!0,preventCancel:!0}),u&&!V(this,G,Ga).call(this))break;l=await s.read()}await t.close(),V(this,G,Ve).call(this)}catch(l){if(x(this,Mt).signal.aborted){try{await t.close()}catch{}V(this,G,Ve).call(this)}else{try{await t.abort(l)}catch{}V(this,G,Es).call(this,l instanceof Error?l:new Error(String(l)))}}finally{s.releaseLock()}})(),n},_0);async function bu(n){const t={};if(!n)return t;for(const[s,r]of Object.entries(n))typeof r=="function"?t[s]=await r():t[s]=r;return t}async function $i(n,t,s){const r=n.status;if(r===404)throw new ci(`Stream not found: ${t}`,"NOT_FOUND",404);if(r===409){const l=(s==null?void 0:s.operation)==="create"?`Stream already exists: ${t}`:"Sequence conflict: seq is lower than last appended",u=(s==null?void 0:s.operation)==="create"?"CONFLICT_EXISTS":"CONFLICT_SEQ";throw new ci(l,u,409)}throw r===400?new ci("Bad request (possibly content-type mismatch)","BAD_REQUEST",400):await ci.fromResponse(n,t)}async function wu(n){const t={};if(!n)return t;for(const[s,r]of Object.entries(n))r!==void 0&&(typeof r=="function"?t[s]=await r():t[s]=r);return t}const Xv=new Set;function cR(){if(!(typeof process>"u"))return"production"}function fR(){return typeof globalThis.window<"u"}function hR(){if(typeof globalThis.window<"u"&&typeof globalThis.window.location<"u")return globalThis.window.location.href}function dR(n){try{return new URL(n)}catch{const t=hR();if(t)try{return new URL(n,t)}catch{return}return}}function pR(n,t){if(t===!1||cR()==="test"||!fR()||typeof console>"u"||typeof console.warn!="function")return;const r=n instanceof URL?n.toString():n,l=dR(r);l&&l.protocol==="http:"&&(Xv.has(l.origin)||(Xv.add(l.origin),console.warn("[DurableStream] Using HTTP (not HTTPS) typically limits browsers to ~6 concurrent connections per origin under HTTP/1.1. This can cause slow streams and app freezes with multiple active streams. Use HTTPS for HTTP/2 support. See https://electric-sql.com/r/electric-http2 for more information.")))}async function mR(n){if(!n.url)throw new ci("Invalid stream options: missing required url parameter","BAD_REQUEST");let t=n.headers,s=n.params;for(;;)try{return await yR({...n,headers:t,params:s})}catch(r){if(n.onError){const l=await n.onError(r instanceof Error?r:new Error(String(r)));if(l===void 0)throw r;l.params&&(s={...s,...l.params}),l.headers&&(t={...t,...l.headers});continue}throw r}}async function yR(n){const t=n.url instanceof URL?n.url.toString():n.url,s=new URL(t),r=n.offset??"-1";s.searchParams.set(Mh,r);const l=n.live??"auto";(l==="long-poll"||l==="sse")&&s.searchParams.set(iu,l);const u=await wu(n.params);for(const[N,K]of Object.entries(u))s.searchParams.set(N,K);const c=await bu(n.headers),d=new AbortController;n.signal&&n.signal.addEventListener("abort",()=>{var N;return d.abort((N=n.signal)==null?void 0:N.reason)},{once:!0});const p=n.fetch??((...N)=>fetch(...N)),m=n.backoffOptions??Ud,g=gS(p,m);let y;try{y=await g(s.toString(),{method:"GET",headers:c,signal:d.signal})}catch(N){throw N instanceof jd?new ci("Stream request was aborted","UNKNOWN"):N}const w=y.headers.get("content-type")??void 0,S=y.headers.get(Fa)??r,b=y.headers.get(pu)??void 0,E=y.headers.has(mu),O=n.json===!0||((w==null?void 0:w.includes("application/json"))??!1),M=async(N,K,F,P)=>{const J=new URL(t);J.searchParams.set(Mh,N),P||(l==="auto"||l==="long-poll"?J.searchParams.set(iu,"long-poll"):l==="sse"&&J.searchParams.set(iu,"sse")),K&&J.searchParams.set("cursor",K);const te=await wu(n.params);for(const[ie,he]of Object.entries(te))J.searchParams.set(ie,he);const W=await bu(n.headers),le=await g(J.toString(),{method:"GET",headers:W,signal:F});return le.ok||await $i(le,t),le},L=l==="sse"?async(N,K,F)=>{const P=new URL(t);P.searchParams.set(Mh,N),P.searchParams.set(iu,"sse"),K&&P.searchParams.set("cursor",K);const J=await wu(n.params);for(const[le,ie]of Object.entries(J))P.searchParams.set(le,ie);const te=await bu(n.headers),W=await g(P.toString(),{method:"GET",headers:te,signal:F});return W.ok||await $i(W,t),W}:void 0;return new uR({url:t,contentType:w,live:l,startOffset:r,isJsonMode:O,initialOffset:S,initialCursor:b,initialUpToDate:E,firstResponse:y,abortController:d,fetchNext:M,startSSE:L,sseResilience:n.sseResilience})}function Fv(n){return n?n.split(";")[0].trim().toLowerCase():""}function gR(n){return n!==null&&typeof n=="object"&&"then"in n&&typeof n.then=="function"}var Ge,Un,Ol,Lr,Ji,oi,wt,TS,OS,zS,RS,xs,fi,vR=(fi=class{constructor(t){ne(this,wt);He(this,"url");He(this,"contentType");ne(this,Ge);ne(this,Un);ne(this,Ol);ne(this,Lr);ne(this,Ji);ne(this,oi,[]);bR(t);const s=t.url instanceof URL?t.url.toString():t.url;this.url=s,ee(this,Ge,{...t,url:s}),ee(this,Ol,t.onError),t.contentType&&(this.contentType=t.contentType),ee(this,Lr,t.batching!==!1),x(this,Lr)&&ee(this,Ji,Fz.promise(V(this,wt,zS).bind(this),1));const r=t.fetch??((...c)=>fetch(...c)),l={...t.backoffOptions??Ud},u=gS(r,l);ee(this,Un,aR(u))}static async create(t){const s=new fi(t);return await s.create({contentType:t.contentType,ttlSeconds:t.ttlSeconds,expiresAt:t.expiresAt,body:t.body}),s}static async connect(t){const s=new fi(t);return await s.head(),s}static async head(t){return new fi(t).head()}static async delete(t){return new fi(t).delete()}async head(t){const{requestHeaders:s,fetchUrl:r}=await V(this,wt,xs).call(this),l=await x(this,Un).call(this,r.toString(),{method:"HEAD",headers:s,signal:(t==null?void 0:t.signal)??x(this,Ge).signal});l.ok||await $i(l,this.url);const u=l.headers.get("content-type")??void 0,c=l.headers.get(Fa)??void 0,d=l.headers.get("etag")??void 0,p=l.headers.get("cache-control")??void 0;return u&&(this.contentType=u),{exists:!0,contentType:u,offset:c,etag:d,cacheControl:p}}async create(t){const{requestHeaders:s,fetchUrl:r}=await V(this,wt,xs).call(this),l=(t==null?void 0:t.contentType)??x(this,Ge).contentType;l&&(s["content-type"]=l),(t==null?void 0:t.ttlSeconds)!==void 0&&(s[Pz]=String(t.ttlSeconds)),t!=null&&t.expiresAt&&(s[Wz]=t.expiresAt);const u=Pv(t==null?void 0:t.body),c=await x(this,Un).call(this,r.toString(),{method:"PUT",headers:s,body:u,signal:x(this,Ge).signal});c.ok||await $i(c,this.url,{operation:"create"});const d=c.headers.get("content-type");return d?this.contentType=d:l&&(this.contentType=l),this}async delete(t){const{requestHeaders:s,fetchUrl:r}=await V(this,wt,xs).call(this),l=await x(this,Un).call(this,r.toString(),{method:"DELETE",headers:s,signal:(t==null?void 0:t.signal)??x(this,Ge).signal});l.ok||await $i(l,this.url)}async append(t,s){const r=gR(t)?await t:t;return x(this,Lr)&&x(this,Ji)?V(this,wt,OS).call(this,r,s):V(this,wt,TS).call(this,r,s)}async appendStream(t,s){const{requestHeaders:r,fetchUrl:l}=await V(this,wt,xs).call(this),u=(s==null?void 0:s.contentType)??x(this,Ge).contentType??this.contentType;u&&(r["content-type"]=u),s!=null&&s.seq&&(r[Ah]=s.seq);const c=SR(t),d=await x(this,Un).call(this,l.toString(),{method:"POST",headers:r,body:c,duplex:"half",signal:(s==null?void 0:s.signal)??x(this,Ge).signal});d.ok||await $i(d,this.url)}writable(t){const s=[],r=this;return new WritableStream({write(l){s.push(l)},async close(){if(s.length>0){const l=new ReadableStream({start(u){for(const c of s)u.enqueue(c);u.close()}});await r.appendStream(l,t)}},abort(l){console.error("WritableStream aborted:",l)}})}async stream(t){if((t==null?void 0:t.live)==="sse"&&this.contentType&&!eR.some(u=>this.contentType.startsWith(u)))throw new ci(`SSE is not supported for content-type: ${this.contentType}`,"SSE_NOT_SUPPORTED",400);const s={...x(this,Ge).headers,...t==null?void 0:t.headers},r={...x(this,Ge).params,...t==null?void 0:t.params};return mR({url:this.url,headers:s,params:r,signal:(t==null?void 0:t.signal)??x(this,Ge).signal,fetch:x(this,Ge).fetch,backoffOptions:x(this,Ge).backoffOptions,offset:t==null?void 0:t.offset,live:t==null?void 0:t.live,json:t==null?void 0:t.json,onError:(t==null?void 0:t.onError)??x(this,Ol),warnOnHttp:(t==null?void 0:t.warnOnHttp)??x(this,Ge).warnOnHttp})}},Ge=new WeakMap,Un=new WeakMap,Ol=new WeakMap,Lr=new WeakMap,Ji=new WeakMap,oi=new WeakMap,wt=new WeakSet,TS=async function(t,s){const{requestHeaders:r,fetchUrl:l}=await V(this,wt,xs).call(this),u=(s==null?void 0:s.contentType)??x(this,Ge).contentType??this.contentType;u&&(r["content-type"]=u),s!=null&&s.seq&&(r[Ah]=s.seq);const d=Fv(u)==="application/json"?[t]:t,p=Pv(d),m=await x(this,Un).call(this,l.toString(),{method:"POST",headers:r,body:p,signal:(s==null?void 0:s.signal)??x(this,Ge).signal});m.ok||await $i(m,this.url)},OS=async function(t,s){return new Promise((r,l)=>{if(x(this,oi).push({data:t,seq:s==null?void 0:s.seq,contentType:s==null?void 0:s.contentType,signal:s==null?void 0:s.signal,resolve:r,reject:l}),x(this,Ji).idle()){const u=x(this,oi).splice(0);x(this,Ji).push(u).catch(c=>{for(const d of u)d.reject(c)})}})},zS=async function(t){try{await V(this,wt,RS).call(this,t);for(const s of t)s.resolve();if(x(this,oi).length>0){const s=x(this,oi).splice(0);x(this,Ji).push(s).catch(r=>{for(const l of s)l.reject(r)})}}catch(s){for(const r of t)r.reject(s);for(const r of x(this,oi))r.reject(s);throw ee(this,oi,[]),s}},RS=async function(t){var y;if(t.length===0)return;const{requestHeaders:s,fetchUrl:r}=await V(this,wt,xs).call(this),l=((y=t[0])==null?void 0:y.contentType)??x(this,Ge).contentType??this.contentType;l&&(s["content-type"]=l);let u;for(let w=t.length-1;w>=0;w--)if(t[w].seq!==void 0){u=t[w].seq;break}u&&(s[Ah]=u);const c=Fv(l)==="application/json";let d;if(c){const w=t.map(S=>S.data);d=JSON.stringify(w)}else{const w=t.reduce((E,O)=>{const M=typeof O.data=="string"?new TextEncoder().encode(O.data).length:O.data.length;return E+M},0),S=new Uint8Array(w);let b=0;for(const E of t){const O=typeof E.data=="string"?new TextEncoder().encode(E.data):E.data;S.set(O,b),b+=O.length}d=S}const p=[];x(this,Ge).signal&&p.push(x(this,Ge).signal);for(const w of t)w.signal&&p.push(w.signal);const m=p.length>0?AbortSignal.any(p):void 0,g=await x(this,Un).call(this,r.toString(),{method:"POST",headers:s,body:d,signal:m});g.ok||await $i(g,this.url)},xs=async function(){const t=await bu(x(this,Ge).headers),s=new URL(this.url),r=await wu(x(this,Ge).params);for(const[l,u]of Object.entries(r))s.searchParams.set(l,u);return{requestHeaders:t,fetchUrl:s}},fi);function Pv(n){if(n!==void 0)return typeof n=="string"?new TextEncoder().encode(n):n instanceof Uint8Array||n instanceof Blob||n instanceof FormData||n instanceof ReadableStream||n instanceof ArrayBuffer||ArrayBuffer.isView(n)?n:new TextEncoder().encode(JSON.stringify(n))}function SR(n){if(n instanceof ReadableStream)return n.pipeThrough(new TransformStream({transform(r,l){typeof r=="string"?l.enqueue(new TextEncoder().encode(r)):l.enqueue(r)}}));const t=new TextEncoder,s=n[Symbol.asyncIterator]();return new ReadableStream({async pull(r){try{const{done:l,value:u}=await s.next();l?r.close():typeof u=="string"?r.enqueue(t.encode(u)):r.enqueue(u)}catch(l){r.error(l)}},cancel(){var r;(r=s.return)==null||r.call(s)}})}function bR(n){if(!n.url)throw new tR;if(n.signal&&!(n.signal instanceof AbortSignal))throw new nR;pR(n.url,n.warnOnHttp)}function CS(n){return n!=null&&"operation"in n.headers}function AS(n){return n!=null&&"control"in n.headers}var wR=class{constructor(){He(this,"handlers",new Map);He(this,"pendingHandlers",new Set);He(this,"isUpToDate",!1);He(this,"preloadResolvers",[]);He(this,"preloadRejecters",[]);He(this,"seenTxids",new Set);He(this,"pendingTxids",new Set);He(this,"txidResolvers",new Map);He(this,"existingKeys",new Map)}registerHandler(n,t){this.handlers.set(n,t),this.existingKeys.has(n)||this.existingKeys.set(n,new Set)}dispatchChange(n){if(!CS(n))return;n.headers.txid&&typeof n.headers.txid=="string"&&this.pendingTxids.add(n.headers.txid);const t=this.handlers.get(n.type);if(!t)return;let s=n.headers.operation;if(s!=="delete"&&(typeof n.value!="object"||n.value===null))throw new Error(`StreamDB collections require object values; got ${typeof n.value} for type=${n.type}, key=${n.key}`);const l={...n.value??{}};if(l[t.primaryKey]=n.key,this.pendingHandlers.has(t)||(t.begin(),this.pendingHandlers.add(t)),s==="upsert"){const c=this.existingKeys.get(n.type);s=(c==null?void 0:c.has(n.key))?"update":"insert"}const u=this.existingKeys.get(n.type);s==="insert"||s==="update"?u==null||u.add(n.key):u==null||u.delete(n.key);try{t.write(l,s)}catch(c){throw console.error("[StreamDB] Error in handler.write():",c),console.error("[StreamDB] Event that caused error:",{type:n.type,key:n.key,operation:s}),c}}dispatchControl(n){if(AS(n))switch(n.headers.control){case"reset":for(const t of this.handlers.values())t.truncate();for(const t of this.existingKeys.values())t.clear();this.pendingHandlers.clear(),this.isUpToDate=!1;break}}markUpToDate(){for(const n of this.pendingHandlers)try{n.commit()}catch(t){if(console.error("[StreamDB] Error in handler.commit():",t),t instanceof Error&&t.message.includes("already exists in the collection")&&t.message.includes("live-query")){console.warn("[StreamDB] Known TanStack DB groupBy bug detected - continuing despite error"),console.warn("[StreamDB] Queries with groupBy may show stale data until fixed");continue}throw t}this.pendingHandlers.clear();for(const n of this.pendingTxids){this.seenTxids.add(n);const t=this.txidResolvers.get(n);if(t){for(const{resolve:s,timeoutId:r}of t)clearTimeout(r),s();this.txidResolvers.delete(n)}}if(this.pendingTxids.clear(),!this.isUpToDate){this.isUpToDate=!0;for(const n of this.handlers.values())n.markReady();for(const n of this.preloadResolvers)n();this.preloadResolvers=[]}}waitForUpToDate(){return this.isUpToDate?Promise.resolve():new Promise((n,t)=>{this.preloadResolvers.push(n),this.preloadRejecters.push(t)})}rejectAll(n){for(const t of this.preloadRejecters)t(n);this.preloadResolvers=[],this.preloadRejecters=[];for(const t of this.txidResolvers.values())for(const{reject:s,timeoutId:r}of t)clearTimeout(r),s(n);this.txidResolvers.clear()}get ready(){return this.isUpToDate}awaitTxId(n,t=5e3){return this.seenTxids.has(n)?Promise.resolve():new Promise((s,r)=>{const l=setTimeout(()=>{const u=this.txidResolvers.get(n);if(u){const c=u.findIndex(d=>d.timeoutId===l);c!==-1&&u.splice(c,1),u.length===0&&this.txidResolvers.delete(n)}r(new Error(`Timeout waiting for txid: ${n}`))},t);this.txidResolvers.has(n)||this.txidResolvers.set(n,[]),this.txidResolvers.get(n).push({resolve:s,reject:r,timeoutId:l})})}};function _R(n,t,s){return{sync:({begin:r,write:l,commit:u,markReady:c,truncate:d})=>(t.registerHandler(n,{begin:r,write:(p,m)=>{l({value:p,type:m})},commit:u,markReady:c,truncate:d,primaryKey:s}),t.ready&&c(),()=>{})}}const Wv=new Set(["collections","preload","close","utils","actions"]);function ER(n,t,s){return{insert:({key:r,value:l,headers:u})=>{var m;const c=s["~standard"].validate(l);if("issues"in c)throw new Error(`Validation failed for ${n} insert: ${((m=c.issues)==null?void 0:m.map(g=>g.message).join(", "))??"Unknown validation error"}`);const d=l[t],p=r??(d!=null&&d!==""?String(d):void 0);if(p==null||p==="")throw new Error(`Cannot create ${n} insert event: must provide either 'key' or a value with a non-empty '${t}' field`);return{type:n,key:p,value:l,headers:{...u,operation:"insert"}}},update:({key:r,value:l,oldValue:u,headers:c})=>{var g,y;const d=s["~standard"].validate(l);if("issues"in d)throw new Error(`Validation failed for ${n} update: ${((g=d.issues)==null?void 0:g.map(w=>w.message).join(", "))??"Unknown validation error"}`);if(u!==void 0){const w=s["~standard"].validate(u);if("issues"in w)throw new Error(`Validation failed for ${n} update (oldValue): ${((y=w.issues)==null?void 0:y.map(S=>S.message).join(", "))??"Unknown validation error"}`)}const p=l[t],m=r??(p!=null&&p!==""?String(p):void 0);if(m==null||m==="")throw new Error(`Cannot create ${n} update event: must provide either 'key' or a value with a non-empty '${t}' field`);return{type:n,key:m,value:l,old_value:u,headers:{...c,operation:"update"}}},delete:({key:r,oldValue:l,headers:u})=>{var d;if(l!==void 0){const p=s["~standard"].validate(l);if("issues"in p)throw new Error(`Validation failed for ${n} delete (oldValue): ${((d=p.issues)==null?void 0:d.map(m=>m.message).join(", "))??"Unknown validation error"}`)}const c=r??(l?String(l[t]):void 0);if(!c)throw new Error(`Cannot create ${n} delete event: must provide either 'key' or 'oldValue' with a ${t} field`);return{type:n,key:c,old_value:l,headers:{...u,operation:"delete"}}},upsert:({key:r,value:l,headers:u})=>{var m;const c=s["~standard"].validate(l);if("issues"in c)throw new Error(`Validation failed for ${n} upsert: ${((m=c.issues)==null?void 0:m.map(g=>g.message).join(", "))??"Unknown validation error"}`);const d=l[t],p=r??(d!=null&&d!==""?String(d):void 0);if(p==null||p==="")throw new Error(`Cannot create ${n} upsert event: must provide either 'key' or a value with a non-empty '${t}' field`);return{type:n,key:p,value:l,headers:{...u,operation:"upsert"}}}}}function xR(n){for(const r of Object.keys(n))if(Wv.has(r))throw new Error(`Reserved collection name "${r}" - this would collide with StreamDB properties (${Array.from(Wv).join(", ")})`);const t=new Map;for(const[r,l]of Object.entries(n)){const u=t.get(l.type);if(u)throw new Error(`Duplicate event type "${l.type}" - used by both "${u}" and "${r}" collections`);t.set(l.type,r)}const s={};for(const[r,l]of Object.entries(n))s[r]={...l,...ER(l.type,l.primaryKey,l.schema)};return s}function TR(n){const{streamOptions:t,state:s,actions:r}=n,l=new vR(t),u=new wR,c={};for(const[S,b]of Object.entries(s)){const E=rS({id:`stream-db:${S}`,schema:b.schema,getKey:O=>String(O[b.primaryKey]),sync:_R(b.type,u,b.primaryKey),startSync:!0,gcTime:0});console.log(`[StreamDB] Created collection "${S}":`,{type:typeof E,constructor:E.constructor.name,isCollection:E instanceof Object,hasSize:"size"in E}),c[S]=E}let d=null;const p=new AbortController;let m=!1;const g=async()=>{if(m)return;m=!0,d=await l.stream({live:"auto",signal:p.signal});let S=0,b=Date.now();d.subscribeJson(O=>{try{S++,b=Date.now(),O.items.length>0&&console.log(`[StreamDB] Processing batch #${S}: ${O.items.length} items, upToDate=${O.upToDate}`);for(const M of O.items)CS(M)?u.dispatchChange(M):AS(M)&&u.dispatchControl(M);O.upToDate&&(console.log(`[StreamDB] Marking up-to-date after batch #${S}`),u.markUpToDate(),console.log("[StreamDB] Successfully marked up-to-date")),O.items.length>0&&console.log(`[StreamDB] Successfully processed batch #${S}`)}catch(M){console.error("[StreamDB] Error processing batch:",M),console.error("[StreamDB] Failed batch:",O),u.rejectAll(M),p.abort()}return Promise.resolve()});const E=setInterval(()=>{const O=Date.now()-b;console.log(`[StreamDB] Health: ${S} batches processed, last batch ${(O/1e3).toFixed(1)}s ago`)},15e3);p.signal.addEventListener("abort",()=>{clearInterval(E),console.log("[StreamDB] Aborted - cleaning up health check")})},y={stream:l,preload:async()=>{await g(),await u.waitForUpToDate()},close:()=>{u.rejectAll(new Error("StreamDB closed")),p.abort()},utils:{awaitTxId:(S,b)=>u.awaitTxId(S,b)}};console.log("[StreamDB] Creating db object with collections:",Object.keys(c));const w={collections:c,...y};if(console.log("[StreamDB] db.collections:",Object.keys(w.collections)),console.log("[StreamDB] db.collections.events:",w.collections.events),r){const S=r({db:w,stream:l}),b={};for(const[E,O]of Object.entries(S))b[E]=aS({onMutate:O.onMutate,mutationFn:O.mutationFn});return{...w,actions:b}}return w}function $(n,t,s){function r(d,p){if(d._zod||Object.defineProperty(d,"_zod",{value:{def:p,constr:c,traits:new Set},enumerable:!1}),d._zod.traits.has(n))return;d._zod.traits.add(n),t(d,p);const m=c.prototype,g=Object.keys(m);for(let y=0;y<g.length;y++){const w=g[y];w in d||(d[w]=m[w].bind(d))}}const l=(s==null?void 0:s.Parent)??Object;class u extends l{}Object.defineProperty(u,"name",{value:n});function c(d){var p;const m=s!=null&&s.Parent?new u:this;r(m,d),(p=m._zod).deferred??(p.deferred=[]);for(const g of m._zod.deferred)g();return m}return Object.defineProperty(c,"init",{value:r}),Object.defineProperty(c,Symbol.hasInstance,{value:d=>{var p,m;return s!=null&&s.Parent&&d instanceof s.Parent?!0:(m=(p=d==null?void 0:d._zod)==null?void 0:p.traits)==null?void 0:m.has(n)}}),Object.defineProperty(c,"name",{value:n}),c}class Or extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class MS extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const DS={};function Ds(n){return DS}function kS(n){const t=Object.values(n).filter(r=>typeof r=="number");return Object.entries(n).filter(([r,l])=>t.indexOf(+r)===-1).map(([r,l])=>l)}function ad(n,t){return typeof t=="bigint"?t.toString():t}function Bd(n){return{get value(){{const t=n();return Object.defineProperty(this,"value",{value:t}),t}}}}function Ld(n){return n==null}function Hd(n){const t=n.startsWith("^")?1:0,s=n.endsWith("$")?n.length-1:n.length;return n.slice(t,s)}function OR(n,t){const s=(n.toString().split(".")[1]||"").length,r=t.toString();let l=(r.split(".")[1]||"").length;if(l===0&&/\d?e-\d?/.test(r)){const p=r.match(/\d?e-(\d?)/);p!=null&&p[1]&&(l=Number.parseInt(p[1]))}const u=s>l?s:l,c=Number.parseInt(n.toFixed(u).replace(".","")),d=Number.parseInt(t.toFixed(u).replace(".",""));return c%d/10**u}const e0=Symbol("evaluating");function ke(n,t,s){let r;Object.defineProperty(n,t,{get(){if(r!==e0)return r===void 0&&(r=e0,r=s()),r},set(l){Object.defineProperty(n,t,{value:l})},configurable:!0})}function Us(n,t,s){Object.defineProperty(n,t,{value:s,writable:!0,enumerable:!0,configurable:!0})}function es(...n){const t={};for(const s of n){const r=Object.getOwnPropertyDescriptors(s);Object.assign(t,r)}return Object.defineProperties({},t)}function t0(n){return JSON.stringify(n)}function zR(n){return n.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const NS="captureStackTrace"in Error?Error.captureStackTrace:(...n)=>{};function Au(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}const RR=Bd(()=>{var n;if(typeof navigator<"u"&&((n=navigator==null?void 0:navigator.userAgent)!=null&&n.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function sl(n){if(Au(n)===!1)return!1;const t=n.constructor;if(t===void 0||typeof t!="function")return!0;const s=t.prototype;return!(Au(s)===!1||Object.prototype.hasOwnProperty.call(s,"isPrototypeOf")===!1)}function jS(n){return sl(n)?{...n}:Array.isArray(n)?[...n]:n}const CR=new Set(["string","number","symbol"]);function qu(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ts(n,t,s){const r=new n._zod.constr(t??n._zod.def);return(!t||s!=null&&s.parent)&&(r._zod.parent=n),r}function ce(n){const t=n;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function AR(n){return Object.keys(n).filter(t=>n[t]._zod.optin==="optional"&&n[t]._zod.optout==="optional")}const MR={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function DR(n,t){const s=n._zod.def,r=s.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const u=es(n._zod.def,{get shape(){const c={};for(const d in t){if(!(d in s.shape))throw new Error(`Unrecognized key: "${d}"`);t[d]&&(c[d]=s.shape[d])}return Us(this,"shape",c),c},checks:[]});return ts(n,u)}function kR(n,t){const s=n._zod.def,r=s.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const u=es(n._zod.def,{get shape(){const c={...n._zod.def.shape};for(const d in t){if(!(d in s.shape))throw new Error(`Unrecognized key: "${d}"`);t[d]&&delete c[d]}return Us(this,"shape",c),c},checks:[]});return ts(n,u)}function NR(n,t){if(!sl(t))throw new Error("Invalid input to extend: expected a plain object");const s=n._zod.def.checks;if(s&&s.length>0){const u=n._zod.def.shape;for(const c in t)if(Object.getOwnPropertyDescriptor(u,c)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const l=es(n._zod.def,{get shape(){const u={...n._zod.def.shape,...t};return Us(this,"shape",u),u}});return ts(n,l)}function jR(n,t){if(!sl(t))throw new Error("Invalid input to safeExtend: expected a plain object");const s=es(n._zod.def,{get shape(){const r={...n._zod.def.shape,...t};return Us(this,"shape",r),r}});return ts(n,s)}function UR(n,t){const s=es(n._zod.def,{get shape(){const r={...n._zod.def.shape,...t._zod.def.shape};return Us(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return ts(n,s)}function BR(n,t,s){const l=t._zod.def.checks;if(l&&l.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const c=es(t._zod.def,{get shape(){const d=t._zod.def.shape,p={...d};if(s)for(const m in s){if(!(m in d))throw new Error(`Unrecognized key: "${m}"`);s[m]&&(p[m]=n?new n({type:"optional",innerType:d[m]}):d[m])}else for(const m in d)p[m]=n?new n({type:"optional",innerType:d[m]}):d[m];return Us(this,"shape",p),p},checks:[]});return ts(t,c)}function LR(n,t,s){const r=es(t._zod.def,{get shape(){const l=t._zod.def.shape,u={...l};if(s)for(const c in s){if(!(c in u))throw new Error(`Unrecognized key: "${c}"`);s[c]&&(u[c]=new n({type:"nonoptional",innerType:l[c]}))}else for(const c in l)u[c]=new n({type:"nonoptional",innerType:l[c]});return Us(this,"shape",u),u}});return ts(t,r)}function xr(n,t=0){var s;if(n.aborted===!0)return!0;for(let r=t;r<n.issues.length;r++)if(((s=n.issues[r])==null?void 0:s.continue)!==!0)return!0;return!1}function US(n,t){return t.map(s=>{var r;return(r=s).path??(r.path=[]),s.path.unshift(n),s})}function su(n){return typeof n=="string"?n:n==null?void 0:n.message}function ks(n,t,s){var l,u,c,d,p,m;const r={...n,path:n.path??[]};if(!n.message){const g=su((c=(u=(l=n.inst)==null?void 0:l._zod.def)==null?void 0:u.error)==null?void 0:c.call(u,n))??su((d=t==null?void 0:t.error)==null?void 0:d.call(t,n))??su((p=s.customError)==null?void 0:p.call(s,n))??su((m=s.localeError)==null?void 0:m.call(s,n))??"Invalid input";r.message=g}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function Zd(n){return Array.isArray(n)?"array":typeof n=="string"?"string":"unknown"}function rl(...n){const[t,s,r]=n;return typeof t=="string"?{message:t,code:"custom",input:s,inst:r}:{...t}}const BS=(n,t)=>{n.name="$ZodError",Object.defineProperty(n,"_zod",{value:n._zod,enumerable:!1}),Object.defineProperty(n,"issues",{value:t,enumerable:!1}),n.message=JSON.stringify(t,ad,2),Object.defineProperty(n,"toString",{value:()=>n.message,enumerable:!1})},LS=$("$ZodError",BS),HS=$("$ZodError",BS,{Parent:Error});function HR(n,t=s=>s.message){const s={},r=[];for(const l of n.issues)l.path.length>0?(s[l.path[0]]=s[l.path[0]]||[],s[l.path[0]].push(t(l))):r.push(t(l));return{formErrors:r,fieldErrors:s}}function ZR(n,t=s=>s.message){const s={_errors:[]},r=l=>{for(const u of l.issues)if(u.code==="invalid_union"&&u.errors.length)u.errors.map(c=>r({issues:c}));else if(u.code==="invalid_key")r({issues:u.issues});else if(u.code==="invalid_element")r({issues:u.issues});else if(u.path.length===0)s._errors.push(t(u));else{let c=s,d=0;for(;d<u.path.length;){const p=u.path[d];d===u.path.length-1?(c[p]=c[p]||{_errors:[]},c[p]._errors.push(t(u))):c[p]=c[p]||{_errors:[]},c=c[p],d++}}};return r(n),s}const $d=n=>(t,s,r,l)=>{const u=r?Object.assign(r,{async:!1}):{async:!1},c=t._zod.run({value:s,issues:[]},u);if(c instanceof Promise)throw new Or;if(c.issues.length){const d=new((l==null?void 0:l.Err)??n)(c.issues.map(p=>ks(p,u,Ds())));throw NS(d,l==null?void 0:l.callee),d}return c.value},qd=n=>async(t,s,r,l)=>{const u=r?Object.assign(r,{async:!0}):{async:!0};let c=t._zod.run({value:s,issues:[]},u);if(c instanceof Promise&&(c=await c),c.issues.length){const d=new((l==null?void 0:l.Err)??n)(c.issues.map(p=>ks(p,u,Ds())));throw NS(d,l==null?void 0:l.callee),d}return c.value},Iu=n=>(t,s,r)=>{const l=r?{...r,async:!1}:{async:!1},u=t._zod.run({value:s,issues:[]},l);if(u instanceof Promise)throw new Or;return u.issues.length?{success:!1,error:new(n??LS)(u.issues.map(c=>ks(c,l,Ds())))}:{success:!0,data:u.value}},$R=Iu(HS),Ku=n=>async(t,s,r)=>{const l=r?Object.assign(r,{async:!0}):{async:!0};let u=t._zod.run({value:s,issues:[]},l);return u instanceof Promise&&(u=await u),u.issues.length?{success:!1,error:new n(u.issues.map(c=>ks(c,l,Ds())))}:{success:!0,data:u.value}},qR=Ku(HS),IR=n=>(t,s,r)=>{const l=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return $d(n)(t,s,l)},KR=n=>(t,s,r)=>$d(n)(t,s,r),VR=n=>async(t,s,r)=>{const l=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return qd(n)(t,s,l)},GR=n=>async(t,s,r)=>qd(n)(t,s,r),YR=n=>(t,s,r)=>{const l=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Iu(n)(t,s,l)},JR=n=>(t,s,r)=>Iu(n)(t,s,r),QR=n=>async(t,s,r)=>{const l=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ku(n)(t,s,l)},XR=n=>async(t,s,r)=>Ku(n)(t,s,r),FR=/^[cC][^\s-]{8,}$/,PR=/^[0-9a-z]+$/,WR=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,eC=/^[0-9a-vA-V]{20}$/,tC=/^[A-Za-z0-9]{27}$/,nC=/^[a-zA-Z0-9_-]{21}$/,iC=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,sC=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,n0=n=>n?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${n}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,rC=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,aC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function lC(){return new RegExp(aC,"u")}const oC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,uC=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,cC=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,fC=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,hC=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,ZS=/^[A-Za-z0-9_-]*$/,dC=/^\+[1-9]\d{6,14}$/,$S="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",pC=new RegExp(`^${$S}$`);function qS(n){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof n.precision=="number"?n.precision===-1?`${t}`:n.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${n.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function mC(n){return new RegExp(`^${qS(n)}$`)}function yC(n){const t=qS({precision:n.precision}),s=["Z"];n.local&&s.push(""),n.offset&&s.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${s.join("|")})`;return new RegExp(`^${$S}T(?:${r})$`)}const gC=n=>{const t=n?`[\\s\\S]{${(n==null?void 0:n.minimum)??0},${(n==null?void 0:n.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},vC=/^-?\d+$/,SC=/^-?\d+(?:\.\d+)?$/,bC=/^(?:true|false)$/i,wC=/^[^A-Z]*$/,_C=/^[^a-z]*$/,Gt=$("$ZodCheck",(n,t)=>{var s;n._zod??(n._zod={}),n._zod.def=t,(s=n._zod).onattach??(s.onattach=[])}),IS={number:"number",bigint:"bigint",object:"date"},KS=$("$ZodCheckLessThan",(n,t)=>{Gt.init(n,t);const s=IS[typeof t.value];n._zod.onattach.push(r=>{const l=r._zod.bag,u=(t.inclusive?l.maximum:l.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<u&&(t.inclusive?l.maximum=t.value:l.exclusiveMaximum=t.value)}),n._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:s,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:n,continue:!t.abort})}}),VS=$("$ZodCheckGreaterThan",(n,t)=>{Gt.init(n,t);const s=IS[typeof t.value];n._zod.onattach.push(r=>{const l=r._zod.bag,u=(t.inclusive?l.minimum:l.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>u&&(t.inclusive?l.minimum=t.value:l.exclusiveMinimum=t.value)}),n._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:s,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:n,continue:!t.abort})}}),EC=$("$ZodCheckMultipleOf",(n,t)=>{Gt.init(n,t),n._zod.onattach.push(s=>{var r;(r=s._zod.bag).multipleOf??(r.multipleOf=t.value)}),n._zod.check=s=>{if(typeof s.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof s.value=="bigint"?s.value%t.value===BigInt(0):OR(s.value,t.value)===0)||s.issues.push({origin:typeof s.value,code:"not_multiple_of",divisor:t.value,input:s.value,inst:n,continue:!t.abort})}}),xC=$("$ZodCheckNumberFormat",(n,t)=>{var c;Gt.init(n,t),t.format=t.format||"float64";const s=(c=t.format)==null?void 0:c.includes("int"),r=s?"int":"number",[l,u]=MR[t.format];n._zod.onattach.push(d=>{const p=d._zod.bag;p.format=t.format,p.minimum=l,p.maximum=u,s&&(p.pattern=vC)}),n._zod.check=d=>{const p=d.value;if(s){if(!Number.isInteger(p)){d.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:p,inst:n});return}if(!Number.isSafeInteger(p)){p>0?d.issues.push({input:p,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:r,inclusive:!0,continue:!t.abort}):d.issues.push({input:p,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:r,inclusive:!0,continue:!t.abort});return}}p<l&&d.issues.push({origin:"number",input:p,code:"too_small",minimum:l,inclusive:!0,inst:n,continue:!t.abort}),p>u&&d.issues.push({origin:"number",input:p,code:"too_big",maximum:u,inclusive:!0,inst:n,continue:!t.abort})}}),TC=$("$ZodCheckMaxLength",(n,t)=>{var s;Gt.init(n,t),(s=n._zod.def).when??(s.when=r=>{const l=r.value;return!Ld(l)&&l.length!==void 0}),n._zod.onattach.push(r=>{const l=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<l&&(r._zod.bag.maximum=t.maximum)}),n._zod.check=r=>{const l=r.value;if(l.length<=t.maximum)return;const c=Zd(l);r.issues.push({origin:c,code:"too_big",maximum:t.maximum,inclusive:!0,input:l,inst:n,continue:!t.abort})}}),OC=$("$ZodCheckMinLength",(n,t)=>{var s;Gt.init(n,t),(s=n._zod.def).when??(s.when=r=>{const l=r.value;return!Ld(l)&&l.length!==void 0}),n._zod.onattach.push(r=>{const l=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>l&&(r._zod.bag.minimum=t.minimum)}),n._zod.check=r=>{const l=r.value;if(l.length>=t.minimum)return;const c=Zd(l);r.issues.push({origin:c,code:"too_small",minimum:t.minimum,inclusive:!0,input:l,inst:n,continue:!t.abort})}}),zC=$("$ZodCheckLengthEquals",(n,t)=>{var s;Gt.init(n,t),(s=n._zod.def).when??(s.when=r=>{const l=r.value;return!Ld(l)&&l.length!==void 0}),n._zod.onattach.push(r=>{const l=r._zod.bag;l.minimum=t.length,l.maximum=t.length,l.length=t.length}),n._zod.check=r=>{const l=r.value,u=l.length;if(u===t.length)return;const c=Zd(l),d=u>t.length;r.issues.push({origin:c,...d?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:n,continue:!t.abort})}}),Vu=$("$ZodCheckStringFormat",(n,t)=>{var s,r;Gt.init(n,t),n._zod.onattach.push(l=>{const u=l._zod.bag;u.format=t.format,t.pattern&&(u.patterns??(u.patterns=new Set),u.patterns.add(t.pattern))}),t.pattern?(s=n._zod).check??(s.check=l=>{t.pattern.lastIndex=0,!t.pattern.test(l.value)&&l.issues.push({origin:"string",code:"invalid_format",format:t.format,input:l.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:n,continue:!t.abort})}):(r=n._zod).check??(r.check=()=>{})}),RC=$("$ZodCheckRegex",(n,t)=>{Vu.init(n,t),n._zod.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:"regex",input:s.value,pattern:t.pattern.toString(),inst:n,continue:!t.abort})}}),CC=$("$ZodCheckLowerCase",(n,t)=>{t.pattern??(t.pattern=wC),Vu.init(n,t)}),AC=$("$ZodCheckUpperCase",(n,t)=>{t.pattern??(t.pattern=_C),Vu.init(n,t)}),MC=$("$ZodCheckIncludes",(n,t)=>{Gt.init(n,t);const s=qu(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${s}`:s);t.pattern=r,n._zod.onattach.push(l=>{const u=l._zod.bag;u.patterns??(u.patterns=new Set),u.patterns.add(r)}),n._zod.check=l=>{l.value.includes(t.includes,t.position)||l.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:l.value,inst:n,continue:!t.abort})}}),DC=$("$ZodCheckStartsWith",(n,t)=>{Gt.init(n,t);const s=new RegExp(`^${qu(t.prefix)}.*`);t.pattern??(t.pattern=s),n._zod.onattach.push(r=>{const l=r._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(s)}),n._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:n,continue:!t.abort})}}),kC=$("$ZodCheckEndsWith",(n,t)=>{Gt.init(n,t);const s=new RegExp(`.*${qu(t.suffix)}$`);t.pattern??(t.pattern=s),n._zod.onattach.push(r=>{const l=r._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(s)}),n._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:n,continue:!t.abort})}}),NC=$("$ZodCheckOverwrite",(n,t)=>{Gt.init(n,t),n._zod.check=s=>{s.value=t.tx(s.value)}});class jC{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(c=>c),l=Math.min(...r.map(c=>c.length-c.trimStart().length)),u=r.map(c=>c.slice(l)).map(c=>" ".repeat(this.indent*2)+c);for(const c of u)this.content.push(c)}compile(){const t=Function,s=this==null?void 0:this.args,l=[...((this==null?void 0:this.content)??[""]).map(u=>`  ${u}`)];return new t(...s,l.join(`
`))}}const UC={major:4,minor:3,patch:5},Xe=$("$ZodType",(n,t)=>{var l;var s;n??(n={}),n._zod.def=t,n._zod.bag=n._zod.bag||{},n._zod.version=UC;const r=[...n._zod.def.checks??[]];n._zod.traits.has("$ZodCheck")&&r.unshift(n);for(const u of r)for(const c of u._zod.onattach)c(n);if(r.length===0)(s=n._zod).deferred??(s.deferred=[]),(l=n._zod.deferred)==null||l.push(()=>{n._zod.run=n._zod.parse});else{const u=(d,p,m)=>{let g=xr(d),y;for(const w of p){if(w._zod.def.when){if(!w._zod.def.when(d))continue}else if(g)continue;const S=d.issues.length,b=w._zod.check(d);if(b instanceof Promise&&(m==null?void 0:m.async)===!1)throw new Or;if(y||b instanceof Promise)y=(y??Promise.resolve()).then(async()=>{await b,d.issues.length!==S&&(g||(g=xr(d,S)))});else{if(d.issues.length===S)continue;g||(g=xr(d,S))}}return y?y.then(()=>d):d},c=(d,p,m)=>{if(xr(d))return d.aborted=!0,d;const g=u(p,r,m);if(g instanceof Promise){if(m.async===!1)throw new Or;return g.then(y=>n._zod.parse(y,m))}return n._zod.parse(g,m)};n._zod.run=(d,p)=>{if(p.skipChecks)return n._zod.parse(d,p);if(p.direction==="backward"){const g=n._zod.parse({value:d.value,issues:[]},{...p,skipChecks:!0});return g instanceof Promise?g.then(y=>c(y,d,p)):c(g,d,p)}const m=n._zod.parse(d,p);if(m instanceof Promise){if(p.async===!1)throw new Or;return m.then(g=>u(g,r,p))}return u(m,r,p)}}ke(n,"~standard",()=>({validate:u=>{var c;try{const d=$R(n,u);return d.success?{value:d.data}:{issues:(c=d.error)==null?void 0:c.issues}}catch{return qR(n,u).then(p=>{var m;return p.success?{value:p.data}:{issues:(m=p.error)==null?void 0:m.issues}})}},vendor:"zod",version:1}))}),Id=$("$ZodString",(n,t)=>{var s;Xe.init(n,t),n._zod.pattern=[...((s=n==null?void 0:n._zod.bag)==null?void 0:s.patterns)??[]].pop()??gC(n._zod.bag),n._zod.parse=(r,l)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:n}),r}}),Ke=$("$ZodStringFormat",(n,t)=>{Vu.init(n,t),Id.init(n,t)}),BC=$("$ZodGUID",(n,t)=>{t.pattern??(t.pattern=sC),Ke.init(n,t)}),LC=$("$ZodUUID",(n,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=n0(r))}else t.pattern??(t.pattern=n0());Ke.init(n,t)}),HC=$("$ZodEmail",(n,t)=>{t.pattern??(t.pattern=rC),Ke.init(n,t)}),ZC=$("$ZodURL",(n,t)=>{Ke.init(n,t),n._zod.check=s=>{try{const r=s.value.trim(),l=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(l.hostname)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:s.value,inst:n,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(l.protocol.endsWith(":")?l.protocol.slice(0,-1):l.protocol)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:s.value,inst:n,continue:!t.abort})),t.normalize?s.value=l.href:s.value=r;return}catch{s.issues.push({code:"invalid_format",format:"url",input:s.value,inst:n,continue:!t.abort})}}}),$C=$("$ZodEmoji",(n,t)=>{t.pattern??(t.pattern=lC()),Ke.init(n,t)}),qC=$("$ZodNanoID",(n,t)=>{t.pattern??(t.pattern=nC),Ke.init(n,t)}),IC=$("$ZodCUID",(n,t)=>{t.pattern??(t.pattern=FR),Ke.init(n,t)}),KC=$("$ZodCUID2",(n,t)=>{t.pattern??(t.pattern=PR),Ke.init(n,t)}),VC=$("$ZodULID",(n,t)=>{t.pattern??(t.pattern=WR),Ke.init(n,t)}),GC=$("$ZodXID",(n,t)=>{t.pattern??(t.pattern=eC),Ke.init(n,t)}),YC=$("$ZodKSUID",(n,t)=>{t.pattern??(t.pattern=tC),Ke.init(n,t)}),JC=$("$ZodISODateTime",(n,t)=>{t.pattern??(t.pattern=yC(t)),Ke.init(n,t)}),QC=$("$ZodISODate",(n,t)=>{t.pattern??(t.pattern=pC),Ke.init(n,t)}),XC=$("$ZodISOTime",(n,t)=>{t.pattern??(t.pattern=mC(t)),Ke.init(n,t)}),FC=$("$ZodISODuration",(n,t)=>{t.pattern??(t.pattern=iC),Ke.init(n,t)}),PC=$("$ZodIPv4",(n,t)=>{t.pattern??(t.pattern=oC),Ke.init(n,t),n._zod.bag.format="ipv4"}),WC=$("$ZodIPv6",(n,t)=>{t.pattern??(t.pattern=uC),Ke.init(n,t),n._zod.bag.format="ipv6",n._zod.check=s=>{try{new URL(`http://[${s.value}]`)}catch{s.issues.push({code:"invalid_format",format:"ipv6",input:s.value,inst:n,continue:!t.abort})}}}),eA=$("$ZodCIDRv4",(n,t)=>{t.pattern??(t.pattern=cC),Ke.init(n,t)}),tA=$("$ZodCIDRv6",(n,t)=>{t.pattern??(t.pattern=fC),Ke.init(n,t),n._zod.check=s=>{const r=s.value.split("/");try{if(r.length!==2)throw new Error;const[l,u]=r;if(!u)throw new Error;const c=Number(u);if(`${c}`!==u)throw new Error;if(c<0||c>128)throw new Error;new URL(`http://[${l}]`)}catch{s.issues.push({code:"invalid_format",format:"cidrv6",input:s.value,inst:n,continue:!t.abort})}}});function GS(n){if(n==="")return!0;if(n.length%4!==0)return!1;try{return atob(n),!0}catch{return!1}}const nA=$("$ZodBase64",(n,t)=>{t.pattern??(t.pattern=hC),Ke.init(n,t),n._zod.bag.contentEncoding="base64",n._zod.check=s=>{GS(s.value)||s.issues.push({code:"invalid_format",format:"base64",input:s.value,inst:n,continue:!t.abort})}});function iA(n){if(!ZS.test(n))return!1;const t=n.replace(/[-_]/g,r=>r==="-"?"+":"/"),s=t.padEnd(Math.ceil(t.length/4)*4,"=");return GS(s)}const sA=$("$ZodBase64URL",(n,t)=>{t.pattern??(t.pattern=ZS),Ke.init(n,t),n._zod.bag.contentEncoding="base64url",n._zod.check=s=>{iA(s.value)||s.issues.push({code:"invalid_format",format:"base64url",input:s.value,inst:n,continue:!t.abort})}}),rA=$("$ZodE164",(n,t)=>{t.pattern??(t.pattern=dC),Ke.init(n,t)});function aA(n,t=null){try{const s=n.split(".");if(s.length!==3)return!1;const[r]=s;if(!r)return!1;const l=JSON.parse(atob(r));return!("typ"in l&&(l==null?void 0:l.typ)!=="JWT"||!l.alg||t&&(!("alg"in l)||l.alg!==t))}catch{return!1}}const lA=$("$ZodJWT",(n,t)=>{Ke.init(n,t),n._zod.check=s=>{aA(s.value,t.alg)||s.issues.push({code:"invalid_format",format:"jwt",input:s.value,inst:n,continue:!t.abort})}}),YS=$("$ZodNumber",(n,t)=>{Xe.init(n,t),n._zod.pattern=n._zod.bag.pattern??SC,n._zod.parse=(s,r)=>{if(t.coerce)try{s.value=Number(s.value)}catch{}const l=s.value;if(typeof l=="number"&&!Number.isNaN(l)&&Number.isFinite(l))return s;const u=typeof l=="number"?Number.isNaN(l)?"NaN":Number.isFinite(l)?void 0:"Infinity":void 0;return s.issues.push({expected:"number",code:"invalid_type",input:l,inst:n,...u?{received:u}:{}}),s}}),oA=$("$ZodNumberFormat",(n,t)=>{xC.init(n,t),YS.init(n,t)}),uA=$("$ZodBoolean",(n,t)=>{Xe.init(n,t),n._zod.pattern=bC,n._zod.parse=(s,r)=>{if(t.coerce)try{s.value=!!s.value}catch{}const l=s.value;return typeof l=="boolean"||s.issues.push({expected:"boolean",code:"invalid_type",input:l,inst:n}),s}}),cA=$("$ZodAny",(n,t)=>{Xe.init(n,t),n._zod.parse=s=>s}),fA=$("$ZodUnknown",(n,t)=>{Xe.init(n,t),n._zod.parse=s=>s}),hA=$("$ZodNever",(n,t)=>{Xe.init(n,t),n._zod.parse=(s,r)=>(s.issues.push({expected:"never",code:"invalid_type",input:s.value,inst:n}),s)});function i0(n,t,s){n.issues.length&&t.issues.push(...US(s,n.issues)),t.value[s]=n.value}const dA=$("$ZodArray",(n,t)=>{Xe.init(n,t),n._zod.parse=(s,r)=>{const l=s.value;if(!Array.isArray(l))return s.issues.push({expected:"array",code:"invalid_type",input:l,inst:n}),s;s.value=Array(l.length);const u=[];for(let c=0;c<l.length;c++){const d=l[c],p=t.element._zod.run({value:d,issues:[]},r);p instanceof Promise?u.push(p.then(m=>i0(m,s,c))):i0(p,s,c)}return u.length?Promise.all(u).then(()=>s):s}});function Mu(n,t,s,r,l){if(n.issues.length){if(l&&!(s in r))return;t.issues.push(...US(s,n.issues))}n.value===void 0?s in r&&(t.value[s]=void 0):t.value[s]=n.value}function JS(n){var r,l,u,c;const t=Object.keys(n.shape);for(const d of t)if(!((c=(u=(l=(r=n.shape)==null?void 0:r[d])==null?void 0:l._zod)==null?void 0:u.traits)!=null&&c.has("$ZodType")))throw new Error(`Invalid element at key "${d}": expected a Zod schema`);const s=AR(n.shape);return{...n,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(s)}}function QS(n,t,s,r,l,u){const c=[],d=l.keySet,p=l.catchall._zod,m=p.def.type,g=p.optout==="optional";for(const y in t){if(d.has(y))continue;if(m==="never"){c.push(y);continue}const w=p.run({value:t[y],issues:[]},r);w instanceof Promise?n.push(w.then(S=>Mu(S,s,y,t,g))):Mu(w,s,y,t,g)}return c.length&&s.issues.push({code:"unrecognized_keys",keys:c,input:t,inst:u}),n.length?Promise.all(n).then(()=>s):s}const pA=$("$ZodObject",(n,t)=>{Xe.init(n,t);const s=Object.getOwnPropertyDescriptor(t,"shape");if(!(s!=null&&s.get)){const d=t.shape;Object.defineProperty(t,"shape",{get:()=>{const p={...d};return Object.defineProperty(t,"shape",{value:p}),p}})}const r=Bd(()=>JS(t));ke(n._zod,"propValues",()=>{const d=t.shape,p={};for(const m in d){const g=d[m]._zod;if(g.values){p[m]??(p[m]=new Set);for(const y of g.values)p[m].add(y)}}return p});const l=Au,u=t.catchall;let c;n._zod.parse=(d,p)=>{c??(c=r.value);const m=d.value;if(!l(m))return d.issues.push({expected:"object",code:"invalid_type",input:m,inst:n}),d;d.value={};const g=[],y=c.shape;for(const w of c.keys){const S=y[w],b=S._zod.optout==="optional",E=S._zod.run({value:m[w],issues:[]},p);E instanceof Promise?g.push(E.then(O=>Mu(O,d,w,m,b))):Mu(E,d,w,m,b)}return u?QS(g,m,d,p,r.value,n):g.length?Promise.all(g).then(()=>d):d}}),mA=$("$ZodObjectJIT",(n,t)=>{pA.init(n,t);const s=n._zod.parse,r=Bd(()=>JS(t)),l=w=>{var N;const S=new jC(["shape","payload","ctx"]),b=r.value,E=K=>{const F=t0(K);return`shape[${F}]._zod.run({ value: input[${F}], issues: [] }, ctx)`};S.write("const input = payload.value;");const O=Object.create(null);let M=0;for(const K of b.keys)O[K]=`key_${M++}`;S.write("const newResult = {};");for(const K of b.keys){const F=O[K],P=t0(K),J=w[K],te=((N=J==null?void 0:J._zod)==null?void 0:N.optout)==="optional";S.write(`const ${F} = ${E(K)};`),te?S.write(`
        if (${F}.issues.length) {
          if (${P} in input) {
            payload.issues = payload.issues.concat(${F}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${P}, ...iss.path] : [${P}]
            })));
          }
        }
        
        if (${F}.value === undefined) {
          if (${P} in input) {
            newResult[${P}] = undefined;
          }
        } else {
          newResult[${P}] = ${F}.value;
        }
        
      `):S.write(`
        if (${F}.issues.length) {
          payload.issues = payload.issues.concat(${F}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${P}, ...iss.path] : [${P}]
          })));
        }
        
        if (${F}.value === undefined) {
          if (${P} in input) {
            newResult[${P}] = undefined;
          }
        } else {
          newResult[${P}] = ${F}.value;
        }
        
      `)}S.write("payload.value = newResult;"),S.write("return payload;");const L=S.compile();return(K,F)=>L(w,K,F)};let u;const c=Au,d=!DS.jitless,m=d&&RR.value,g=t.catchall;let y;n._zod.parse=(w,S)=>{y??(y=r.value);const b=w.value;return c(b)?d&&m&&(S==null?void 0:S.async)===!1&&S.jitless!==!0?(u||(u=l(t.shape)),w=u(w,S),g?QS([],b,w,S,y,n):w):s(w,S):(w.issues.push({expected:"object",code:"invalid_type",input:b,inst:n}),w)}});function s0(n,t,s,r){for(const u of n)if(u.issues.length===0)return t.value=u.value,t;const l=n.filter(u=>!xr(u));return l.length===1?(t.value=l[0].value,l[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:s,errors:n.map(u=>u.issues.map(c=>ks(c,r,Ds())))}),t)}const yA=$("$ZodUnion",(n,t)=>{Xe.init(n,t),ke(n._zod,"optin",()=>t.options.some(l=>l._zod.optin==="optional")?"optional":void 0),ke(n._zod,"optout",()=>t.options.some(l=>l._zod.optout==="optional")?"optional":void 0),ke(n._zod,"values",()=>{if(t.options.every(l=>l._zod.values))return new Set(t.options.flatMap(l=>Array.from(l._zod.values)))}),ke(n._zod,"pattern",()=>{if(t.options.every(l=>l._zod.pattern)){const l=t.options.map(u=>u._zod.pattern);return new RegExp(`^(${l.map(u=>Hd(u.source)).join("|")})$`)}});const s=t.options.length===1,r=t.options[0]._zod.run;n._zod.parse=(l,u)=>{if(s)return r(l,u);let c=!1;const d=[];for(const p of t.options){const m=p._zod.run({value:l.value,issues:[]},u);if(m instanceof Promise)d.push(m),c=!0;else{if(m.issues.length===0)return m;d.push(m)}}return c?Promise.all(d).then(p=>s0(p,l,n,u)):s0(d,l,n,u)}}),gA=$("$ZodIntersection",(n,t)=>{Xe.init(n,t),n._zod.parse=(s,r)=>{const l=s.value,u=t.left._zod.run({value:l,issues:[]},r),c=t.right._zod.run({value:l,issues:[]},r);return u instanceof Promise||c instanceof Promise?Promise.all([u,c]).then(([p,m])=>r0(s,p,m)):r0(s,u,c)}});function ld(n,t){if(n===t)return{valid:!0,data:n};if(n instanceof Date&&t instanceof Date&&+n==+t)return{valid:!0,data:n};if(sl(n)&&sl(t)){const s=Object.keys(t),r=Object.keys(n).filter(u=>s.indexOf(u)!==-1),l={...n,...t};for(const u of r){const c=ld(n[u],t[u]);if(!c.valid)return{valid:!1,mergeErrorPath:[u,...c.mergeErrorPath]};l[u]=c.data}return{valid:!0,data:l}}if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return{valid:!1,mergeErrorPath:[]};const s=[];for(let r=0;r<n.length;r++){const l=n[r],u=t[r],c=ld(l,u);if(!c.valid)return{valid:!1,mergeErrorPath:[r,...c.mergeErrorPath]};s.push(c.data)}return{valid:!0,data:s}}return{valid:!1,mergeErrorPath:[]}}function r0(n,t,s){const r=new Map;let l;for(const d of t.issues)if(d.code==="unrecognized_keys"){l??(l=d);for(const p of d.keys)r.has(p)||r.set(p,{}),r.get(p).l=!0}else n.issues.push(d);for(const d of s.issues)if(d.code==="unrecognized_keys")for(const p of d.keys)r.has(p)||r.set(p,{}),r.get(p).r=!0;else n.issues.push(d);const u=[...r].filter(([,d])=>d.l&&d.r).map(([d])=>d);if(u.length&&l&&n.issues.push({...l,keys:u}),xr(n))return n;const c=ld(t.value,s.value);if(!c.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(c.mergeErrorPath)}`);return n.value=c.data,n}const vA=$("$ZodEnum",(n,t)=>{Xe.init(n,t);const s=kS(t.entries),r=new Set(s);n._zod.values=r,n._zod.pattern=new RegExp(`^(${s.filter(l=>CR.has(typeof l)).map(l=>typeof l=="string"?qu(l):l.toString()).join("|")})$`),n._zod.parse=(l,u)=>{const c=l.value;return r.has(c)||l.issues.push({code:"invalid_value",values:s,input:c,inst:n}),l}}),SA=$("$ZodTransform",(n,t)=>{Xe.init(n,t),n._zod.parse=(s,r)=>{if(r.direction==="backward")throw new MS(n.constructor.name);const l=t.transform(s.value,s);if(r.async)return(l instanceof Promise?l:Promise.resolve(l)).then(c=>(s.value=c,s));if(l instanceof Promise)throw new Or;return s.value=l,s}});function a0(n,t){return n.issues.length&&t===void 0?{issues:[],value:void 0}:n}const XS=$("$ZodOptional",(n,t)=>{Xe.init(n,t),n._zod.optin="optional",n._zod.optout="optional",ke(n._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),ke(n._zod,"pattern",()=>{const s=t.innerType._zod.pattern;return s?new RegExp(`^(${Hd(s.source)})?$`):void 0}),n._zod.parse=(s,r)=>{if(t.innerType._zod.optin==="optional"){const l=t.innerType._zod.run(s,r);return l instanceof Promise?l.then(u=>a0(u,s.value)):a0(l,s.value)}return s.value===void 0?s:t.innerType._zod.run(s,r)}}),bA=$("$ZodExactOptional",(n,t)=>{XS.init(n,t),ke(n._zod,"values",()=>t.innerType._zod.values),ke(n._zod,"pattern",()=>t.innerType._zod.pattern),n._zod.parse=(s,r)=>t.innerType._zod.run(s,r)}),wA=$("$ZodNullable",(n,t)=>{Xe.init(n,t),ke(n._zod,"optin",()=>t.innerType._zod.optin),ke(n._zod,"optout",()=>t.innerType._zod.optout),ke(n._zod,"pattern",()=>{const s=t.innerType._zod.pattern;return s?new RegExp(`^(${Hd(s.source)}|null)$`):void 0}),ke(n._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),n._zod.parse=(s,r)=>s.value===null?s:t.innerType._zod.run(s,r)}),_A=$("$ZodDefault",(n,t)=>{Xe.init(n,t),n._zod.optin="optional",ke(n._zod,"values",()=>t.innerType._zod.values),n._zod.parse=(s,r)=>{if(r.direction==="backward")return t.innerType._zod.run(s,r);if(s.value===void 0)return s.value=t.defaultValue,s;const l=t.innerType._zod.run(s,r);return l instanceof Promise?l.then(u=>l0(u,t)):l0(l,t)}});function l0(n,t){return n.value===void 0&&(n.value=t.defaultValue),n}const EA=$("$ZodPrefault",(n,t)=>{Xe.init(n,t),n._zod.optin="optional",ke(n._zod,"values",()=>t.innerType._zod.values),n._zod.parse=(s,r)=>(r.direction==="backward"||s.value===void 0&&(s.value=t.defaultValue),t.innerType._zod.run(s,r))}),xA=$("$ZodNonOptional",(n,t)=>{Xe.init(n,t),ke(n._zod,"values",()=>{const s=t.innerType._zod.values;return s?new Set([...s].filter(r=>r!==void 0)):void 0}),n._zod.parse=(s,r)=>{const l=t.innerType._zod.run(s,r);return l instanceof Promise?l.then(u=>o0(u,n)):o0(l,n)}});function o0(n,t){return!n.issues.length&&n.value===void 0&&n.issues.push({code:"invalid_type",expected:"nonoptional",input:n.value,inst:t}),n}const TA=$("$ZodCatch",(n,t)=>{Xe.init(n,t),ke(n._zod,"optin",()=>t.innerType._zod.optin),ke(n._zod,"optout",()=>t.innerType._zod.optout),ke(n._zod,"values",()=>t.innerType._zod.values),n._zod.parse=(s,r)=>{if(r.direction==="backward")return t.innerType._zod.run(s,r);const l=t.innerType._zod.run(s,r);return l instanceof Promise?l.then(u=>(s.value=u.value,u.issues.length&&(s.value=t.catchValue({...s,error:{issues:u.issues.map(c=>ks(c,r,Ds()))},input:s.value}),s.issues=[]),s)):(s.value=l.value,l.issues.length&&(s.value=t.catchValue({...s,error:{issues:l.issues.map(u=>ks(u,r,Ds()))},input:s.value}),s.issues=[]),s)}}),OA=$("$ZodPipe",(n,t)=>{Xe.init(n,t),ke(n._zod,"values",()=>t.in._zod.values),ke(n._zod,"optin",()=>t.in._zod.optin),ke(n._zod,"optout",()=>t.out._zod.optout),ke(n._zod,"propValues",()=>t.in._zod.propValues),n._zod.parse=(s,r)=>{if(r.direction==="backward"){const u=t.out._zod.run(s,r);return u instanceof Promise?u.then(c=>ru(c,t.in,r)):ru(u,t.in,r)}const l=t.in._zod.run(s,r);return l instanceof Promise?l.then(u=>ru(u,t.out,r)):ru(l,t.out,r)}});function ru(n,t,s){return n.issues.length?(n.aborted=!0,n):t._zod.run({value:n.value,issues:n.issues},s)}const zA=$("$ZodReadonly",(n,t)=>{Xe.init(n,t),ke(n._zod,"propValues",()=>t.innerType._zod.propValues),ke(n._zod,"values",()=>t.innerType._zod.values),ke(n._zod,"optin",()=>{var s,r;return(r=(s=t.innerType)==null?void 0:s._zod)==null?void 0:r.optin}),ke(n._zod,"optout",()=>{var s,r;return(r=(s=t.innerType)==null?void 0:s._zod)==null?void 0:r.optout}),n._zod.parse=(s,r)=>{if(r.direction==="backward")return t.innerType._zod.run(s,r);const l=t.innerType._zod.run(s,r);return l instanceof Promise?l.then(u0):u0(l)}});function u0(n){return n.value=Object.freeze(n.value),n}const RA=$("$ZodCustom",(n,t)=>{Gt.init(n,t),Xe.init(n,t),n._zod.parse=(s,r)=>s,n._zod.check=s=>{const r=s.value,l=t.fn(r);if(l instanceof Promise)return l.then(u=>c0(u,s,r,n));c0(l,s,r,n)}});function c0(n,t,s,r){if(!n){const l={code:"custom",input:s,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(l.params=r._zod.def.params),t.issues.push(rl(l))}}var f0;class CA{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...s){const r=s[0];return this._map.set(t,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const s=this._map.get(t);return s&&typeof s=="object"&&"id"in s&&this._idmap.delete(s.id),this._map.delete(t),this}get(t){const s=t._zod.parent;if(s){const r={...this.get(s)??{}};delete r.id;const l={...r,...this._map.get(t)};return Object.keys(l).length?l:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function AA(){return new CA}(f0=globalThis).__zod_globalRegistry??(f0.__zod_globalRegistry=AA());const Ya=globalThis.__zod_globalRegistry;function MA(n,t){return new n({type:"string",...ce(t)})}function DA(n,t){return new n({type:"string",format:"email",check:"string_format",abort:!1,...ce(t)})}function h0(n,t){return new n({type:"string",format:"guid",check:"string_format",abort:!1,...ce(t)})}function kA(n,t){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,...ce(t)})}function NA(n,t){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ce(t)})}function jA(n,t){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ce(t)})}function UA(n,t){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ce(t)})}function BA(n,t){return new n({type:"string",format:"url",check:"string_format",abort:!1,...ce(t)})}function LA(n,t){return new n({type:"string",format:"emoji",check:"string_format",abort:!1,...ce(t)})}function HA(n,t){return new n({type:"string",format:"nanoid",check:"string_format",abort:!1,...ce(t)})}function ZA(n,t){return new n({type:"string",format:"cuid",check:"string_format",abort:!1,...ce(t)})}function $A(n,t){return new n({type:"string",format:"cuid2",check:"string_format",abort:!1,...ce(t)})}function qA(n,t){return new n({type:"string",format:"ulid",check:"string_format",abort:!1,...ce(t)})}function IA(n,t){return new n({type:"string",format:"xid",check:"string_format",abort:!1,...ce(t)})}function KA(n,t){return new n({type:"string",format:"ksuid",check:"string_format",abort:!1,...ce(t)})}function VA(n,t){return new n({type:"string",format:"ipv4",check:"string_format",abort:!1,...ce(t)})}function GA(n,t){return new n({type:"string",format:"ipv6",check:"string_format",abort:!1,...ce(t)})}function YA(n,t){return new n({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ce(t)})}function JA(n,t){return new n({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ce(t)})}function QA(n,t){return new n({type:"string",format:"base64",check:"string_format",abort:!1,...ce(t)})}function XA(n,t){return new n({type:"string",format:"base64url",check:"string_format",abort:!1,...ce(t)})}function FA(n,t){return new n({type:"string",format:"e164",check:"string_format",abort:!1,...ce(t)})}function PA(n,t){return new n({type:"string",format:"jwt",check:"string_format",abort:!1,...ce(t)})}function WA(n,t){return new n({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ce(t)})}function e2(n,t){return new n({type:"string",format:"date",check:"string_format",...ce(t)})}function t2(n,t){return new n({type:"string",format:"time",check:"string_format",precision:null,...ce(t)})}function n2(n,t){return new n({type:"string",format:"duration",check:"string_format",...ce(t)})}function i2(n,t){return new n({type:"number",checks:[],...ce(t)})}function s2(n,t){return new n({type:"number",check:"number_format",abort:!1,format:"safeint",...ce(t)})}function r2(n,t){return new n({type:"boolean",...ce(t)})}function a2(n){return new n({type:"any"})}function l2(n){return new n({type:"unknown"})}function o2(n,t){return new n({type:"never",...ce(t)})}function d0(n,t){return new KS({check:"less_than",...ce(t),value:n,inclusive:!1})}function kh(n,t){return new KS({check:"less_than",...ce(t),value:n,inclusive:!0})}function p0(n,t){return new VS({check:"greater_than",...ce(t),value:n,inclusive:!1})}function Nh(n,t){return new VS({check:"greater_than",...ce(t),value:n,inclusive:!0})}function m0(n,t){return new EC({check:"multiple_of",...ce(t),value:n})}function FS(n,t){return new TC({check:"max_length",...ce(t),maximum:n})}function Du(n,t){return new OC({check:"min_length",...ce(t),minimum:n})}function PS(n,t){return new zC({check:"length_equals",...ce(t),length:n})}function u2(n,t){return new RC({check:"string_format",format:"regex",...ce(t),pattern:n})}function c2(n){return new CC({check:"string_format",format:"lowercase",...ce(n)})}function f2(n){return new AC({check:"string_format",format:"uppercase",...ce(n)})}function h2(n,t){return new MC({check:"string_format",format:"includes",...ce(t),includes:n})}function d2(n,t){return new DC({check:"string_format",format:"starts_with",...ce(t),prefix:n})}function p2(n,t){return new kC({check:"string_format",format:"ends_with",...ce(t),suffix:n})}function Vr(n){return new NC({check:"overwrite",tx:n})}function m2(n){return Vr(t=>t.normalize(n))}function y2(){return Vr(n=>n.trim())}function g2(){return Vr(n=>n.toLowerCase())}function v2(){return Vr(n=>n.toUpperCase())}function S2(){return Vr(n=>zR(n))}function b2(n,t,s){return new n({type:"array",element:t,...ce(s)})}function w2(n,t,s){return new n({type:"custom",check:"custom",fn:t,...ce(s)})}function _2(n){const t=E2(s=>(s.addIssue=r=>{if(typeof r=="string")s.issues.push(rl(r,s.value,t._zod.def));else{const l=r;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=s.value),l.inst??(l.inst=t),l.continue??(l.continue=!t._zod.def.abort),s.issues.push(rl(l))}},n(s.value,s)));return t}function E2(n,t){const s=new Gt({check:"custom",...ce(t)});return s._zod.check=n,s}function WS(n){let t=(n==null?void 0:n.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:n.processors??{},metadataRegistry:(n==null?void 0:n.metadata)??Ya,target:t,unrepresentable:(n==null?void 0:n.unrepresentable)??"throw",override:(n==null?void 0:n.override)??(()=>{}),io:(n==null?void 0:n.io)??"output",counter:0,seen:new Map,cycles:(n==null?void 0:n.cycles)??"ref",reused:(n==null?void 0:n.reused)??"inline",external:(n==null?void 0:n.external)??void 0}}function _t(n,t,s={path:[],schemaPath:[]}){var g,y;var r;const l=n._zod.def,u=t.seen.get(n);if(u)return u.count++,s.schemaPath.includes(n)&&(u.cycle=s.path),u.schema;const c={schema:{},count:1,cycle:void 0,path:s.path};t.seen.set(n,c);const d=(y=(g=n._zod).toJSONSchema)==null?void 0:y.call(g);if(d)c.schema=d;else{const w={...s,schemaPath:[...s.schemaPath,n],path:s.path};if(n._zod.processJSONSchema)n._zod.processJSONSchema(t,c.schema,w);else{const b=c.schema,E=t.processors[l.type];if(!E)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${l.type}`);E(n,t,b,w)}const S=n._zod.parent;S&&(c.ref||(c.ref=S),_t(S,t,w),t.seen.get(S).isParent=!0)}const p=t.metadataRegistry.get(n);return p&&Object.assign(c.schema,p),t.io==="input"&&At(n)&&(delete c.schema.examples,delete c.schema.default),t.io==="input"&&c.schema._prefault&&((r=c.schema).default??(r.default=c.schema._prefault)),delete c.schema._prefault,t.seen.get(n).schema}function eb(n,t){var c,d,p,m;const s=n.seen.get(t);if(!s)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const g of n.seen.entries()){const y=(c=n.metadataRegistry.get(g[0]))==null?void 0:c.id;if(y){const w=r.get(y);if(w&&w!==g[0])throw new Error(`Duplicate schema id "${y}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(y,g[0])}}const l=g=>{var E;const y=n.target==="draft-2020-12"?"$defs":"definitions";if(n.external){const O=(E=n.external.registry.get(g[0]))==null?void 0:E.id,M=n.external.uri??(N=>N);if(O)return{ref:M(O)};const L=g[1].defId??g[1].schema.id??`schema${n.counter++}`;return g[1].defId=L,{defId:L,ref:`${M("__shared")}#/${y}/${L}`}}if(g[1]===s)return{ref:"#"};const S=`#/${y}/`,b=g[1].schema.id??`__schema${n.counter++}`;return{defId:b,ref:S+b}},u=g=>{if(g[1].schema.$ref)return;const y=g[1],{ref:w,defId:S}=l(g);y.def={...y.schema},S&&(y.defId=S);const b=y.schema;for(const E in b)delete b[E];b.$ref=w};if(n.cycles==="throw")for(const g of n.seen.entries()){const y=g[1];if(y.cycle)throw new Error(`Cycle detected: #/${(d=y.cycle)==null?void 0:d.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const g of n.seen.entries()){const y=g[1];if(t===g[0]){u(g);continue}if(n.external){const S=(p=n.external.registry.get(g[0]))==null?void 0:p.id;if(t!==g[0]&&S){u(g);continue}}if((m=n.metadataRegistry.get(g[0]))==null?void 0:m.id){u(g);continue}if(y.cycle){u(g);continue}if(y.count>1&&n.reused==="ref"){u(g);continue}}}function tb(n,t){var c,d,p;const s=n.seen.get(t);if(!s)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=m=>{const g=n.seen.get(m);if(g.ref===null)return;const y=g.def??g.schema,w={...y},S=g.ref;if(g.ref=null,S){r(S);const E=n.seen.get(S),O=E.schema;if(O.$ref&&(n.target==="draft-07"||n.target==="draft-04"||n.target==="openapi-3.0")?(y.allOf=y.allOf??[],y.allOf.push(O)):Object.assign(y,O),Object.assign(y,w),m._zod.parent===S)for(const L in y)L==="$ref"||L==="allOf"||L in w||delete y[L];if(O.$ref)for(const L in y)L==="$ref"||L==="allOf"||L in E.def&&JSON.stringify(y[L])===JSON.stringify(E.def[L])&&delete y[L]}const b=m._zod.parent;if(b&&b!==S){r(b);const E=n.seen.get(b);if(E!=null&&E.schema.$ref&&(y.$ref=E.schema.$ref,E.def))for(const O in y)O==="$ref"||O==="allOf"||O in E.def&&JSON.stringify(y[O])===JSON.stringify(E.def[O])&&delete y[O]}n.override({zodSchema:m,jsonSchema:y,path:g.path??[]})};for(const m of[...n.seen.entries()].reverse())r(m[0]);const l={};if(n.target==="draft-2020-12"?l.$schema="https://json-schema.org/draft/2020-12/schema":n.target==="draft-07"?l.$schema="http://json-schema.org/draft-07/schema#":n.target==="draft-04"?l.$schema="http://json-schema.org/draft-04/schema#":n.target,(c=n.external)!=null&&c.uri){const m=(d=n.external.registry.get(t))==null?void 0:d.id;if(!m)throw new Error("Schema is missing an `id` property");l.$id=n.external.uri(m)}Object.assign(l,s.def??s.schema);const u=((p=n.external)==null?void 0:p.defs)??{};for(const m of n.seen.entries()){const g=m[1];g.def&&g.defId&&(u[g.defId]=g.def)}n.external||Object.keys(u).length>0&&(n.target==="draft-2020-12"?l.$defs=u:l.definitions=u);try{const m=JSON.parse(JSON.stringify(l));return Object.defineProperty(m,"~standard",{value:{...t["~standard"],jsonSchema:{input:ku(t,"input",n.processors),output:ku(t,"output",n.processors)}},enumerable:!1,writable:!1}),m}catch{throw new Error("Error converting schema to JSON.")}}function At(n,t){const s=t??{seen:new Set};if(s.seen.has(n))return!1;s.seen.add(n);const r=n._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return At(r.element,s);if(r.type==="set")return At(r.valueType,s);if(r.type==="lazy")return At(r.getter(),s);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return At(r.innerType,s);if(r.type==="intersection")return At(r.left,s)||At(r.right,s);if(r.type==="record"||r.type==="map")return At(r.keyType,s)||At(r.valueType,s);if(r.type==="pipe")return At(r.in,s)||At(r.out,s);if(r.type==="object"){for(const l in r.shape)if(At(r.shape[l],s))return!0;return!1}if(r.type==="union"){for(const l of r.options)if(At(l,s))return!0;return!1}if(r.type==="tuple"){for(const l of r.items)if(At(l,s))return!0;return!!(r.rest&&At(r.rest,s))}return!1}const x2=(n,t={})=>s=>{const r=WS({...s,processors:t});return _t(n,r),eb(r,n),tb(r,n)},ku=(n,t,s={})=>r=>{const{libraryOptions:l,target:u}=r??{},c=WS({...l??{},target:u,io:t,processors:s});return _t(n,c),eb(c,n),tb(c,n)},T2={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},O2=(n,t,s,r)=>{const l=s;l.type="string";const{minimum:u,maximum:c,format:d,patterns:p,contentEncoding:m}=n._zod.bag;if(typeof u=="number"&&(l.minLength=u),typeof c=="number"&&(l.maxLength=c),d&&(l.format=T2[d]??d,l.format===""&&delete l.format,d==="time"&&delete l.format),m&&(l.contentEncoding=m),p&&p.size>0){const g=[...p];g.length===1?l.pattern=g[0].source:g.length>1&&(l.allOf=[...g.map(y=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:y.source}))])}},z2=(n,t,s,r)=>{const l=s,{minimum:u,maximum:c,format:d,multipleOf:p,exclusiveMaximum:m,exclusiveMinimum:g}=n._zod.bag;typeof d=="string"&&d.includes("int")?l.type="integer":l.type="number",typeof g=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(l.minimum=g,l.exclusiveMinimum=!0):l.exclusiveMinimum=g),typeof u=="number"&&(l.minimum=u,typeof g=="number"&&t.target!=="draft-04"&&(g>=u?delete l.minimum:delete l.exclusiveMinimum)),typeof m=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(l.maximum=m,l.exclusiveMaximum=!0):l.exclusiveMaximum=m),typeof c=="number"&&(l.maximum=c,typeof m=="number"&&t.target!=="draft-04"&&(m<=c?delete l.maximum:delete l.exclusiveMaximum)),typeof p=="number"&&(l.multipleOf=p)},R2=(n,t,s,r)=>{s.type="boolean"},C2=(n,t,s,r)=>{s.not={}},A2=(n,t,s,r)=>{},M2=(n,t,s,r)=>{},D2=(n,t,s,r)=>{const l=n._zod.def,u=kS(l.entries);u.every(c=>typeof c=="number")&&(s.type="number"),u.every(c=>typeof c=="string")&&(s.type="string"),s.enum=u},k2=(n,t,s,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},N2=(n,t,s,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},j2=(n,t,s,r)=>{const l=s,u=n._zod.def,{minimum:c,maximum:d}=n._zod.bag;typeof c=="number"&&(l.minItems=c),typeof d=="number"&&(l.maxItems=d),l.type="array",l.items=_t(u.element,t,{...r,path:[...r.path,"items"]})},U2=(n,t,s,r)=>{var m;const l=s,u=n._zod.def;l.type="object",l.properties={};const c=u.shape;for(const g in c)l.properties[g]=_t(c[g],t,{...r,path:[...r.path,"properties",g]});const d=new Set(Object.keys(c)),p=new Set([...d].filter(g=>{const y=u.shape[g]._zod;return t.io==="input"?y.optin===void 0:y.optout===void 0}));p.size>0&&(l.required=Array.from(p)),((m=u.catchall)==null?void 0:m._zod.def.type)==="never"?l.additionalProperties=!1:u.catchall?u.catchall&&(l.additionalProperties=_t(u.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(l.additionalProperties=!1)},B2=(n,t,s,r)=>{const l=n._zod.def,u=l.inclusive===!1,c=l.options.map((d,p)=>_t(d,t,{...r,path:[...r.path,u?"oneOf":"anyOf",p]}));u?s.oneOf=c:s.anyOf=c},L2=(n,t,s,r)=>{const l=n._zod.def,u=_t(l.left,t,{...r,path:[...r.path,"allOf",0]}),c=_t(l.right,t,{...r,path:[...r.path,"allOf",1]}),d=m=>"allOf"in m&&Object.keys(m).length===1,p=[...d(u)?u.allOf:[u],...d(c)?c.allOf:[c]];s.allOf=p},H2=(n,t,s,r)=>{const l=n._zod.def,u=_t(l.innerType,t,r),c=t.seen.get(n);t.target==="openapi-3.0"?(c.ref=l.innerType,s.nullable=!0):s.anyOf=[u,{type:"null"}]},Z2=(n,t,s,r)=>{const l=n._zod.def;_t(l.innerType,t,r);const u=t.seen.get(n);u.ref=l.innerType},$2=(n,t,s,r)=>{const l=n._zod.def;_t(l.innerType,t,r);const u=t.seen.get(n);u.ref=l.innerType,s.default=JSON.parse(JSON.stringify(l.defaultValue))},q2=(n,t,s,r)=>{const l=n._zod.def;_t(l.innerType,t,r);const u=t.seen.get(n);u.ref=l.innerType,t.io==="input"&&(s._prefault=JSON.parse(JSON.stringify(l.defaultValue)))},I2=(n,t,s,r)=>{const l=n._zod.def;_t(l.innerType,t,r);const u=t.seen.get(n);u.ref=l.innerType;let c;try{c=l.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}s.default=c},K2=(n,t,s,r)=>{const l=n._zod.def,u=t.io==="input"?l.in._zod.def.type==="transform"?l.out:l.in:l.out;_t(u,t,r);const c=t.seen.get(n);c.ref=u},V2=(n,t,s,r)=>{const l=n._zod.def;_t(l.innerType,t,r);const u=t.seen.get(n);u.ref=l.innerType,s.readOnly=!0},nb=(n,t,s,r)=>{const l=n._zod.def;_t(l.innerType,t,r);const u=t.seen.get(n);u.ref=l.innerType},G2=$("ZodISODateTime",(n,t)=>{JC.init(n,t),Ye.init(n,t)});function Y2(n){return WA(G2,n)}const J2=$("ZodISODate",(n,t)=>{QC.init(n,t),Ye.init(n,t)});function Q2(n){return e2(J2,n)}const X2=$("ZodISOTime",(n,t)=>{XC.init(n,t),Ye.init(n,t)});function F2(n){return t2(X2,n)}const P2=$("ZodISODuration",(n,t)=>{FC.init(n,t),Ye.init(n,t)});function W2(n){return n2(P2,n)}const eM=(n,t)=>{LS.init(n,t),n.name="ZodError",Object.defineProperties(n,{format:{value:s=>ZR(n,s)},flatten:{value:s=>HR(n,s)},addIssue:{value:s=>{n.issues.push(s),n.message=JSON.stringify(n.issues,ad,2)}},addIssues:{value:s=>{n.issues.push(...s),n.message=JSON.stringify(n.issues,ad,2)}},isEmpty:{get(){return n.issues.length===0}}})},wn=$("ZodError",eM,{Parent:Error}),tM=$d(wn),nM=qd(wn),iM=Iu(wn),sM=Ku(wn),rM=IR(wn),aM=KR(wn),lM=VR(wn),oM=GR(wn),uM=YR(wn),cM=JR(wn),fM=QR(wn),hM=XR(wn),Fe=$("ZodType",(n,t)=>(Xe.init(n,t),Object.assign(n["~standard"],{jsonSchema:{input:ku(n,"input"),output:ku(n,"output")}}),n.toJSONSchema=x2(n,{}),n.def=t,n.type=t.type,Object.defineProperty(n,"_def",{value:t}),n.check=(...s)=>n.clone(es(t,{checks:[...t.checks??[],...s.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),n.with=n.check,n.clone=(s,r)=>ts(n,s,r),n.brand=()=>n,n.register=((s,r)=>(s.add(n,r),n)),n.parse=(s,r)=>tM(n,s,r,{callee:n.parse}),n.safeParse=(s,r)=>iM(n,s,r),n.parseAsync=async(s,r)=>nM(n,s,r,{callee:n.parseAsync}),n.safeParseAsync=async(s,r)=>sM(n,s,r),n.spa=n.safeParseAsync,n.encode=(s,r)=>rM(n,s,r),n.decode=(s,r)=>aM(n,s,r),n.encodeAsync=async(s,r)=>lM(n,s,r),n.decodeAsync=async(s,r)=>oM(n,s,r),n.safeEncode=(s,r)=>uM(n,s,r),n.safeDecode=(s,r)=>cM(n,s,r),n.safeEncodeAsync=async(s,r)=>fM(n,s,r),n.safeDecodeAsync=async(s,r)=>hM(n,s,r),n.refine=(s,r)=>n.check(oD(s,r)),n.superRefine=s=>n.check(uD(s)),n.overwrite=s=>n.check(Vr(s)),n.optional=()=>S0(n),n.exactOptional=()=>QM(n),n.nullable=()=>b0(n),n.nullish=()=>S0(b0(n)),n.nonoptional=s=>tD(n,s),n.array=()=>ZM(n),n.or=s=>IM([n,s]),n.and=s=>VM(n,s),n.transform=s=>w0(n,YM(s)),n.default=s=>PM(n,s),n.prefault=s=>eD(n,s),n.catch=s=>iD(n,s),n.pipe=s=>w0(n,s),n.readonly=()=>aD(n),n.describe=s=>{const r=n.clone();return Ya.add(r,{description:s}),r},Object.defineProperty(n,"description",{get(){var s;return(s=Ya.get(n))==null?void 0:s.description},configurable:!0}),n.meta=(...s)=>{if(s.length===0)return Ya.get(n);const r=n.clone();return Ya.add(r,s[0]),r},n.isOptional=()=>n.safeParse(void 0).success,n.isNullable=()=>n.safeParse(null).success,n.apply=s=>s(n),n)),ib=$("_ZodString",(n,t)=>{Id.init(n,t),Fe.init(n,t),n._zod.processJSONSchema=(r,l,u)=>O2(n,r,l);const s=n._zod.bag;n.format=s.format??null,n.minLength=s.minimum??null,n.maxLength=s.maximum??null,n.regex=(...r)=>n.check(u2(...r)),n.includes=(...r)=>n.check(h2(...r)),n.startsWith=(...r)=>n.check(d2(...r)),n.endsWith=(...r)=>n.check(p2(...r)),n.min=(...r)=>n.check(Du(...r)),n.max=(...r)=>n.check(FS(...r)),n.length=(...r)=>n.check(PS(...r)),n.nonempty=(...r)=>n.check(Du(1,...r)),n.lowercase=r=>n.check(c2(r)),n.uppercase=r=>n.check(f2(r)),n.trim=()=>n.check(y2()),n.normalize=(...r)=>n.check(m2(...r)),n.toLowerCase=()=>n.check(g2()),n.toUpperCase=()=>n.check(v2()),n.slugify=()=>n.check(S2())}),dM=$("ZodString",(n,t)=>{Id.init(n,t),ib.init(n,t),n.email=s=>n.check(DA(pM,s)),n.url=s=>n.check(BA(mM,s)),n.jwt=s=>n.check(PA(AM,s)),n.emoji=s=>n.check(LA(yM,s)),n.guid=s=>n.check(h0(y0,s)),n.uuid=s=>n.check(kA(au,s)),n.uuidv4=s=>n.check(NA(au,s)),n.uuidv6=s=>n.check(jA(au,s)),n.uuidv7=s=>n.check(UA(au,s)),n.nanoid=s=>n.check(HA(gM,s)),n.guid=s=>n.check(h0(y0,s)),n.cuid=s=>n.check(ZA(vM,s)),n.cuid2=s=>n.check($A(SM,s)),n.ulid=s=>n.check(qA(bM,s)),n.base64=s=>n.check(QA(zM,s)),n.base64url=s=>n.check(XA(RM,s)),n.xid=s=>n.check(IA(wM,s)),n.ksuid=s=>n.check(KA(_M,s)),n.ipv4=s=>n.check(VA(EM,s)),n.ipv6=s=>n.check(GA(xM,s)),n.cidrv4=s=>n.check(YA(TM,s)),n.cidrv6=s=>n.check(JA(OM,s)),n.e164=s=>n.check(FA(CM,s)),n.datetime=s=>n.check(Y2(s)),n.date=s=>n.check(Q2(s)),n.time=s=>n.check(F2(s)),n.duration=s=>n.check(W2(s))});function Nt(n){return MA(dM,n)}const Ye=$("ZodStringFormat",(n,t)=>{Ke.init(n,t),ib.init(n,t)}),pM=$("ZodEmail",(n,t)=>{HC.init(n,t),Ye.init(n,t)}),y0=$("ZodGUID",(n,t)=>{BC.init(n,t),Ye.init(n,t)}),au=$("ZodUUID",(n,t)=>{LC.init(n,t),Ye.init(n,t)}),mM=$("ZodURL",(n,t)=>{ZC.init(n,t),Ye.init(n,t)}),yM=$("ZodEmoji",(n,t)=>{$C.init(n,t),Ye.init(n,t)}),gM=$("ZodNanoID",(n,t)=>{qC.init(n,t),Ye.init(n,t)}),vM=$("ZodCUID",(n,t)=>{IC.init(n,t),Ye.init(n,t)}),SM=$("ZodCUID2",(n,t)=>{KC.init(n,t),Ye.init(n,t)}),bM=$("ZodULID",(n,t)=>{VC.init(n,t),Ye.init(n,t)}),wM=$("ZodXID",(n,t)=>{GC.init(n,t),Ye.init(n,t)}),_M=$("ZodKSUID",(n,t)=>{YC.init(n,t),Ye.init(n,t)}),EM=$("ZodIPv4",(n,t)=>{PC.init(n,t),Ye.init(n,t)}),xM=$("ZodIPv6",(n,t)=>{WC.init(n,t),Ye.init(n,t)}),TM=$("ZodCIDRv4",(n,t)=>{eA.init(n,t),Ye.init(n,t)}),OM=$("ZodCIDRv6",(n,t)=>{tA.init(n,t),Ye.init(n,t)}),zM=$("ZodBase64",(n,t)=>{nA.init(n,t),Ye.init(n,t)}),RM=$("ZodBase64URL",(n,t)=>{sA.init(n,t),Ye.init(n,t)}),CM=$("ZodE164",(n,t)=>{rA.init(n,t),Ye.init(n,t)}),AM=$("ZodJWT",(n,t)=>{lA.init(n,t),Ye.init(n,t)}),sb=$("ZodNumber",(n,t)=>{YS.init(n,t),Fe.init(n,t),n._zod.processJSONSchema=(r,l,u)=>z2(n,r,l),n.gt=(r,l)=>n.check(p0(r,l)),n.gte=(r,l)=>n.check(Nh(r,l)),n.min=(r,l)=>n.check(Nh(r,l)),n.lt=(r,l)=>n.check(d0(r,l)),n.lte=(r,l)=>n.check(kh(r,l)),n.max=(r,l)=>n.check(kh(r,l)),n.int=r=>n.check(g0(r)),n.safe=r=>n.check(g0(r)),n.positive=r=>n.check(p0(0,r)),n.nonnegative=r=>n.check(Nh(0,r)),n.negative=r=>n.check(d0(0,r)),n.nonpositive=r=>n.check(kh(0,r)),n.multipleOf=(r,l)=>n.check(m0(r,l)),n.step=(r,l)=>n.check(m0(r,l)),n.finite=()=>n;const s=n._zod.bag;n.minValue=Math.max(s.minimum??Number.NEGATIVE_INFINITY,s.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,n.maxValue=Math.min(s.maximum??Number.POSITIVE_INFINITY,s.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,n.isInt=(s.format??"").includes("int")||Number.isSafeInteger(s.multipleOf??.5),n.isFinite=!0,n.format=s.format??null});function al(n){return i2(sb,n)}const MM=$("ZodNumberFormat",(n,t)=>{oA.init(n,t),sb.init(n,t)});function g0(n){return s2(MM,n)}const DM=$("ZodBoolean",(n,t)=>{uA.init(n,t),Fe.init(n,t),n._zod.processJSONSchema=(s,r,l)=>R2(n,s,r)});function kM(n){return r2(DM,n)}const NM=$("ZodAny",(n,t)=>{cA.init(n,t),Fe.init(n,t),n._zod.processJSONSchema=(s,r,l)=>A2()});function jM(){return a2(NM)}const UM=$("ZodUnknown",(n,t)=>{fA.init(n,t),Fe.init(n,t),n._zod.processJSONSchema=(s,r,l)=>M2()});function v0(){return l2(UM)}const BM=$("ZodNever",(n,t)=>{hA.init(n,t),Fe.init(n,t),n._zod.processJSONSchema=(s,r,l)=>C2(n,s,r)});function LM(n){return o2(BM,n)}const HM=$("ZodArray",(n,t)=>{dA.init(n,t),Fe.init(n,t),n._zod.processJSONSchema=(s,r,l)=>j2(n,s,r,l),n.element=t.element,n.min=(s,r)=>n.check(Du(s,r)),n.nonempty=s=>n.check(Du(1,s)),n.max=(s,r)=>n.check(FS(s,r)),n.length=(s,r)=>n.check(PS(s,r)),n.unwrap=()=>n.element});function ZM(n,t){return b2(HM,n,t)}const $M=$("ZodObject",(n,t)=>{mA.init(n,t),Fe.init(n,t),n._zod.processJSONSchema=(s,r,l)=>U2(n,s,r,l),ke(n,"shape",()=>t.shape),n.keyof=()=>Kd(Object.keys(n._zod.def.shape)),n.catchall=s=>n.clone({...n._zod.def,catchall:s}),n.passthrough=()=>n.clone({...n._zod.def,catchall:v0()}),n.loose=()=>n.clone({...n._zod.def,catchall:v0()}),n.strict=()=>n.clone({...n._zod.def,catchall:LM()}),n.strip=()=>n.clone({...n._zod.def,catchall:void 0}),n.extend=s=>NR(n,s),n.safeExtend=s=>jR(n,s),n.merge=s=>UR(n,s),n.pick=s=>DR(n,s),n.omit=s=>kR(n,s),n.partial=(...s)=>BR(rb,n,s[0]),n.required=(...s)=>LR(ab,n,s[0])});function Gu(n,t){const s={type:"object",shape:n??{},...ce(t)};return new $M(s)}const qM=$("ZodUnion",(n,t)=>{yA.init(n,t),Fe.init(n,t),n._zod.processJSONSchema=(s,r,l)=>B2(n,s,r,l),n.options=t.options});function IM(n,t){return new qM({type:"union",options:n,...ce(t)})}const KM=$("ZodIntersection",(n,t)=>{gA.init(n,t),Fe.init(n,t),n._zod.processJSONSchema=(s,r,l)=>L2(n,s,r,l)});function VM(n,t){return new KM({type:"intersection",left:n,right:t})}const od=$("ZodEnum",(n,t)=>{vA.init(n,t),Fe.init(n,t),n._zod.processJSONSchema=(r,l,u)=>D2(n,r,l),n.enum=t.entries,n.options=Object.values(t.entries);const s=new Set(Object.keys(t.entries));n.extract=(r,l)=>{const u={};for(const c of r)if(s.has(c))u[c]=t.entries[c];else throw new Error(`Key ${c} not found in enum`);return new od({...t,checks:[],...ce(l),entries:u})},n.exclude=(r,l)=>{const u={...t.entries};for(const c of r)if(s.has(c))delete u[c];else throw new Error(`Key ${c} not found in enum`);return new od({...t,checks:[],...ce(l),entries:u})}});function Kd(n,t){const s=Array.isArray(n)?Object.fromEntries(n.map(r=>[r,r])):n;return new od({type:"enum",entries:s,...ce(t)})}const GM=$("ZodTransform",(n,t)=>{SA.init(n,t),Fe.init(n,t),n._zod.processJSONSchema=(s,r,l)=>N2(n,s),n._zod.parse=(s,r)=>{if(r.direction==="backward")throw new MS(n.constructor.name);s.addIssue=u=>{if(typeof u=="string")s.issues.push(rl(u,s.value,t));else{const c=u;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=s.value),c.inst??(c.inst=n),s.issues.push(rl(c))}};const l=t.transform(s.value,s);return l instanceof Promise?l.then(u=>(s.value=u,s)):(s.value=l,s)}});function YM(n){return new GM({type:"transform",transform:n})}const rb=$("ZodOptional",(n,t)=>{XS.init(n,t),Fe.init(n,t),n._zod.processJSONSchema=(s,r,l)=>nb(n,s,r,l),n.unwrap=()=>n._zod.def.innerType});function S0(n){return new rb({type:"optional",innerType:n})}const JM=$("ZodExactOptional",(n,t)=>{bA.init(n,t),Fe.init(n,t),n._zod.processJSONSchema=(s,r,l)=>nb(n,s,r,l),n.unwrap=()=>n._zod.def.innerType});function QM(n){return new JM({type:"optional",innerType:n})}const XM=$("ZodNullable",(n,t)=>{wA.init(n,t),Fe.init(n,t),n._zod.processJSONSchema=(s,r,l)=>H2(n,s,r,l),n.unwrap=()=>n._zod.def.innerType});function b0(n){return new XM({type:"nullable",innerType:n})}const FM=$("ZodDefault",(n,t)=>{_A.init(n,t),Fe.init(n,t),n._zod.processJSONSchema=(s,r,l)=>$2(n,s,r,l),n.unwrap=()=>n._zod.def.innerType,n.removeDefault=n.unwrap});function PM(n,t){return new FM({type:"default",innerType:n,get defaultValue(){return typeof t=="function"?t():jS(t)}})}const WM=$("ZodPrefault",(n,t)=>{EA.init(n,t),Fe.init(n,t),n._zod.processJSONSchema=(s,r,l)=>q2(n,s,r,l),n.unwrap=()=>n._zod.def.innerType});function eD(n,t){return new WM({type:"prefault",innerType:n,get defaultValue(){return typeof t=="function"?t():jS(t)}})}const ab=$("ZodNonOptional",(n,t)=>{xA.init(n,t),Fe.init(n,t),n._zod.processJSONSchema=(s,r,l)=>Z2(n,s,r,l),n.unwrap=()=>n._zod.def.innerType});function tD(n,t){return new ab({type:"nonoptional",innerType:n,...ce(t)})}const nD=$("ZodCatch",(n,t)=>{TA.init(n,t),Fe.init(n,t),n._zod.processJSONSchema=(s,r,l)=>I2(n,s,r,l),n.unwrap=()=>n._zod.def.innerType,n.removeCatch=n.unwrap});function iD(n,t){return new nD({type:"catch",innerType:n,catchValue:typeof t=="function"?t:()=>t})}const sD=$("ZodPipe",(n,t)=>{OA.init(n,t),Fe.init(n,t),n._zod.processJSONSchema=(s,r,l)=>K2(n,s,r,l),n.in=t.in,n.out=t.out});function w0(n,t){return new sD({type:"pipe",in:n,out:t})}const rD=$("ZodReadonly",(n,t)=>{zA.init(n,t),Fe.init(n,t),n._zod.processJSONSchema=(s,r,l)=>V2(n,s,r,l),n.unwrap=()=>n._zod.def.innerType});function aD(n){return new rD({type:"readonly",innerType:n})}const lD=$("ZodCustom",(n,t)=>{RA.init(n,t),Fe.init(n,t),n._zod.processJSONSchema=(s,r,l)=>k2(n,s)});function oD(n,t={}){return w2(lD,n,t)}function uD(n){return _2(n)}const cD=Gu({id:Nt(),repo:Nt(),branch:Nt(),spec:Nt(),status:Kd(["running","needs_input","blocked","done"]),iteration:al(),started_at:Nt()}),fD=Gu({id:Nt(),session_id:Nt(),order:al(),content:Nt(),status:Kd(["pending","in_progress","completed"])}),hD=Gu({id:Nt(),session_id:Nt(),iteration:al(),sequence:al(),message:jM(),timestamp:Nt()}),dD=Gu({id:Nt(),session_id:Nt(),iteration:al(),question:Nt(),responded:kM(),response:Nt().nullable()}),pD=xR({sessions:{schema:cD,type:"session",primaryKey:"id"},tasks:{schema:fD,type:"task",primaryKey:"id"},claude_events:{schema:hD,type:"claude_event",primaryKey:"id"},input_requests:{schema:dD,type:"input_request",primaryKey:"id"}});function mD(n){return TR({streamOptions:{url:"/stream",headers:{Authorization:`Bearer ${n}`}},state:pD})}function yD(n,t){return{submitInput:aS({onMutate:({requestId:r,response:l})=>{n.collections.input_requests.update(r,u=>{u.responded=!0,u.response=l})},mutationFn:async({requestId:r,response:l})=>{const u=await fetch("/input",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({request_id:r,response:l})});if(!u.ok)throw new Error(`Failed to submit input: ${u.status}`)}})}}function gD({onLogin:n}){const[t,s]=j.useState(""),[r,l]=j.useState(null),[u,c]=j.useState(!1),d=async p=>{p.preventDefault(),c(!0),l(null);try{const m=await fetch("/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t})});if(!m.ok){m.status===401?l("Invalid password"):l(`Authentication failed: ${m.status}`),c(!1);return}const g=await m.json();n(g.token)}catch(m){l(m instanceof Error?m.message:"Connection failed"),c(!1)}};return Y.jsx("div",{className:"login",children:Y.jsxs("div",{className:"login-card",children:[Y.jsx("h1",{children:"Wisp"}),Y.jsx("p",{children:"Remote Access"}),Y.jsxs("form",{onSubmit:d,children:[Y.jsx("input",{type:"password",value:t,onChange:p=>s(p.target.value),placeholder:"Password",disabled:u,autoFocus:!0}),Y.jsx("button",{type:"submit",disabled:u||!t,children:u?"Connecting...":"Login"}),r&&Y.jsx("div",{className:"error-message",children:r})]})]})})}const jh=1;function ll(n,t=[]){const s=n&&typeof n=="object"&&typeof n.subscribeChanges=="function"&&typeof n.startSyncImmediate=="function"&&typeof n.id=="string",r=j.useRef(null),l=j.useRef(null),u=j.useRef(null),c=j.useRef(0),d=j.useRef(null),p=!r.current||s&&u.current!==n||!s&&(l.current===null||l.current.length!==t.length||l.current.some((b,E)=>b!==t[E]));if(p)if(s)n.startSyncImmediate(),r.current=n,u.current=n;else if(typeof n=="function"){const b=new ot,E=n(b);if(E==null)r.current=null;else if(E instanceof Ad)E.startSyncImmediate(),r.current=E;else if(E instanceof ot)r.current=Rh({query:n,startSync:!0,gcTime:jh});else if(E&&typeof E=="object")r.current=Rh({startSync:!0,gcTime:jh,...E});else throw new Error(`useLiveQuery callback must return a QueryBuilder, LiveQueryCollectionConfig, Collection, undefined, or null. Got: ${typeof E}`);l.current=[...t]}else r.current=Rh({startSync:!0,gcTime:jh,...n}),l.current=[...t];p&&(c.current=0,d.current=null);const m=j.useRef(null);(!m.current||p)&&(m.current=b=>{if(!r.current)return()=>{};const E=r.current.subscribeChanges(()=>{c.current+=1,b()});return r.current.status==="ready"&&(c.current+=1,b()),()=>{E.unsubscribe()}});const g=j.useRef(null);(!g.current||p)&&(g.current=()=>{const b=c.current,E=r.current;return(!d.current||d.current.version!==b||d.current.collection!==E)&&(d.current={collection:E,version:b}),d.current});const y=j.useSyncExternalStore(m.current,g.current),w=j.useRef(null),S=j.useRef(null);if(!w.current||w.current.version!==y.version||w.current.collection!==y.collection){if(!y.collection)S.current={state:void 0,data:void 0,collection:void 0,status:"disabled",isLoading:!1,isReady:!0,isIdle:!1,isError:!1,isCleanedUp:!1,isEnabled:!1};else{const b=Array.from(y.collection.entries()),O=y.collection.config.singleResult;let M=null,L=null;S.current={get state(){return M||(M=new Map(b)),M},get data(){return L||(L=b.map(([,N])=>N)),O?L[0]:L},collection:y.collection,status:y.collection.status,isLoading:y.collection.status==="loading",isReady:y.collection.status==="ready",isIdle:y.collection.status==="idle",isError:y.collection.status==="error",isCleanedUp:y.collection.status==="cleaned-up",isEnabled:!0}}w.current=y}return S.current}function vD({db:n}){var s,r;const t=ll(l=>l.from({sessions:n.collections.sessions}).orderBy(({sessions:u})=>u.started_at,"desc"));return Y.jsxs("div",{className:"dashboard",children:[Y.jsx("h2",{children:"Sessions"}),((s=t.data)==null?void 0:s.length)===0?Y.jsx("p",{className:"no-sessions",children:"No active sessions"}):Y.jsx("div",{className:"session-list",children:(r=t.data)==null?void 0:r.map(l=>Y.jsxs(gd,{to:`/session/${l.id}`,className:`session-card status-${l.status}`,children:[Y.jsx("div",{className:"session-repo",children:l.repo}),Y.jsx("div",{className:"session-branch",children:l.branch}),Y.jsxs("div",{className:"session-meta",children:[Y.jsx("span",{className:`status-badge ${l.status}`,children:l.status}),Y.jsxs("span",{className:"iteration",children:["Iteration ",l.iteration]})]})]},l.id))})]})}function SD({db:n,sessionId:t}){var r,l;const s=ll(u=>u.from({tasks:n.collections.tasks}).where(({tasks:c})=>Fi(c.session_id,t)).orderBy(({tasks:c})=>c.order,"asc"));return Y.jsxs("div",{className:"task-list",children:[Y.jsx("h3",{children:"Tasks"}),((r=s.data)==null?void 0:r.length)===0?Y.jsx("p",{className:"no-tasks",children:"No tasks yet"}):Y.jsx("ul",{children:(l=s.data)==null?void 0:l.map(u=>Y.jsxs("li",{className:`task status-${u.status}`,children:[Y.jsxs("span",{className:"task-status-icon",children:[u.status==="completed"&&"",u.status==="in_progress"&&"",u.status==="pending"&&""]}),Y.jsx("span",{className:"task-content",children:u.content})]},u.id))})]})}function bD({db:n,sessionId:t}){var l,u;const s=j.useRef(null),r=ll(c=>c.from({events:n.collections.claude_events}).where(({events:d})=>Fi(d.session_id,t)).orderBy(({events:d})=>d.sequence,"asc"));return j.useEffect(()=>{var c;(c=s.current)==null||c.scrollIntoView({behavior:"smooth"})},[(l=r.data)==null?void 0:l.length]),Y.jsxs("div",{className:"output-log",children:[Y.jsx("h3",{children:"Output"}),Y.jsxs("div",{className:"output-content",children:[(u=r.data)==null?void 0:u.map(c=>Y.jsx(wD,{event:c},c.id)),Y.jsx("div",{ref:s})]})]})}function wD({event:n}){var s,r,l,u;const t=n.message;switch(t.type){case"assistant":return Y.jsx("div",{className:"event assistant",children:(r=(s=t.message)==null?void 0:s.content)==null?void 0:r.map((c,d)=>Y.jsx(_D,{block:c},d))});case"user":return Y.jsx("div",{className:"event tool-result",children:Y.jsx("pre",{children:JSON.stringify((l=t.message)==null?void 0:l.content,null,2)})});case"result":return Y.jsx("div",{className:"event result",children:t.subtype==="success"?`Done: ${t.num_turns} turns, $${((u=t.total_cost_usd)==null?void 0:u.toFixed(2))||"?"}`:`Error: ${t.subtype}`});case"system":return Y.jsxs("div",{className:"event system",children:["Session: ",t.session_id]});default:return null}}function _D({block:n}){return n.type==="text"?Y.jsx("div",{className:"content-text",children:n.text}):n.type==="tool_use"?Y.jsxs("details",{className:"content-tool-use",children:[Y.jsxs("summary",{children:["[",n.name,"]"]}),Y.jsx("pre",{children:JSON.stringify(n.input,null,2)})]}):null}function ED({actions:n,request:t}){const[s,r]=j.useState("");j.useEffect(()=>{!t.responded&&document.hidden&&xD().then(()=>{TD("Wisp needs input",t.question)})},[t.id,t.responded,t.question]);const l=u=>{u.preventDefault(),s.trim()&&(n.submitInput({requestId:t.id,response:s}),r(""))};return t.responded?Y.jsxs("div",{className:"input-prompt responded",children:[Y.jsx("p",{className:"question",children:t.question}),Y.jsxs("p",{className:"response",children:["Responded: ",t.response]})]}):Y.jsx("div",{className:"input-prompt",children:Y.jsxs("form",{onSubmit:l,children:[Y.jsx("p",{className:"question",children:t.question}),Y.jsxs("div",{className:"input-row",children:[Y.jsx("input",{type:"text",value:s,onChange:u=>r(u.target.value),placeholder:"Type your response...",autoFocus:!0}),Y.jsx("button",{type:"submit",disabled:!s.trim(),children:"Send"})]})]})})}async function xD(){return"Notification"in window?Notification.permission==="granted"?!0:Notification.permission!=="denied"?await Notification.requestPermission()==="granted":!1:!1}function TD(n,t){if(Notification.permission==="granted"){const s=new Notification(n,{body:t});s.onclick=()=>{window.focus(),s.close()}}}function OD({db:n,actions:t}){var d,p;const{id:s}=TE(),r=ll(m=>m.from({sessions:n.collections.sessions}).where(({sessions:g})=>Fi(g.id,s)).limit(1)),l=ll(m=>m.from({requests:n.collections.input_requests}).where(({requests:g})=>Fi(g.session_id,s)).where(({requests:g})=>Fi(g.responded,!1)).orderBy(({requests:g})=>g.iteration,"desc").limit(1)),u=(d=r.data)==null?void 0:d[0],c=(p=l.data)==null?void 0:p[0];return s?u?Y.jsxs("div",{className:"session",children:[Y.jsxs("header",{className:"session-header",children:[Y.jsxs("div",{className:"session-info",children:[Y.jsx("h2",{children:u.repo}),Y.jsx("p",{className:"branch",children:u.branch})]}),Y.jsxs("div",{className:"session-status",children:[Y.jsx("span",{className:`status-badge ${u.status}`,children:u.status}),Y.jsxs("span",{className:"iteration",children:["Iteration ",u.iteration]})]})]}),Y.jsxs("div",{className:"session-content",children:[Y.jsx("aside",{className:"session-sidebar",children:Y.jsx(SD,{db:n,sessionId:s})}),Y.jsxs("section",{className:"session-main",children:[c&&Y.jsx(ED,{db:n,actions:t,request:c}),Y.jsx(bD,{db:n,sessionId:s})]})]})]}):Y.jsx("div",{className:"session-loading",children:Y.jsx("p",{children:"Loading session..."})}):Y.jsx(L0,{to:"/",replace:!0})}function zD(){const[n,t]=j.useState(null),[s,r]=j.useState(null),[l,u]=j.useState(!1),[c,d]=j.useState(null);j.useEffect(()=>{if(n){u(!0),d(null);const g=mD(n);return g.preload().then(()=>{r(g),u(!1)}).catch(y=>{d(y.message),u(!1),t(null)}),()=>g.close()}else r(null)},[n]);const p=()=>{t(null),r(null)};if(!n)return Y.jsx(gD,{onLogin:t});if(l)return Y.jsx("div",{className:"loading",children:Y.jsx("p",{children:"Connecting..."})});if(c)return Y.jsxs("div",{className:"error",children:[Y.jsxs("p",{children:["Connection error: ",c]}),Y.jsx("button",{onClick:()=>t(null),children:"Try Again"})]});if(!s)return null;const m=yD(s,n);return Y.jsx(c1,{children:Y.jsxs("div",{className:"app",children:[Y.jsxs("header",{className:"app-header",children:[Y.jsx("h1",{children:"Wisp"}),Y.jsx("button",{onClick:p,className:"logout-btn",children:"Logout"})]}),Y.jsx("main",{children:Y.jsxs(ZE,{children:[Y.jsx(lu,{path:"/",element:Y.jsx(vD,{db:s})}),Y.jsx(lu,{path:"/session/:id",element:Y.jsx(OD,{db:s,actions:m})}),Y.jsx(lu,{path:"*",element:Y.jsx(L0,{to:"/",replace:!0})})]})})]})})}q_.createRoot(document.getElementById("root")).render(Y.jsx(j.StrictMode,{children:Y.jsx(zD,{})}));
